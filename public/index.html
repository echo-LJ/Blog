<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Echoçš„åšå®¢</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="blog">
<meta property="og:type" content="website">
<meta property="og:title" content="Echoçš„åšå®¢">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Echoçš„åšå®¢">
<meta property="og:description" content="blog">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Echoçš„åšå®¢">
<meta name="twitter:description" content="blog">
  
    <link rel="alternate" href="/atom.xml" title="Echoçš„åšå®¢" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Echoçš„åšå®¢</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-plop" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/12/14/plop/" class="article-date">
  <time datetime="2020-12-14T02:32:08.000Z" itemprop="datePublished">2020-12-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/12/14/plop/">å‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºå·¥å…· ---- Plop</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><meta name="referrer" content="no-referrer"><br><a href="https://plopjs.com/documentation/#what-is-plop-" target="_blank" rel="noopener">plop</a>:å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå»ç”Ÿæˆã€å¤„ç†æ–‡ä»¶æ¨¡æ¿ä»£ç ç­‰.<br>ä½¿ç”¨æ¡ä»¶å‚è€ƒï¼šé¡¹ç›®çš„æ¯ä¸ªæ¨¡å—çš„ç»“æ„éª¨æ¶éƒ½éå¸¸ç›¸ä¼¼ï¼Œå¼•å…¥æ¨¡ç‰ˆå†…å®¹ç›¸åŒå°±å¯ä»¥ä½¿ç”¨Plopæ¥å®ç°è‡ªåŠ¨åŒ–äº†ï¼ŒPlopæ—¨åœ¨æ ¹æ®æ¨¡æ¿æ–‡ä»¶è‡ªåŠ¨åŒ–åˆ›å»ºç»„ä»¶ã€‚</p>
<h2 id="ä¸€ã€å®‰è£…plop"><a href="#ä¸€ã€å®‰è£…plop" class="headerlink" title="ä¸€ã€å®‰è£…plop"></a>ä¸€ã€å®‰è£…plop</h2><ul>
<li><p>å®‰è£…åˆ°é¡¹ç›®</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev plop</span><br></pre></td></tr></table></figure>
</li>
<li><p>å…¨å±€å®‰è£…plopï¼ˆå¯é€‰ï¼Œå»ºè®®å®‰è£…æ–¹ä¾¿ä½¿ç”¨ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g plop</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>å¦‚æœæ²¡æœ‰å…¨å±€å®‰è£…plopï¼Œé‚£ä¹ˆè¦åœ¨package.jsonä¸­çš„scriptä¸­å¢åŠ è„šæœ¬å‘½ä»¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;p&quot;: &quot;plop&quot;</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure></p>
<h4 id="äºŒã€åˆ›å»ºè·¯ç”±Generator"><a href="#äºŒã€åˆ›å»ºè·¯ç”±Generator" class="headerlink" title="äºŒã€åˆ›å»ºè·¯ç”±Generator"></a>äºŒã€åˆ›å»ºè·¯ç”±Generator</h4><p><strong>1ã€</strong> æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª<code>plop-template</code>æ–‡ä»¶å¤¹ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª<code>router</code>ç›®å½•ä½œä¸ºè·¯ç”±çš„<code>generator</code>,å¹¶åˆ›å»º<code>generator</code>çš„<code>js</code>æ–‡ä»¶å’Œhbsæ¨¡æ¿ï¼ˆ<a href="https://handlebarsjs.com/zh/guide/#%E4%BB%80%E4%B9%88%E6%98%AF-handlebars%EF%BC%9F" target="_blank" rel="noopener">Handlebarsæ¨¡æ¿è¯­æ³•</a>ï¼‰<br><img src="https://upload-images.jianshu.io/upload_images/11846892-eaca3ce1d5a18c20.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>##ä¸‰ã€ generatorä¹‹plop.jsç¼–å†™</p>
<ul>
<li><p>!!<code>plop.js</code>å³<code>prompt.js</code>æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">const &#123;notEmpty&#125; = require(&apos;../util.js&apos;);</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">    description: &apos;generate a controller&apos;, //æè¿°è¿™ä¸ªgenerateçš„ä½œç”¨</span><br><span class="line">    prompts: [&#123;</span><br><span class="line">        type: &apos;input&apos;, // é—®é¢˜çš„ç±»å‹</span><br><span class="line">        name: &apos;pathName&apos;, // é—®é¢˜å¯¹åº”å¾—åˆ°ç­”æ¡ˆçš„å˜é‡åï¼Œå¯ä»¥åœ¨acitonsä¸­ä½¿ç”¨è¯¥å˜é‡</span><br><span class="line">        message: &apos;æ–‡ä»¶åç§°&apos;, // åœ¨å‘½ä»¤è¡Œä¸­çš„é—®é¢˜</span><br><span class="line">        validate: notEmpty(&apos;pathName&apos;)</span><br><span class="line">    &#125;],</span><br><span class="line">    actions: (data) =&gt; &#123;// è¿™é‡Œå¯ä»¥é€šè¿‡dataè·å–è¾“å…¥çš„pathname</span><br><span class="line">        let name = data.pathName.split(&apos;/&apos;);</span><br><span class="line">        name = name[name.length - 1];</span><br><span class="line">        name[0] = name[0].toLocaleUpperCase();</span><br><span class="line">        const actions = [</span><br><span class="line">            &#123;</span><br><span class="line">                type: &apos;add&apos;, // æ“ä½œç±»å‹ æ·»åŠ æ–‡ä»¶</span><br><span class="line">                path: `app/controller/$&#123;data.pathName&#125;.ts`, //æ·»åŠ çš„æ–‡ä»¶çš„è·¯å¾„</span><br><span class="line">                templateFile: &apos;dev-scripts/plop-templates/router/index.hbs&apos;, //æ¨¡ç‰ˆæ–‡ä»¶çš„è·¯å¾„</span><br><span class="line">                data: &#123;</span><br><span class="line">                    name</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        ];</span><br><span class="line"></span><br><span class="line">        return actions;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>hbsæ¨¡æ¿æ–‡ä»¶<br>!!æ¨¡ç‰ˆæ–‡ä»¶ä½œç”¨ï¼šç¼–å†™ç”Ÿæˆæ–‡ä»¶çš„æ¨¡ç‰ˆå†…å®¹ï¼Œå¯è‡ªå·±æ ¹æ®é¡¹ç›®éœ€æ±‚è¿›è¡Œå®šä¹‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">require(&apos;module-alias/register&apos;);</span><br><span class="line">import BaseController from &apos;@base/baseController&apos;;</span><br><span class="line">import &#123; AController &#125; from &apos;@lib/aRouter&apos;;</span><br><span class="line"></span><br><span class="line">export default class &#123;&#123; name &#125;&#125;Controller extends BaseController &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="å››ã€plopä½¿ç”¨"><a href="#å››ã€plopä½¿ç”¨" class="headerlink" title="å››ã€plopä½¿ç”¨"></a>å››ã€plopä½¿ç”¨</h2><p>åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»ºplopfile.jsæ–‡ä»¶</p>
<ul>
<li>è®¾ç½®åˆ°plopfile.js<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">const routerGenerator = require(&apos;./dev-scripts/plop-templates/router/prompt&apos;);</span><br><span class="line"></span><br><span class="line">module.exports = function (plop) &#123;</span><br><span class="line">    plop.setGenerator(&apos;router&apos;, routerGenerator);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>##äº”ã€ è¿è¡Œplopã€ç”Ÿæˆæ–‡ä»¶</p>
<ul>
<li>æ‰§è¡Œæ­¥éª¤ä¸€ã€çš„è„šæœ¬å‘½ä»¤<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run p</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-7757ee07e09cb588.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<ul>
<li><p>è¾“å…¥æ–‡ä»¶å<br>!!åœ¨é…ç½®çš„è·¯å¾„ä¸‹ç”Ÿæˆå¯¹åº”çš„æ–‡ä»¶<br><img src="https://upload-images.jianshu.io/upload_images/11846892-f4864eb0598a116d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
</li>
<li><p>ç”Ÿæˆæ–‡ä»¶å³æ˜¯æ¨¡ç‰ˆçš„å†…å®¹<br><img src="https://upload-images.jianshu.io/upload_images/11846892-65892955b9098465.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
</li>
</ul>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-2814dec9f30b593b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>å¤§åŠŸå‘ŠæˆâœŒï¸âœŒï¸âœŒï¸</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/12/14/plop/" data-id="ckinycm4c001r2ep3gox950gx" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/å‰ç«¯å·¥ç¨‹åŒ–/">å‰ç«¯å·¥ç¨‹åŒ–</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-skeletons" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/26/skeletons/" class="article-date">
  <time datetime="2020-11-26T02:22:20.000Z" itemprop="datePublished">2020-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/26/skeletons/">skeletons</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="å‰ç«¯é¡¹ç›®æ¨¡ç‰ˆ-å¼€å‘æµç¨‹"><a href="#å‰ç«¯é¡¹ç›®æ¨¡ç‰ˆ-å¼€å‘æµç¨‹" class="headerlink" title="å‰ç«¯é¡¹ç›®æ¨¡ç‰ˆ-å¼€å‘æµç¨‹"></a>å‰ç«¯é¡¹ç›®æ¨¡ç‰ˆ-å¼€å‘æµç¨‹</h3><h5 id="1ã€åˆå§‹åŒ–é¡¹ç›®"><a href="#1ã€åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="1ã€åˆå§‹åŒ–é¡¹ç›®"></a>1ã€åˆå§‹åŒ–é¡¹ç›®</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ npm init </span><br><span class="line">// ç”Ÿæˆpackage.json</span><br><span class="line">$ commitizen init cz-conventional-changelog --save --save-exact </span><br><span class="line">// æ·»åŠ changelogä¾èµ–åŒ…</span><br></pre></td></tr></table></figure>
<ul>
<li>å®‰è£…ç”Ÿæˆ Change log çš„å·¥å…·</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g conventional-changelog-cli</span><br></pre></td></tr></table></figure>
<p>é…ç½®è„šæœ¬+æ‰§è¡Œ<code>npm run changelog</code>ç”Ÿæˆchangelogæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;changelog&quot;: &quot;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&quot;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<ul>
<li>é…ç½®<code>eslint</code>+<code>prettier</code><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev prettier eslint-plugin-prettier</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æ·»åŠ <code>.eslintrc.js</code>æ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&quot;lint-staged&quot;: &#123;</span><br><span class="line">    &quot;*.&#123;js,vue&#125;&quot;: [</span><br><span class="line">      &quot;npm run lint:es&quot;,</span><br><span class="line">      &quot;git add&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;*.ts&quot;: [</span><br><span class="line">      &quot;npm run lint:ts&quot;,</span><br><span class="line">      &quot;git add&quot;</span><br><span class="line">    ]</span><br><span class="line">  &#125;`</span><br></pre></td></tr></table></figure></p>
<p>æ·»åŠ <code>.eslintignore</code>æ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// é…ç½®è¯­æ³•æ£€æŸ¥å¿½ç•¥çš„æ–‡ä»¶</span><br></pre></td></tr></table></figure></p>
<p>é…ç½®eslint æ‰§è¡Œè„šæœ¬<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;lint:ts&quot;: &quot;cd server &amp;&amp; npm run lint&quot;,</span><br><span class="line">    &quot;lint:es&quot;: &quot;cd client &amp;&amp; npm run lint&quot;,</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>æ·»åŠ <code>.gitignore</code>æ–‡ä»¶</p>
</li>
<li><p>é…ç½®gitæäº¤è§„èŒƒ</p>
</li>
</ul>
<p>å‚è€ƒæ–‡ç« ï¼š<a href="https://www.jianshu.com/p/cdd749c624d9" target="_blank" rel="noopener">https://www.jianshu.com/p/cdd749c624d9</a><br>å‚è€ƒæ–‡ç« ï¼š<a href="https://www.cnblogs.com/daysme/p/7722474.html" target="_blank" rel="noopener">https://www.cnblogs.com/daysme/p/7722474.html</a><br>// å‚è€ƒæ–‡ç« ï¼š<a href="https://segmentfault.com/a/1190000017790694" target="_blank" rel="noopener">https://segmentfault.com/a/1190000017790694</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm i --save-dev husky lint-staged</span><br></pre></td></tr></table></figure></p>
<p>æ·»åŠ  hook å‡½æ•°<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&quot;husky&quot;: &#123;</span><br><span class="line">  &quot;hooks&quot;: &#123;</span><br><span class="line">    &quot;pre-commit&quot;: &quot;lint-staged&quot;,</span><br><span class="line">    // git commit æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œè¿™ä¸ªå‘½ä»¤åœ¨è°ƒèµ· lint-staged</span><br><span class="line">    // &quot;commit-msg&quot;: &quot;node scripts/verify-commit-msg.js&quot;</span><br><span class="line">    // æš‚æ—¶ä¸ç”¨ï¼Œå› ä¸ºé¡¹ç›®ä¸­ä½¿ç”¨changelogä¾èµ–</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">// validate-commit-msg ç”¨äºæ£€æŸ¥ Node é¡¹ç›®çš„ Commit message æ˜¯å¦ç¬¦åˆæ ¼å¼ã€‚</span><br></pre></td></tr></table></figure></p>
<p>é…ç½®<code>lint-staged</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&quot;lint-staged&quot;: &#123;</span><br><span class="line">    &quot;*.&#123;js,vue&#125;&quot;: [</span><br><span class="line">      &quot;npm run lint:es&quot;,</span><br><span class="line">      &quot;git add&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;*.ts&quot;: [</span><br><span class="line">      &quot;npm run lint:ts&quot;,</span><br><span class="line">      &quot;git add&quot;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="åˆ›å»ºserveé¡¹ç›®"><a href="#åˆ›å»ºserveé¡¹ç›®" class="headerlink" title="åˆ›å»ºserveé¡¹ç›®"></a>åˆ›å»ºserveé¡¹ç›®</h2><p>é€šè¿‡egg+tsæ¡†æ¶<br>å‚è€ƒæ–‡æ¡£ï¼š<a href="https://eggjs.org/zh-cn/intro/quickstart.html" target="_blank" rel="noopener">https://eggjs.org/zh-cn/intro/quickstart.html</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ mkdir server</span><br><span class="line">$ cd server</span><br><span class="line">$ npm init egg --type=ts</span><br><span class="line">$ npm i </span><br><span class="line">$</span><br></pre></td></tr></table></figure>
<ul>
<li>serveré¡¹ç›®ä¸­ä½¿ç”¨typescript<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --save-dev typescript tslint</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/11/26/skeletons/" data-id="ckinycm4j00252ep3mqqq8kpk" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-scss1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/11/20/scss1/" class="article-date">
  <time datetime="2020-11-20T06:34:56.000Z" itemprop="datePublished">2020-11-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/11/20/scss1/">vueé¡¹ç›®ä¸­å¼•å…¥å…¨å±€scsså˜é‡</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>vueé¡¹ç›®ä¸­è®¾ç½®å…¨å±€å¼•å…¥scssï¼Œä½¿æ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥ä½¿ç”¨å˜é‡</p>
<p>åœ¨Vueé¡¹ç›®ä¸­ä½¿ç”¨scss,å¦‚æœå†™äº†ä¸€å¥—å®Œæ•´çš„æœ‰å˜é‡çš„scssæ–‡ä»¶ã€‚é‚£ä¹ˆå°±éœ€è¦å…¨å±€å¼•å…¥ï¼Œè¿™æ ·åœ¨æ¯ä¸ªç»„ä»¶ä¸­ä½¿ç”¨ã€‚<br>å¯ä»¥åœ¨mian.jså…¨å±€å¼•å…¥ï¼Œä¸‹é¢æ˜¯ä½¿ç”¨æ–¹æ³•ã€‚</p>
<p>1ï¼š å®‰è£…node-sassã€sass-loaderã€style-loader<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install node-sass --save-dev</span><br><span class="line">npm install sass-loader --save-dev</span><br><span class="line">npm install style-loader --save-dev</span><br></pre></td></tr></table></figure></p>
<p>2ï¼š å®‰è£…sass-resources-loader ï¼ˆå¦‚æœä¸å®‰è£…çš„è¯å˜é‡ä¼šæŠ¥é”™ï¼‰</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install sass-resources-loader --save-dev</span><br></pre></td></tr></table></figure>
<p>3ï¼š ä¿®æ”¹buildä¸­çš„utils.js<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">scss: generateLoaders(&apos;sass&apos;),</span><br><span class="line"></span><br><span class="line">ä¿®æ”¹æˆ:</span><br><span class="line"></span><br><span class="line">scss: generateLoaders(&apos;sass&apos;).concat(</span><br><span class="line">  &#123;</span><br><span class="line">    loader: &apos;sass-resources-loader&apos;,</span><br><span class="line">    options: &#123;</span><br><span class="line">      resources: path.resolve(__dirname, &apos;../src/assets/main.scss&apos;) //è¿™é‡Œå†™è‡ªå·±çš„æ–‡ä»¶è·¯å¾„</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<p>åœ¨main.jsé‡Œé¢å¼•å…¥å³å¯ã€‚ æˆ–è€…æ˜¯ä¸åœ¨main.jså¼•å…¥ï¼Œå•ç‹¬åœ¨ç»„ä»¶å¼•å…¥ä¹Ÿå¯ä»¥ã€‚ åœ¨ç»„ä»¶ä¸­çš„styleæ ‡ç­¾æ·»åŠ lang=â€scssâ€ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/11/20/scss1/" data-id="ckinycm4i00232ep3c2zxig9w" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-ReactFragment" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/27/ReactFragment/" class="article-date">
  <time datetime="2020-07-27T09:55:39.000Z" itemprop="datePublished">2020-07-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/27/ReactFragment/">ReactFragmentç”¨æ³•ä»‹ç»</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>reactä¸­ä¸€ä¸ªå¸¸è§æ¨¡å¼æ˜¯ä¸€ä¸ªç»„ä»¶è¿”å›å¤šä¸ªå…ƒç´ ï¼ŒFragmentså…è®¸ä½ å°†å­åˆ—è¡¨åˆ†ç»„ï¼Œè€Œæ— éœ€åƒDOMæ·»åŠ é¢å¤–çš„èŠ‚ç‚¹ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">render() &#123;</span><br><span class="line">return (</span><br><span class="line">  &lt;React.Fragment&gt;</span><br><span class="line">    &lt;ChildA /&gt;</span><br><span class="line">    &lt;ChildB /&gt;</span><br><span class="line">    &lt;ChildC /&gt;</span><br><span class="line">  &lt;/React.Fragment&gt;</span><br><span class="line">);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸€ä¸ªå¸¸è§æ¨¡å¼æ˜¯ä¸ºä¸€ä¸ªç»„ä»¶è¿”å›ä¸€ä¸ªå­å…ƒç´ åˆ—è¡¨ã€‚ä»¥è¿™ä¸ªç¤ºä¾‹çš„ React ç‰‡æ®µä¸ºä¾‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Table extends React.Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;table&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">          &lt;Columns /&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">      &lt;/table&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä¸ºäº†æ¸²æŸ“æœ‰æ•ˆçš„ HTML ï¼Œ <columns> éœ€è¦è¿”å›å¤šä¸ª <td> å…ƒç´ ã€‚å¦‚æœä¸€ä¸ªçˆ¶ div åœ¨ <columns> çš„ render()<em>**</em> å‡½æ•°é‡Œé¢ä½¿ç”¨ï¼Œé‚£ä¹ˆæœ€ç»ˆçš„ HTML å°†æ˜¯æ— æ•ˆçš„ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Columns extends React.Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">        &lt;td&gt;Hello&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;World&lt;/td&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></columns></td></columns></p>
<p>åœ¨ <table> ç»„ä»¶ä¸­çš„è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;table&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;td&gt;Hello&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;World&lt;/td&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure></table></p>
<p>æ‰€ä»¥ï¼Œæˆ‘ä»¬ä»‹ç» Fragmentsã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Columns extends React.Component &#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return (</span><br><span class="line">      &lt;React.Fragment&gt;</span><br><span class="line">        &lt;td&gt;Hello&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;World&lt;/td&gt;</span><br><span class="line">      &lt;/React.Fragment&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨æ­£ç¡®çš„ <table> ç»„ä»¶ä¸­ï¼Œè¿™ä¸ªç»“æœè¾“å‡ºå¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;table&gt;</span><br><span class="line">  &lt;tr&gt;</span><br><span class="line">    &lt;td&gt;Hello&lt;/td&gt;</span><br><span class="line">    &lt;td&gt;World&lt;/td&gt;</span><br><span class="line">  &lt;/tr&gt;</span><br><span class="line">&lt;/table&gt;</span><br></pre></td></tr></table></figure></table></p>
<p>å¦‚æœå­å…ƒç´ éœ€è¦çˆ¶å…ƒç´ åŒ…è£¹èµ·æ¥ï¼Œä½†æ˜¯ä¸éœ€è¦æ¸²æŸ“çˆ¶å…ƒç´ ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨fragmentã€‚å…¶å®å®ƒçš„åŠŸèƒ½å’Œvueçš„templateä¸€æ ·ï¼Œéƒ½åªæ˜¯å ä½ï¼Œä¸æ¸²æŸ“ã€‚</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠ&lt;React.Fragment&gt;&lt;/React.Fragment&gt;ç®€å†™ä¸º&lt;&gt;&lt;/&gt;,çœ‹ç€åƒç©ºç»„ä»¶ï¼›</p>
<p>&lt;&gt;&lt;/&gt; æ˜¯ &lt;React.Fragment/&gt; çš„è¯­æ³•ç³–ã€‚<br>&lt;&gt;&lt;/&gt; è¯­æ³•ä¸èƒ½æ¥å—é”®å€¼æˆ–å±æ€§ã€‚</p>
<p>å¦‚æœä½ éœ€è¦ä¸€ä¸ªå¸¦ key çš„ç‰‡æ®µï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨ &lt;React.Fragment /&gt; ã€‚<br>ä¸€ä¸ªä½¿ç”¨åœºæ™¯æ˜¯æ˜ å°„ä¸€ä¸ªé›†åˆä¸ºä¸€ä¸ªç‰‡æ®µæ•°ç»„ â€” ä¾‹å¦‚ï¼šåˆ›å»ºä¸€ä¸ªæè¿°åˆ—è¡¨ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function Glossary(props) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;dl&gt;</span><br><span class="line">      &#123;props.items.map(item =&gt; (</span><br><span class="line">        // æ²¡æœ‰`key`ï¼Œå°†ä¼šè§¦å‘ä¸€ä¸ªkeyè­¦å‘Š</span><br><span class="line">        &lt;React.Fragment key=&#123;item.id&#125;&gt;</span><br><span class="line">          &lt;dt&gt;&#123;item.term&#125;&lt;/dt&gt;</span><br><span class="line">          &lt;dd&gt;&#123;item.description&#125;&lt;/dd&gt;</span><br><span class="line">        &lt;/React.Fragment&gt;</span><br><span class="line">      ))&#125;</span><br><span class="line">    &lt;/dl&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>key æ˜¯å”¯ä¸€å¯ä»¥ä¼ é€’ç»™ Fragment çš„å±æ€§ã€‚åœ¨å°†æ¥ï¼Œæˆ‘ä»¬å¯èƒ½å¢åŠ é¢å¤–çš„å±æ€§æ”¯æŒï¼Œæ¯”å¦‚äº‹ä»¶å¤„ç†ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š<a href="https://www.jianshu.com/p/36bb4d88f26c" target="_blank" rel="noopener">https://www.jianshu.com/p/36bb4d88f26c</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/27/ReactFragment/" data-id="ckinycm3k000t2ep3jw4ea9wm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-vueI18" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/27/vueI18/" class="article-date">
  <time datetime="2020-07-27T09:24:07.000Z" itemprop="datePublished">2020-07-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/27/vueI18/">vueé¡¹ç›®ä¸­å¼•å…¥&amp;ä½¿ç”¨å›½é™…åŒ–</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li>å›½é™…åŒ–æ€è·¯ï¼šå°†å½“å‰è¯­è¨€ä»£ç -å›½å®¶åœ°åŒºå¯¹ç…§è¡¨ï¼ˆzh-CNï¼‰æ”¾åˆ°cookieä¸­å’Œvuexä¸­,æ¯æ¬¡é€šè¿‡è¯»å–cookie&amp;vuexä¸­çš„è¯­è¨€ä»£ç ï¼Œæ¥å±•ç¤ºå¯¹åº”çš„è¯­è¨€åŒ…ï¼Œåœ¨åˆ‡æ¢è¯­è¨€çš„æ—¶å€™å°†è¯­è¨€ä»£ç å­˜å…¥åˆ°cookie&amp;vuexä¸­ï¼ˆä¿è¯åˆ·æ–°é¡µé¢åèƒ½è®°ä½ç”¨æˆ·é€‰æ‹©çš„è¯­è¨€ï¼‰ã€‚<br>####å¼•å…¥vue-i18n&amp;vuex&amp;js-cookie<br>vue-i18næ˜¯vueå›½é™…åŒ–ä¾èµ–åŒ…,vuexæ˜¯çŠ¶æ€ç®¡ç†ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save vue-i18n vuex js-cookie</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>åœ¨main.jsä¸­æ³¨å†Œå¼•å…¥å³å¯ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import VueI18n from &apos;vue-i18n&apos;</span><br><span class="line">import Cookies from &apos;js-cookie&apos;</span><br><span class="line">Vue.use(VueI18n)</span><br><span class="line">import store from &apos;vuex&apos;</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  i18n,</span><br><span class="line">  store,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  template: &apos;&lt;App/&gt;&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>å°ç¼–æ˜¯å°†å…¶æ”¾åœ¨store&amp;langä¹‹ä¸­,åœ¨main.jsä¸­å¼•å…¥ä¸¤ä¸ªæ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import store from &apos;./store&apos;</span><br><span class="line">import i18n from &apos;./lang&apos;</span><br><span class="line">// ç”±äºè¿™é‡Œç”¨åˆ°äº†elementç»„ä»¶åº“ï¼Œè¿™é‡Œéœ€è¦çš„åŒå­¦è‡ªè¡Œå®‰è£…element-ui</span><br><span class="line">// npm install element-ui</span><br><span class="line">//  Vue.use(Element, &#123;</span><br><span class="line">//  i18n: (key, value) =&gt; i18n.t(key, value)</span><br><span class="line">// &#125;)</span><br><span class="line">new Vue(&#123;</span><br><span class="line">  el: &apos;#app&apos;,</span><br><span class="line">  router,</span><br><span class="line">  i18n,</span><br><span class="line">  store,</span><br><span class="line">  components: &#123; App &#125;,</span><br><span class="line">  template: &apos;&lt;App/&gt;&apos;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>langæ–‡ä»¶å¤¹ï¼šå½“å‰ä»¥ä¸­è‹±æ–‡ä¸ºä¾‹ï¼Œéœ€è¦æ”¯æŒå¤šä¸ªè¯­è¨€åˆ™å¯æ·»åŠ åŒçº§è¯­è¨€åŒ…ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lang</span><br><span class="line">  |--index.js   //ä¸»æ–‡ä»¶</span><br><span class="line">  |</span><br><span class="line">  |-- zh.js      //ä¸­æ–‡è¯­è¨€åŒ…</span><br><span class="line">  |</span><br><span class="line">  |-- zh.js      //è‹±æ–‡è¯­è¨€åŒ…</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">`index.js`</span><br><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import VueI18n from &apos;vue-i18n&apos;</span><br><span class="line">import Cookies from &apos;js-cookie&apos;</span><br><span class="line">import elementEnLocale from &apos;element-ui/lib/locale/lang/en&apos; // element-ui lang</span><br><span class="line">import elementZhLocale from &apos;element-ui/lib/locale/lang/zh-CN&apos;// element-ui lang</span><br><span class="line">import enLocale from &apos;./en&apos;</span><br><span class="line">import zhLocale from &apos;./zh&apos;</span><br><span class="line"></span><br><span class="line">Vue.use(VueI18n)</span><br><span class="line"></span><br><span class="line">const messages = &#123;</span><br><span class="line">  en-US: &#123;</span><br><span class="line">    ...enLocale,</span><br><span class="line">    ...elementEnLocale</span><br><span class="line">  &#125;,</span><br><span class="line">  zh-CN: &#123;</span><br><span class="line">    ...zhLocale,</span><br><span class="line">    ...elementZhLocale</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const i18n = new VueI18n(&#123;</span><br><span class="line">  locale: Cookies.get(&apos;language&apos;) || &apos;en-US&apos;,</span><br><span class="line">  messages</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">export default i18n</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">`zh.js`</span><br><span class="line">  export default &#123;</span><br><span class="line">  login: &#123;</span><br><span class="line">    title: &apos;æ¬¢è¿&apos;</span><br><span class="line">    logIn: &apos;ç™»å½•&apos;</span><br><span class="line"> &#125;</span><br><span class="line">`en.js`</span><br><span class="line">export default &#123;</span><br><span class="line">  login: &#123;</span><br><span class="line">    title: &apos;Welcome&apos;,</span><br><span class="line">    logIn: &apos;Log in&apos;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å®ä¾‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;span&gt;&#123;&#123;$t(&apos;login.title&apos;)&#125;&#125;&lt;/span&gt;</span><br><span class="line">// åœ¨è¯­è¨€ä»£ç ä¸ºä¸­æ–‡ï¼ˆzh-CNï¼‰æ—¶,åˆ™å±•ç¤ºä¸ºï¼šæ¬¢è¿</span><br><span class="line">// åœ¨è¯­è¨€ä»£ç ä¸ºè‹±æ–‡ï¼ˆen-USï¼‰æ—¶,åˆ™å±•ç¤ºä¸ºï¼šWelcome&apos;</span><br></pre></td></tr></table></figure></p>
<p>storeæ–‡ä»¶å¤¹ï¼švue&amp;cookieä¸­å­˜å…¥è¯­è¨€ä»£ç ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">store</span><br><span class="line">  |--index.js   //ä¸»æ–‡ä»¶</span><br><span class="line">  |</span><br><span class="line">  |-- modules      //vuexå­æ¨¡å—æ–‡ä»¶</span><br><span class="line">          |</span><br><span class="line">          |-- language.js      //è¯­è¨€</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">`index.js`</span><br><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import Vuex from &apos;vuex&apos;</span><br><span class="line">import language from &apos;./modules/language&apos;</span><br><span class="line"></span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">const store = new Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    language</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">export default store</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">`language.js  `</span><br><span class="line">import Cookies from &apos;js-cookie&apos;</span><br><span class="line">import Cookies from &apos;js-cookie&apos;</span><br><span class="line"></span><br><span class="line">const app = &#123;</span><br><span class="line">  state: &#123;</span><br><span class="line">    language: Cookies.get(&apos;language&apos;) || &apos;en-US&apos; // é¡¹ç›®åˆå§‹åŒ–æ—¶ï¼Œé»˜è®¤ä¸ºè‹±æ–‡</span><br><span class="line">  &#125;,</span><br><span class="line">  mutations: &#123;</span><br><span class="line">    SET_LANGUAGE: (state, language) =&gt; &#123;</span><br><span class="line">      state.language = language</span><br><span class="line">      Cookies.set(&apos;language&apos;, language)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    language: state =&gt; state.language</span><br><span class="line">  &#125;,</span><br><span class="line">  actions: &#123;</span><br><span class="line">    setLanguage(&#123; commit &#125;, language) &#123;</span><br><span class="line">      commit(&apos;SET_LANGUAGE&apos;, language)</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default app</span><br></pre></td></tr></table></figure>
<p>åœ¨é¡¹ç›®éœ€è¦åˆ‡æ¢è¯­è¨€çš„ä½ç½®ï¼Œæ·»åŠ å¦‚ä¸‹äº‹ä»¶å³å¯ï¼Œï¼ˆäº‹ä»¶ï¼šå°†è¯­è¨€ä»£ç å­˜å…¥åˆ°vuexä¸­ï¼Œvuexä¸­è°ƒç”¨setcookieå³å¯å­˜å…¥åˆ°cookieä¸­,å¹¶æ”¹å˜i18nä¸­çš„localå³å¯åˆ‡æ¢è¯­è¨€ã€‚ï¼‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">handleSetLanguage(lang) &#123;</span><br><span class="line">  this.$i18n.locale = lang</span><br><span class="line">  this.$store.dispatch(&apos;setLanguage&apos;, lang)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä»¥ä¸Šå³å¯å®ç°å›½é™…åŒ–ï¼ï¼ï¼ï¼ï¼<br>ğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜ŠğŸ˜Š</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/27/vueI18/" data-id="ckinycm4p002f2ep31c5yu0k1" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-fixProject" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/27/fixProject/" class="article-date">
  <time datetime="2020-07-27T09:22:37.000Z" itemprop="datePublished">2020-07-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/27/fixProject/">å¦‚ä½•ä¼˜åŒ–é¡¹ç›®</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ä¸€äº›æœ‰æ„æ€çš„loader-å’Œ-plugins"><a href="#ä¸€äº›æœ‰æ„æ€çš„loader-å’Œ-plugins" class="headerlink" title="ä¸€äº›æœ‰æ„æ€çš„loader å’Œ plugins"></a>ä¸€äº›æœ‰æ„æ€çš„loader å’Œ plugins</h2><hr>
<h4 id="å¦‚ä½•è‡ªåŠ¨åŠ è½½"><a href="#å¦‚ä½•è‡ªåŠ¨åŠ è½½" class="headerlink" title="å¦‚ä½•è‡ªåŠ¨åŠ è½½"></a>å¦‚ä½•è‡ªåŠ¨åŠ è½½</h4><p><code>require.context</code>ï¼šæ ¹æ®è‡ªå®šçš„è§„åˆ™è·å–éœ€è¦çš„å†…å®¹ã€‚</p>
<blockquote>
<p>è§£å†³å›°æ‰°ï¼šæ–°å¢æˆ–å‡å°‘é¡µé¢æ¯æ¬¡éœ€è¦æ›´æ”¹è·¯ç”±é…ç½®ï¼Ÿ</p>
</blockquote>
<ul>
<li>ä»¥vueé¡¹ç›®ä¸ºä¾‹ï¼Œå®ç°åŠ¨æ€é…ç½®è·¯ç”±ã€‚</li>
</ul>
<p>åœ¨vueçš„componentä¸­æŒ‰ç…§å¦‚ä¸‹æ ¼å¼é…ç½®é¡µé¢ã€‚<br><img src="https://upload-images.jianshu.io/upload_images/11846892-47016d33b4647d29.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<blockquote>
<p>mode (æ¨¡å—åç§°)</p>
<blockquote>
<p>index.routes.js (è¯¥æ¨¡å—ä¸‹è·¯ç”±è§£æé…ç½®)<br>pages (æ–‡ä»¶ç»Ÿä¸€åç§°)</p>
<blockquote>
<p>mode.index.vue (æ¨¡å—ä¸‹é»˜è®¤é¡µé¢)<br>mode.resource.vue  (æ¨¡å—ä¸‹å…¶ä»–é¡µé¢)</p>
</blockquote>
</blockquote>
</blockquote>
<p>åœ¨modeä¸­çš„index.routes.jsä¸­é…ç½®è·¯ç”±è§£æä»£ç ,ä¼šè‡ªåŠ¨ç”Ÿæˆroutes<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">// ç¬¬1ä¸ªå‚æ•°ï¼š è·¯å¾„</span><br><span class="line">// ç¬¬2ä¸ªå‚æ•°: æ˜¯å¦éå†1å‚æ•°ä¸‹é¢çš„å­æ–‡ä»¶å¤¹</span><br><span class="line">// ç¬¬3ä¸ªå‚æ•°ï¼š æ­£åˆ™åŒ¹é…å¯¹åº”åç¼€çš„æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">let r = require.context(&apos;./pages&apos;, false, /.vue/);</span><br><span class="line">// ræ˜¯ä¸€ä¸ªfunc,ç›´æ¥è°ƒç”¨ä¼šæŠ¥é”™ã€‚</span><br><span class="line">let routesArr = [];</span><br><span class="line">r.keys().forEach((key) =&gt; &#123;</span><br><span class="line">  console.log(r(key))</span><br><span class="line">  let _keyArr = key.split(&apos;.&apos;);</span><br><span class="line">  if (key.indexOf(&apos;index&apos;) != -1) &#123;</span><br><span class="line">    routesArr.push (&#123;</span><br><span class="line">      path: _keyArr[1],</span><br><span class="line">      name: _keyArr[1],</span><br><span class="line">      component: r(key).default</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    routesArr.push (&#123;</span><br><span class="line">      path: `$&#123;_keyArr[1]&#125;/$&#123;_keyArr[2]&#125;`,</span><br><span class="line">      name: _keyArr[1],</span><br><span class="line">      component: r(key).default</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">export default routesArr</span><br></pre></td></tr></table></figure></p>
<p>åœ¨æ€»è·¯ç”±åœ°å€ä¸‹å¼•ç”¨å„ä¸ªæ¨¡å—ä¸‹é¢çš„è·¯ç”±ï¼š</p>
<p>åœ¨router &gt; index.jsé…ç½®å¦‚ä¸‹ä»£ç ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">let r = require.context(&apos;./components&apos;, true, /\.routes\.js/);</span><br><span class="line">let routesArr: any[] = [];</span><br><span class="line">r.keys().forEach((key) =&gt; &#123;</span><br><span class="line">  console.log(r(key));</span><br><span class="line">  routesArr = routesArr.concat(r(key).defalut);</span><br><span class="line">&#125;)</span><br><span class="line">export const routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: &quot;/&quot;,</span><br><span class="line">    name: &apos;Home&apos;,</span><br><span class="line">    components:Home</span><br><span class="line">  &#125;,</span><br><span class="line">  ...routesArr</span><br><span class="line">];</span><br></pre></td></tr></table></figure></p>
<p>ç¼ºç‚¹ï¼š<br>  1.ä¸èƒ½æŒ‰éœ€å¼•å…¥<br>  2.ä¸èƒ½å®ç°åŠ¨æ€è·¯ç”±ã€‚<br>ä¼˜ç‚¹ï¼š<br>  1.è§„èŒƒé¡¹ç›®ç»“æ„+æ–‡ä»¶å‘½å+è·¯ç”±å‘½å<br>  2.å‡å°‘é…ç½®è·¯ç”±çš„å›°æ‰°</p>
<h2 id="å¦‚ä½•ä¼˜åŒ–æ‰“åŒ…"><a href="#å¦‚ä½•ä¼˜åŒ–æ‰“åŒ…" class="headerlink" title="å¦‚ä½•ä¼˜åŒ–æ‰“åŒ…"></a>å¦‚ä½•ä¼˜åŒ–æ‰“åŒ…</h2><hr>
<h4 id="Dllä¼˜åŒ–"><a href="#Dllä¼˜åŒ–" class="headerlink" title="Dllä¼˜åŒ–"></a>Dllä¼˜åŒ–</h4><p>åŸç†ï¼š å‡å°‘å¤„ç†å†…å®¹å’Œæ­¥éª¤<br>js - ç¬¬ä¸‰æ–¹åº“ï¼š vue / vue-router / axios /loadsh (åªå‹ç¼©æ‰“åŒ…ä¸€æ¬¡,ç¼“å­˜åˆ°é™æ€æ–‡ä»¶ä¸­)</p>
<p>æ­¥éª¤ï¼š é¢„å¤„ç†ç¬¬ä¸‰æ–¹åº“ -&gt; æ‰“åŒ…å…¶ä»–æ–‡ä»¶ã€‚</p>
<ul>
<li>ä»¥vueé¡¹ç›®ä¸ºä¾‹ï¼Œå°è£…Dllä¼˜åŒ–ã€‚</li>
</ul>
<p>åœ¨vueé¡¹ç›®çš„bulidæ–‡ä»¶ä¸‹æ–°å»ºwebpack.dll.jsæ–‡ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">var path = require(&apos;path&apos;)</span><br><span class="line">var webpack = require(&apos;webpack&apos;)</span><br><span class="line">var config = require(&apos;../config&apos;)</span><br><span class="line"></span><br><span class="line">module.exports = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    // å®šä¹‰æå‰å¤„ç†çš„æ–‡ä»¶</span><br><span class="line">    vendor: [&apos;vue/dist/vue.esm.js&apos;, &apos;vue-router&apos;]</span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    // å°†é¢„å¤„ç†æ‰“åŒ…å¥½çš„æ–‡ä»¶èµ„æºï¼Œæ”¾åœ¨é™æ€æ–‡ä»¶å¤¹ä¸­ã€‚</span><br><span class="line">    path: path.join(__dirname, &apos;../static/js&apos;),</span><br><span class="line">    filename: &apos;[name].dll.js&apos;,</span><br><span class="line">    library: &apos;[name]_library&apos;</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    // åœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªé€šçŸ¥ï¼Œå‘½åä¸º[name]_manifest.json</span><br><span class="line">    new webpack.DllPlugin(&#123;</span><br><span class="line">      path:path.join(__dirname,&apos;.&apos;, &apos;[name]-manifest.json&apos;),</span><br><span class="line">      name: &apos;[name]_library&apos; // å¯¹åº”outputä¸­çš„library</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨package.json çš„ <code>scripts</code>ä¸­é…ç½®npm run dll å‘½ä»¤<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;dll&quot;: &quot;webpack --config build/webpack.dll.js&quot;</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åæ‰§è¡Œ<code>npm run dll</code>å‘½ä»¤çœ‹ä¸€ä¸‹æ‰“åŒ…æ‰€éœ€è¦çš„æ—¶é—´<br><img src="https://upload-images.jianshu.io/upload_images/11846892-fafb831343c335b4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>ç„¶ååœ¨æ‰§è¡Œä¸€ä¸‹<code>npm run build</code> å‘½ä»¤æŸ¥çœ‹ä¸€ä¸‹åŸå§‹æ‰“åŒ…æ‰€éœ€è¦çš„æ—¶é—´<br><img src="https://upload-images.jianshu.io/upload_images/11846892-d5d9ff566fdbde19.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>æ‰§è¡Œ<code>npm run dll</code>å‘½ä»¤ä¹‹åä¼šå‘ç°åœ¨<code>bulid</code>æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆäº†<br><code>vendor-manifest.json</code>,åœ¨<code>static/js</code>ä¸‹ç”Ÿæˆäº†<code>vendor.dll.js</code>ã€‚<br><img src="https://upload-images.jianshu.io/upload_images/11846892-4cf356217f7b1eb0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><img src="https://upload-images.jianshu.io/upload_images/11846892-4e1610e26c92530e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>ç„¶ååœ¨<code>bulid/webpack.prod.conf.js</code>ä¸­é…ç½®æ­£å¸¸æ‰“åŒ…ä¸‹çš„æ–‡ä»¶ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">    new webpack.DllReferencePlugin(&#123;</span><br><span class="line">      //context: åœ¨htmlä¸­å¼•å…¥çš„è·¯å¾„ã€‚</span><br><span class="line">      context: path.join(__dirname, &apos;..&apos;),</span><br><span class="line">      manifest: require(&apos;./vendor-manifest.json&apos;)</span><br><span class="line">    &#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>æœ€ååœ¨æ‰§è¡Œä¸€ä¸‹<code>npm run build</code> å‘½ä»¤æŸ¥çœ‹ä¸€ä¸‹dllå¤„ç†ä¹‹åæ‰“åŒ…æ‰€éœ€è¦çš„æ—¶é—´<br><img src="https://upload-images.jianshu.io/upload_images/11846892-cd9552fdd529d347.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>å¾ˆå®Œç¾çš„èŠ‚çº¦äº†ä¸€äº›æ—¶é—´ï¼Œæ—¶é—´å°±æ˜¯é‡‘é’±ï¼Œæ—¶é—´å°±æ˜¯ç”Ÿå‘½ã€‚</p>
<h4 id="å¦‚ä½•å¼€å‘æ’ä»¶ä¸loader"><a href="#å¦‚ä½•å¼€å‘æ’ä»¶ä¸loader" class="headerlink" title="å¦‚ä½•å¼€å‘æ’ä»¶ä¸loader"></a>å¦‚ä½•å¼€å‘æ’ä»¶ä¸loader</h4><hr>
<blockquote>
<p>ç¤ºä¾‹é—®é¢˜ï¼šé¡¹ç›®vuexè¿‡å¤§ï¼Œå¯¼è‡´æ‰“åŒ…ç»“æœè¿‡å¤§ã€‚<br>å¤„ç†ï¼š æŒ‰ç»„ä»¶å¼‚æ­¥åŠ è½½vuex</p>
</blockquote>
<p>åœ¨src/storeæ–‡ä»¶å¤¹ä¸‹indexæ–‡ä»¶ä¸­å­˜å‚¨é¦–å±åŠ è½½çš„vuexæ•°æ®;<br>åœ¨src/store/model/.. æ–‡ä»¶å¤¹ä¸‹å­˜å‚¨å…¶ä»–æ¨¡å—éœ€è¦æ‡’åŠ è½½çš„vuexæ•°æ®;<br><img src="https://upload-images.jianshu.io/upload_images/11846892-5b5262f39bc46f2c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>åœ¨srcä¸‹æ–°å»ºvuePlugins/indexå°è£…æ’ä»¶<br><img src="https://upload-images.jianshu.io/upload_images/11846892-8799f362b4bdfdff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">let a = &#123;</span><br><span class="line">  install:function(vue) &#123;</span><br><span class="line">    vue.mixin(&#123;</span><br><span class="line">      beforeCreate:function()&#123;</span><br><span class="line">        if (this.$options.isVuex) &#123;</span><br><span class="line">          // åœ¨å¯¹åº”é¡µé¢ä¸­é…ç½®store</span><br><span class="line">          // storeä¸­å­˜å‚¨éœ€è¦æŒ‰éœ€åŠ è½½çš„vuexç›¸å…³çš„jsæ–‡ä»¶</span><br><span class="line">          let store = this.$options.store;</span><br><span class="line">          // åŠ¨æ€å¼•å…¥vuex</span><br><span class="line">          // æ³¨æ„ï¼šimportçš„å‚æ•°ä¸èƒ½ä¼ å…¥å˜é‡ã€‚</span><br><span class="line">          import(&apos;../store/model/&apos;+ store).then((res) =&gt; &#123;</span><br><span class="line">            // registerModulæ–¹æ³•æ˜¯vuexçš„æ–¹æ³•;</span><br><span class="line">            this.$store.registerModule(store, res.default);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">export default a;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨main.jså¼•å…¥æ’ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import Vuepl from &quot;./vuePlugins&quot;;</span><br><span class="line">Vue.use(Vuepl);</span><br></pre></td></tr></table></figure></p>
<p>åœ¨éœ€è¦æ‡’åŠ è½½vuexçš„é¡µé¢é…ç½®<br><img src="https://upload-images.jianshu.io/upload_images/11846892-c4e24d770a72ec58.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">isVuex:true;</span><br><span class="line">store: &apos;modelIndex&apos;;</span><br></pre></td></tr></table></figure></p>
<p>ğŸ‘Œäº†ï¼ä»¥ä¸Šå°±æ˜¯vuexå®ç°æŒ‰éœ€åŠ è½½çš„æ —å­ã€‚</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/27/fixProject/" data-id="ckinycm3z00182ep3m10emna4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-axios1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/27/axios1/" class="article-date">
  <time datetime="2020-07-27T09:21:00.000Z" itemprop="datePublished">2020-07-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/27/axios1/">Axiosæºç è§£æ</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="axioså¦‚ä½•å®ç°å¤šç§è¯·æ±‚æ–¹å¼"><a href="#axioså¦‚ä½•å®ç°å¤šç§è¯·æ±‚æ–¹å¼" class="headerlink" title="axioså¦‚ä½•å®ç°å¤šç§è¯·æ±‚æ–¹å¼"></a>axioså¦‚ä½•å®ç°å¤šç§è¯·æ±‚æ–¹å¼</h4><hr>
<p><code>åŸç†</code>ï¼š é€šè¿‡æ•°ç»„å¾ªç¯æ¥æ‰¹é‡æ³¨å†Œæ¥å£ï¼Œç»Ÿä¸€è°ƒç”¨åŒä¸€ä¸ªæ–¹æ³•ï¼Œå‚æ•°å·®å¼‚ï¼šé€šè¿‡until.merge()æ–¹æ³•æ¥è§£å†³å·®å¼‚ã€‚ç±»å‹ï¼šé€šè¿‡æ–¹æ³•å¾ªç¯çš„methodæ¥åŒºåˆ†ã€‚<br><code>å®ç°é€»è¾‘</code>ï¼š</p>
<ol>
<li>ç”Ÿæˆaxioså®ä¾‹ï¼›</li>
<li>é€šè¿‡bindæ–¹æ³•å°†axiosåŸå‹ä¸­çš„requestæ–¹æ³•æŒ‡å‘axioså®ä¾‹ï¼›</li>
<li>é€šè¿‡extendæ–¹æ³•å°†axioså®ä¾‹å’Œaxiosçš„åŸå‹é“¾åˆå¹¶å¹¶æŒ‡å‘context<br>ç›®çš„ï¼š æ‰©å±•axiosçš„è°ƒç”¨æ–¹æ³•ã€‚ä½¿axioså¯ä»¥é€šè¿‡axios.getå»è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åŸå‹é“¾å»è°ƒç”¨ã€‚</li>
<li>åˆ©ç”¨é€šè¿‡æ•°ç»„å¾ªç¯æ¥æ‰¹é‡æ³¨å†Œæ¥å£ï¼Œç»Ÿä¸€è°ƒç”¨åŒä¸€ä¸ªæ–¹æ³•.<br>é€šè¿‡until.merge()æ–¹æ³•æ¥è§£å†³å‚æ•°å·®å¼‚ã€‚</li>
</ol>
<p><code>ä»£ç ç¤ºä¾‹</code>ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">function Axios (instanceConfig) &#123;</span><br><span class="line">  this.default = instanceConfig;</span><br><span class="line">&#125;</span><br><span class="line">/** </span><br><span class="line"> * bind(&#123;&#125;, &#123;&#125;)</span><br><span class="line"> * bind:å°†ç¬¬ä¸€ä¸ªå‚æ•°çš„æŒ‡å‘ç¬¬äºŒä¸ªå‚æ•°;</span><br><span class="line"> * extend(&#123;&#125;, &#123;&#125;)</span><br><span class="line"> * extend:å°†ä¸¤ä¸ªå¯¹è±¡è¿›è¡Œåˆå¹¶;</span><br><span class="line">*/</span><br><span class="line">function creatInstance (defaultConfig) &#123;</span><br><span class="line">  let context = new Axios(defaultConfig);</span><br><span class="line">  // å°†Axiosä¸­çš„requestæ–¹æ³•ï¼ŒæŒ‡å‘æ–°çš„Axioså¯¹è±¡</span><br><span class="line">  let instance = bind(Axios.prototype.request, context);</span><br><span class="line">  // å°†å‰ä¸¤ä¸ªå¯¹è±¡åˆå¹¶ï¼Œåˆå¹¶åçš„thisæŒ‡å‘context</span><br><span class="line">  // ç›®çš„ï¼šæ‰©å±•axiosçš„è°ƒç”¨æ–¹æ³•ã€‚ä½¿axioså¯ä»¥é€šè¿‡axios.getå»è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡åŸå‹é“¾å»è°ƒç”¨ã€‚</span><br><span class="line">  extend(instance, Axios.prototype, context);</span><br><span class="line">  return instance;</span><br><span class="line">&#125;</span><br><span class="line">// axios.get()</span><br><span class="line"></span><br><span class="line">let arr = [&apos;get&apos;, &apos;post&apos;, &apos;push &apos; ,&apos;delete&apos;];</span><br><span class="line"></span><br><span class="line">arr.forEach((method) =&gt; &#123;</span><br><span class="line">  // å¾ªç¯åœ¨åŸå‹é“¾ä¸Šæ³¨å†Œè¯·æ±‚æ–¹æ³•ã€‚</span><br><span class="line">  Axios.prototype[method] = function(url,config)&#123;</span><br><span class="line">    // config :postçš„data,</span><br><span class="line">    // util.merge :axiosä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼ŒåŸç†å¯¹è±¡åˆå¹¶</span><br><span class="line">    return this.request(util.merge(config || &#123;&#125;, &#123;</span><br><span class="line">        methods: method,</span><br><span class="line">        url: url</span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<h4 id="axioså¦‚ä½•å®ç°è¯·æ±‚æ‹¦æˆª"><a href="#axioså¦‚ä½•å®ç°è¯·æ±‚æ‹¦æˆª" class="headerlink" title="axioså¦‚ä½•å®ç°è¯·æ±‚æ‹¦æˆª"></a>axioså¦‚ä½•å®ç°è¯·æ±‚æ‹¦æˆª</h4><hr>
<p><code>å®ç°é€»è¾‘</code>ï¼š</p>
<ol>
<li>åœ¨axiosä¸­é…ç½®æ‹¦æˆªå™¨ <code>interceptors</code>ï¼Œæ‹¦æˆªå™¨åŒ…å«requestå±æ€§ï¼Œå’Œresponseå±æ€§ï¼Œä¸¤ä¸ªå±æ€§å¯¹åº”æ‹¦æˆªå™¨ç®¡ç†æ–¹æ³•interceptorsMannerã€‚</li>
<li>interceptorsManneræ–¹æ³•ä¸­é…ç½®handlerå±æ€§ï¼Œhandlerå±æ€§ç”¨äºå­˜æ”¾useåŠ å…¥çš„æ–¹æ³•ã€‚</li>
<li>åœ¨interceptorsMannerçš„åŸå‹ä¸Šé…ç½®useæ–¹æ³•ï¼Œuseræ–¹æ³•å°†å‚æ•°fulilled, rejectedä¸¤ä¸ªæ–¹æ³•å­˜å…¥å¯¹è±¡ä¸­å¹¶å­˜å…¥åˆ°handlerä¸­ã€‚</li>
<li>åœ¨axiosçš„åŸå‹çš„requestæ–¹æ³•ä¸­æ³¨å†Œæ•°ç»„chain  =  [â€˜dispatchRequestâ€™, undefined];<br>å…¶ä¸­ï¼šrequest ä¼šé€šè¿‡dispatchRequestå°†è¯·æ±‚å‘é€å‡ºå»ï¼›<br>4.1 å¾ªç¯interceptors.request.handlerå°†ç”¨æˆ·å­˜å…¥çš„è¯·æ±‚æ‹¦æˆªçš„ä¸¤ä¸ªå‚æ•°æ–¹æ³•é€šè¿‡unshiftåˆ†åˆ«å­˜æ”¾åˆ°æ•°ç»„ä¸­ã€‚<br>4.2 å¾ªç¯interceptors.response.handlerå°†ç”¨æˆ·å­˜å…¥çš„å“åº”æ‹¦æˆªçš„ä¸¤ä¸ªå‚æ•°æ–¹æ³•é€šè¿‡shiftåˆ†åˆ«å­˜æ”¾åˆ°æ•°ç»„ä¸­ã€‚<br>4.3 æ³¨å†Œpromise = Promise.resolve()ï¼›<br>4.4 å¾ªç¯chainï¼Œé€šè¿‡promiseæ‰§è¡Œchainæ•°ç»„ä¸­çš„æ–¹æ³•ã€‚<br><code>ç¤ºä¾‹ä»£ç </code>ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">function Axios (instanceConfig) &#123;</span><br><span class="line">  this.default = instanceConfig;</span><br><span class="line">  this.interceptors=&#123;</span><br><span class="line">    request: new interceptorsManner(),</span><br><span class="line">    response: new interceptorsManner(),</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Axios.prototype.request = function()&#123;</span><br><span class="line">  // request ä¼šé€šè¿‡dispatchRequestå°†è¯·æ±‚å‘é€å‡ºå»</span><br><span class="line">  let chain = [&apos;dispatchRequest&apos;, undefined];</span><br><span class="line">  let promise = Promise.resolve();</span><br><span class="line">  this.interceptors.request.handler.forEach((interceptor) =&gt; &#123;</span><br><span class="line">    chain.unshift(interceptor.fulilled, interceptor.rejected)</span><br><span class="line">  &#125;)</span><br><span class="line">  this.interceptors.response.handler.forEach((interceptor) =&gt; &#123;</span><br><span class="line">    chain.unshift(interceptor.fulilled, interceptor.rejected)</span><br><span class="line">  // chain = [console.log(1), console.log(2),dispatchRequest,undefined, console.log(3), console.log(4)]</span><br><span class="line">  &#125;)</span><br><span class="line">  while(chain.length) &#123;</span><br><span class="line">    promise = promise.then(chain.shift(), chain.shift())</span><br><span class="line">    // ä¸¾ä¾‹</span><br><span class="line">    // ç¬¬ä¸€æ¬¡å¾ªç¯æ‰§è¡Œè¯·æ±‚æ‹¦æˆªå‰çš„æˆåŠŸå’Œå¤±è´¥æ–¹æ³•</span><br><span class="line">    // ç¬¬äºŒæ¬¡å¾ªç¯æ‰§è¡Œå‘é€è¯·æ±‚å’Œundefined;</span><br><span class="line">    // ç¬¬ä¸€æ¬¡å¾ªç¯æ‰§è¡Œå“åº”æ‹¦æˆªå‰çš„æˆåŠŸå’Œå¤±è´¥æ–¹æ³•</span><br><span class="line">  &#125;</span><br><span class="line">  // ä¾æ¬¡æ‰§è¡Œï¼Œå¹¶ä¿è¯ä¸Šä¸€ä¸ªæ–¹æ³•å®Œæˆä¹‹ååœ¨ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªæ–¹æ³•ã€‚</span><br><span class="line">&#125;;</span><br><span class="line">function interceptorsManner () &#123;</span><br><span class="line">  this.handler= []; //å­˜æ”¾useåŠ å…¥çš„æ–¹æ³•</span><br><span class="line">&#125;</span><br><span class="line">interceptorsManner.prototype.use = function use(fulilled, rejected) &#123;</span><br><span class="line">  this.handler.push(&#123;</span><br><span class="line">    fulilled:  fulilled,</span><br><span class="line">    rejected: rejected</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">//è¯·æ±‚æ‹¦æˆªå™¨&amp;å“åº”æ‹¦æˆªå™¨çš„ä½¿ç”¨æ–¹æ³•</span><br><span class="line">Axios.interceptors.request.use(function()&#123;</span><br><span class="line"></span><br><span class="line">&#125;,function()&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line">Axios.interceptors.response.use(function()&#123;</span><br><span class="line"></span><br><span class="line">&#125;,function()&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>å®Œç¾ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼<br>æ¥ä¸‹æ¥ä½ å¯èƒ½æƒ³è¦äº†è§£çš„ï¼š<br><a href="https://www.npmjs.com/package/axios" target="_blank" rel="noopener">axiosæ–‡æ¡£åœ°å€</a><br><a href="https://www.jianshu.com/p/7f7b655bd3c4" target="_blank" rel="noopener">Axioså°è£…ç¤ºä¾‹ä»£ç +å°è£…æ€è·¯</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/27/axios1/" data-id="ckinycm3s000z2ep3d1jbgstm" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-reactCom2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/27/reactCom2/" class="article-date">
  <time datetime="2020-07-27T09:17:30.000Z" itemprop="datePublished">2020-07-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/27/reactCom2/">ä½¿ç”¨reactæ­å»ºç»„ä»¶åº“--radioç»„ä»¶</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>####å‰è¨€<br>ä½ åº”è¯¥éœ€è¦ï¼š<a href="[https://www.jianshu.com/p/8ef96e06adcc](https://www.jianshu.com/p/8ef96e06adcc">ä½¿ç”¨reactæ­å»ºç»„ä»¶åº“ï¼šreact+typescript+storybook</a><br>)</p>
<p>##1. å®‰è£…ä¾èµ–<br>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <code>rc-checkbox</code>ï¼š <a href="https://www.npmjs.com/package/rc-checkbox" target="_blank" rel="noopener">react rc-checkbox component</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install rc-checkbox</span><br></pre></td></tr></table></figure>
<p>##2. ç¼–å†™ç»„ä»¶</p>
<ul>
<li><p>æ–°å»º <code>src/components/Radio/radio.tsx</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &apos;react&apos;;</span><br><span class="line">import RcCheckbox from &apos;rc-checkbox&apos;;</span><br><span class="line">import classNames from &apos;classnames&apos;;</span><br><span class="line">import &#123; RadioProps, RadioChangeEvent &#125; from &apos;./interface&apos;;</span><br><span class="line">import &#123; ConfigContext &#125; from &apos;../config-provider&apos;;</span><br><span class="line">import RadioGroupContext from &apos;./context&apos;;</span><br><span class="line">import &#123; composeRef &#125; from &apos;../_util/ref&apos;;</span><br><span class="line">const InternalRadio: React.ForwardRefRenderFunction&lt;unknown, RadioProps&gt; = (props, ref) =&gt; &#123;</span><br><span class="line">  const context = React.useContext(RadioGroupContext);</span><br><span class="line">  const &#123; getPrefixCls, direction &#125; = React.useContext(ConfigContext);</span><br><span class="line">  const innerRef = React.useRef&lt;HTMLElement&gt;();</span><br><span class="line">  const mergedRef = composeRef(ref, innerRef);</span><br><span class="line">  </span><br><span class="line">  const onChange = (e: RadioChangeEvent) =&gt; &#123;</span><br><span class="line">    if (props.onChange) &#123;</span><br><span class="line">      props.onChange(e);</span><br><span class="line">    &#125;</span><br><span class="line">    if (context?.onChange) &#123;</span><br><span class="line">      context.onChange(e);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  const &#123; prefixCls: customizePrefixCls, className, children, style, ...restProps &#125; = props;</span><br><span class="line">  const prefixCls = getPrefixCls(&apos;radio&apos;, customizePrefixCls);</span><br><span class="line">  console.log(prefixCls, customizePrefixCls)</span><br><span class="line">  const radioProps: RadioProps = &#123; ...restProps &#125;;</span><br><span class="line">  if (context) &#123;</span><br><span class="line">    radioProps.name = context.name;</span><br><span class="line">    radioProps.onChange = onChange;</span><br><span class="line">    radioProps.checked = props.value === context.value;</span><br><span class="line">    radioProps.disabled = props.disabled || context.disabled;</span><br><span class="line">  &#125;</span><br><span class="line">  const wrapperClassString = classNames(className, &#123;</span><br><span class="line">    [`$&#123;prefixCls&#125;-wrapper`]: true,</span><br><span class="line">    [`$&#123;prefixCls&#125;-wrapper-checked`]: radioProps.checked,</span><br><span class="line">    [`$&#123;prefixCls&#125;-wrapper-disabled`]: radioProps.disabled,</span><br><span class="line">    [`$&#123;prefixCls&#125;-wrapper-rtl`]: direction === &apos;rtl&apos;,</span><br><span class="line">  &#125;);</span><br><span class="line">  return (</span><br><span class="line">    &lt;label</span><br><span class="line">      className=&#123;wrapperClassString&#125;</span><br><span class="line">      style=&#123;style&#125;</span><br><span class="line">      onMouseEnter=&#123;props.onMouseEnter&#125;</span><br><span class="line">      onMouseLeave=&#123;props.onMouseLeave&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;RcCheckbox &#123;...radioProps&#125; prefixCls=&#123;prefixCls as string&#125; ref=&#123;mergedRef as any&#125; /&gt;</span><br><span class="line">      &#123;children !== undefined ? &lt;span&gt;&#123;children&#125;&lt;/span&gt; : null&#125;</span><br><span class="line">    &lt;/label&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line">const Radio = React.forwardRef&lt;unknown, RadioProps&gt;(InternalRadio);</span><br><span class="line">Radio.displayName = &apos;Radio&apos;;</span><br><span class="line"></span><br><span class="line">Radio.defaultProps = &#123;</span><br><span class="line">  type: &apos;radio&apos;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default Radio;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/components/Radio/interface.tsx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">export interface AbstractCheckboxProps&lt;T&gt; &#123;</span><br><span class="line">  prefixCls?: string;</span><br><span class="line">  className?: string;</span><br><span class="line">  defaultChecked?: boolean;</span><br><span class="line">  checked?: boolean;</span><br><span class="line">  style?: React.CSSProperties;</span><br><span class="line">  disabled?: boolean;</span><br><span class="line">  onChange?: (e: T) =&gt; void;</span><br><span class="line">  onClick?: React.MouseEventHandler&lt;HTMLElement&gt;;</span><br><span class="line">  onMouseEnter?: React.MouseEventHandler&lt;HTMLElement&gt;;</span><br><span class="line">  onMouseLeave?: React.MouseEventHandler&lt;HTMLElement&gt;;</span><br><span class="line">  onKeyPress?: React.KeyboardEventHandler&lt;HTMLElement&gt;;</span><br><span class="line">  onKeyDown?: React.KeyboardEventHandler&lt;HTMLElement&gt;;</span><br><span class="line">  value?: any;</span><br><span class="line">  tabIndex?: number;</span><br><span class="line">  name?: string;</span><br><span class="line">  children?: React.ReactNode;</span><br><span class="line">  id?: string;</span><br><span class="line">  autoFocus?: boolean;</span><br><span class="line">  type?: string;</span><br><span class="line">&#125;</span><br><span class="line">export type RadioProps = AbstractCheckboxProps&lt;RadioChangeEvent&gt;;</span><br><span class="line">export interface RadioChangeEventTarget extends RadioProps &#123;</span><br><span class="line">  checked: boolean;</span><br><span class="line">&#125;</span><br><span class="line">export interface RadioChangeEvent &#123;</span><br><span class="line">  target: RadioChangeEventTarget;</span><br><span class="line">  stopPropagation: () =&gt; void;</span><br><span class="line">  preventDefault: () =&gt; void;</span><br><span class="line">  nativeEvent: MouseEvent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export interface RadioGroupContextProps &#123;</span><br><span class="line">  onChange: (e: RadioChangeEvent) =&gt; void;</span><br><span class="line">  value: any;</span><br><span class="line">  disabled?: boolean;</span><br><span class="line">  name?: string;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/components/config-provider/context.tsx: ä¸ºç»„ä»¶åº“æä¾›å…±äº«çŠ¶æ€</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &apos;react&apos;;</span><br><span class="line">export interface ConfigConsumerProps &#123;</span><br><span class="line">  getPrefixCls: (suffixCls: string, customizePrefixCls?: string) =&gt; string;</span><br><span class="line">  direction?: &apos;ltr&apos; | &apos;rtl&apos;;</span><br><span class="line">&#125;</span><br><span class="line">export const ConfigContext = React.createContext&lt;ConfigConsumerProps&gt;(&#123;</span><br><span class="line">  // We provide a default function for Context without provider</span><br><span class="line">  getPrefixCls: (suffixCls: string, customizePrefixCls?: string) =&gt; &#123;</span><br><span class="line">    if (customizePrefixCls) return customizePrefixCls;</span><br><span class="line"></span><br><span class="line">    return suffixCls ? `echo-$&#123;suffixCls&#125;` : &apos;echo&apos;;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export const ConfigConsumer = ConfigContext.Consumer;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/components/config-provider/index.tsx: ä¸ºç»„ä»¶åº“æä¾›å…±äº«çŠ¶æ€</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import &#123; ConfigContext, ConfigConsumer &#125; from &apos;./context&apos;;</span><br><span class="line">export &#123; ConfigContext, ConfigConsumer&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/components/config-provider/SizeContext.tsx: ä¸ºç»„ä»¶åº“æä¾›å¤§å°å…±äº«çŠ¶æ€</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &apos;react&apos;;</span><br><span class="line">export type SizeType = &apos;small&apos; | &apos;middle&apos; | &apos;large&apos; | undefined;</span><br><span class="line">const SizeContext = React.createContext&lt;SizeType&gt;(undefined);</span><br><span class="line">export default SizeContext;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/components/Radio/context.tsx: ä¸ºRadioç›¸å…³ç»„ä»¶æä¾›å…±äº«çŠ¶æ€</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &apos;react&apos;;</span><br><span class="line">import &#123; RadioGroupContextProps &#125; from &apos;./interface&apos;;</span><br><span class="line">const RadioGroupContext = React.createContext&lt;RadioGroupContextProps | null&gt;(null);</span><br><span class="line">export const RadioGroupContextProvider = RadioGroupContext.Provider;</span><br><span class="line">export default RadioGroupContext;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/components/_util/ref.tsx:ç»„ä»¶åº“é€šç”¨æ–¹æ³•</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import * as React from &apos;react&apos;;</span><br><span class="line"></span><br><span class="line">export function fillRef&lt;T&gt;(ref: React.Ref&lt;T&gt;, node: T) &#123;</span><br><span class="line">  if (typeof ref === &apos;function&apos;) &#123;</span><br><span class="line">    ref(node);</span><br><span class="line">  &#125; else if (typeof ref === &apos;object&apos; &amp;&amp; ref &amp;&amp; &apos;current&apos; in ref) &#123;</span><br><span class="line">    (ref as any).current = node;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export function composeRef&lt;T&gt;(...refs: React.Ref&lt;T&gt;[]): React.Ref&lt;T&gt; &#123;</span><br><span class="line">  return (node: T) =&gt; &#123;</span><br><span class="line">    refs.forEach(ref =&gt; &#123;</span><br><span class="line">      fillRef(ref, node);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/components/Radio/index.tsx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import Radio from &quot;./radio&quot;;</span><br><span class="line">export default Radio;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/components/Radio/_rtl.scss</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;../../styles/variables/radio&quot;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$radio-prefix-cls: &apos;echo-radio&apos;;</span><br><span class="line">$radio-group-prefix-cls: &apos;#&#123;$radio-prefix-cls&#125;-group&apos;;</span><br><span class="line">$radio-prefix-cls-button-wrapper: &apos;#&#123;$radio-prefix-cls&#125;-button-wrapper&apos;;</span><br><span class="line">.#&#123;$radio-group-prefix-cls&#125;&#123;</span><br><span class="line">  &amp;-rtl &#123;</span><br><span class="line">    direction: rtl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ä¸€èˆ¬çŠ¶æ€</span><br><span class="line">.#&#123;$radio-prefix-cls&#125;-wrapper &#123;</span><br><span class="line">  &amp;-rtl &#123;</span><br><span class="line">    margin-right: 0;</span><br><span class="line">    margin-left: $radio-wrapper-margin-right;</span><br><span class="line">    direction: rtl;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.#&#123;$radio-prefix-cls-button-wrapper&#125; &#123;</span><br><span class="line">  &amp;-rtl &#123;</span><br><span class="line">    border-right-width: 0;</span><br><span class="line">    border-left-width: $border-width-base;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;:not(:first-child) &#123;</span><br><span class="line">    &amp;::before &#123;</span><br><span class="line">      .#&#123;$radio-prefix-cls-button-wrapper&#125;.#&#123;$radio-prefix-cls-button-wrapper&#125;-rtl &amp; &#123;</span><br><span class="line">        right: -1px;</span><br><span class="line">        left: 0;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;:first-child &#123;</span><br><span class="line">    .#&#123;$radio-prefix-cls-button-wrapper&#125;.#&#123;$radio-prefix-cls-button-wrapper&#125;-rtl &amp; &#123;</span><br><span class="line">      border-right: $border-width-base $border-style-base $border-color-base;</span><br><span class="line">      border-radius: 0 $border-radius-base $border-radius-base 0;</span><br><span class="line">    &#125;</span><br><span class="line">    .#&#123;$radio-prefix-cls-button-wrapper&#125;-checked:not([class*=&quot;&apos;#&#123;$radio-prefix-cls&#125;-button-wrapper-disabled&apos;&quot;]) &amp; &#123;</span><br><span class="line">      border-right-color:lighten($primary, 10%);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;:last-child &#123;</span><br><span class="line">    .#&#123;$radio-prefix-cls-button-wrapper&#125;.#&#123;$radio-prefix-cls-button-wrapper&#125;-rtl &amp; &#123;</span><br><span class="line">      border-radius: $border-radius-base 0 0 $border-radius-base;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;-disabled &#123;</span><br><span class="line">    &amp;:first-child &#123;</span><br><span class="line">      .#&#123;$radio-prefix-cls-button-wrapper&#125;.#&#123;$radio-prefix-cls-button-wrapper&#125;-rtl &amp; &#123;</span><br><span class="line">        border-right-color: $border-color-base;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/components/Icon/_style.scss</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;../../styles/variables/radio&quot;;</span><br><span class="line">@import &quot;./rtl&quot;;</span><br><span class="line"></span><br><span class="line">$radio-prefix-cls: &apos;echo-radio&apos;;</span><br><span class="line">$radio-group-prefix-cls: &apos;#&#123;$radio-prefix-cls&#125;-group&apos;;</span><br><span class="line">$radio-inner-prefix-cls: &apos;#&#123;radio-prefix-cls&#125;-inner&apos;;</span><br><span class="line">$radio-duration: 0.3s;</span><br><span class="line">$radio-focus-shadow: 0 0 0 3px fade($primary, 8%);</span><br><span class="line">$radio-button-focus-shadow: $radio-focus-shadow;</span><br><span class="line"></span><br><span class="line">.#&#123;$radio-group-prefix-cls&#125; &#123;</span><br><span class="line">  @include reset-component;</span><br><span class="line"></span><br><span class="line">  display: inline-block;</span><br><span class="line">  font-size: 0;</span><br><span class="line">  line-height: unset;</span><br><span class="line"></span><br><span class="line">  .echo-badge-count &#123;</span><br><span class="line">    z-index: 1;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .echo-badge:not(:first-child) .#&#123;$radio-prefix-cls&#125;-button-wrapper &#123;</span><br><span class="line">    border-left: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ä¸€èˆ¬çŠ¶æ€</span><br><span class="line">.#&#123;$radio-prefix-cls&#125;-wrapper &#123;</span><br><span class="line">  @include reset-component;</span><br><span class="line"></span><br><span class="line">  position: relative;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  margin-right: $radio-wrapper-margin-right;</span><br><span class="line">  white-space: nowrap;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.#&#123;$radio-prefix-cls&#125; &#123;</span><br><span class="line">  @include reset-component;</span><br><span class="line"></span><br><span class="line">  position: relative;</span><br><span class="line">  top: -3px;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  line-height: 1;</span><br><span class="line">  white-space: nowrap;</span><br><span class="line">  vertical-align: sub;</span><br><span class="line">  outline: none;</span><br><span class="line">  cursor: pointer;</span><br><span class="line"></span><br><span class="line">  .#&#123;$radio-prefix-cls&#125;-wrapper:hover &amp;,</span><br><span class="line">  &amp;:hover .#&#123;$radio-inner-prefix-cls&#125;,</span><br><span class="line">  &amp;-input:focus + .#&#123;$radio-inner-prefix-cls&#125; &#123;</span><br><span class="line">    border-color: $radio-dot-color;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;-input:focus + .#&#123;$radio-inner-prefix-cls&#125; &#123;</span><br><span class="line">    box-shadow: $radio-focus-shadow;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;-checked::after &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    border: 1px solid $radio-dot-color;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    visibility: hidden;</span><br><span class="line">    animation: antRadioEffect 0.36s ease-in-out;</span><br><span class="line">    animation-fill-mode: both;</span><br><span class="line">    content: &apos;&apos;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;:hover::after,</span><br><span class="line">  .#&#123;$radio-prefix-cls&#125;-wrapper:hover &amp;::after &#123;</span><br><span class="line">    visibility: visible;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;-inner &#123;</span><br><span class="line">    &amp;::after &#123;</span><br><span class="line">      $radio-dot-size: $radio-size - 8px;</span><br><span class="line"></span><br><span class="line">      position: absolute;</span><br><span class="line">      top: ($radio-size - $radio-dot-size) / 2 - 1px;</span><br><span class="line">      left: ($radio-size - $radio-dot-size) / 2 - 1px;</span><br><span class="line">      display: table;</span><br><span class="line">      width: $radio-dot-size;</span><br><span class="line">      height: $radio-dot-size;</span><br><span class="line">      background-color: $radio-dot-color;</span><br><span class="line">      border-top: 0;</span><br><span class="line">      border-left: 0;</span><br><span class="line">      border-radius: $radio-dot-size;</span><br><span class="line">      transform: scale(0);</span><br><span class="line">      opacity: 0;</span><br><span class="line">      transition: all $radio-duration $ease-in-out-circ;</span><br><span class="line">      content: &apos; &apos;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// é€‰ä¸­çŠ¶æ€</span><br><span class="line">.#&#123;$radio-prefix-cls&#125;-checked &#123;</span><br><span class="line">  .#&#123;$radio-inner-prefix-cls&#125; &#123;</span><br><span class="line">    border-color: $radio-dot-color;</span><br><span class="line">    &amp;::after &#123;</span><br><span class="line">      transform: scale(1);</span><br><span class="line">      opacity: 1;</span><br><span class="line">      transition: all $radio-duration $ease-in-out-circ;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.#&#123;$radio-prefix-cls&#125;-disabled &#123;</span><br><span class="line">  .#&#123;$radio-inner-prefix-cls&#125; &#123;</span><br><span class="line">    background-color: $disabled-color;</span><br><span class="line">    border-color: $border-color-base !important;</span><br><span class="line">    cursor: not-allowed;</span><br><span class="line">    &amp;::after &#123;</span><br><span class="line">      background-color: $radio-dot-disabled-color;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .#&#123;$radio-prefix-cls&#125;-input &#123;</span><br><span class="line">    cursor: not-allowed;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp; + span &#123;</span><br><span class="line">    color: $disabled-color;</span><br><span class="line">    cursor: not-allowed;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">span.#&#123;$radio-prefix-cls&#125; + * &#123;</span><br><span class="line">  padding-right: 8px;</span><br><span class="line">  padding-left: 4px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.#&#123;$radio-prefix-cls&#125;-button-wrapper &#123;</span><br><span class="line">  position: relative;</span><br><span class="line">  display: inline-block;</span><br><span class="line">  height: $height-base;</span><br><span class="line">  margin: 0;</span><br><span class="line">  padding: 0 $padding-md - 1px;</span><br><span class="line">  color: $radio-button-color;</span><br><span class="line">  font-size: $font-size-base;</span><br><span class="line">  line-height: $height-base - 2px;</span><br><span class="line">  background: $radio-button-bg;</span><br><span class="line">  border: $border-width-base $border-style-base $border-color-base;</span><br><span class="line">  // strange align fix for chrome but works</span><br><span class="line">  // https://gw.alipayobjects.com/zos/rmsportal/VFTfKXJuogBAXcvfAUWJ.gif</span><br><span class="line">  border-top-width: $border-width-base + 0.02px;</span><br><span class="line">  border-left-width: 0;</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  transition: color 0.3s, background 0.3s, border-color 0.3s, box-shadow 0.3s;</span><br><span class="line"></span><br><span class="line">  a &#123;</span><br><span class="line">    color: $radio-button-color;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &gt; .#&#123;$radio-prefix-cls&#125;-button &#123;</span><br><span class="line">    display: block;</span><br><span class="line">    width: 0;</span><br><span class="line">    height: 0;</span><br><span class="line">    margin-left: 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .#&#123;$radio-group-prefix-cls&#125;-large &amp; &#123;</span><br><span class="line">    height: $height-lg;</span><br><span class="line">    font-size: $font-size-lg;</span><br><span class="line">    line-height: $height-lg - 2px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .#&#123;$radio-group-prefix-cls&#125;-small &amp; &#123;</span><br><span class="line">    height: $height-sm;</span><br><span class="line">    padding: 0 $control-padding-horizontal-sm - 1px;</span><br><span class="line">    line-height: $height-sm - 2px;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;:not(:first-child) &#123;</span><br><span class="line">    &amp;::before &#123;</span><br><span class="line">      position: absolute;</span><br><span class="line">      top: $border-width-base * -1;</span><br><span class="line">      left: -1px;</span><br><span class="line">      display: block;</span><br><span class="line">      box-sizing: content-box;</span><br><span class="line">      width: 1px;</span><br><span class="line">      height: 100%;</span><br><span class="line">      padding: $border-width-base 0;</span><br><span class="line">      background-color: $border-color-base;</span><br><span class="line">      transition: background-color 0.3s;</span><br><span class="line">      content: &apos;&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;:first-child &#123;</span><br><span class="line">    border-left: $border-width-base $border-style-base $border-color-base;</span><br><span class="line">    border-radius: $border-radius-base 0 0 $border-radius-base;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;:last-child &#123;</span><br><span class="line">    border-radius: 0 $border-radius-base $border-radius-base 0;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;:first-child:last-child &#123;</span><br><span class="line">    border-radius: $border-radius-base;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    position: relative;</span><br><span class="line">    color: $radio-dot-color;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;:focus-within &#123;</span><br><span class="line">    box-shadow: $radio-button-focus-shadow;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .#&#123;$radio-prefix-cls&#125;-inner,</span><br><span class="line">  input[type=&apos;checkbox&apos;],</span><br><span class="line">  input[type=&apos;radio&apos;] &#123;</span><br><span class="line">    width: 0;</span><br><span class="line">    height: 0;</span><br><span class="line">    opacity: 0;</span><br><span class="line">    pointer-events: none;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;-checked:not(&amp;-disabled) &#123;</span><br><span class="line">    z-index: 1;</span><br><span class="line">    color: $radio-dot-color;</span><br><span class="line">    background: $radio-button-checked-bg;</span><br><span class="line">    border-color: $radio-dot-color;</span><br><span class="line"></span><br><span class="line">    &amp;::before &#123;</span><br><span class="line">      background-color: $radio-dot-color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;:first-child &#123;</span><br><span class="line">      border-color: $radio-dot-color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;:hover &#123;</span><br><span class="line">      color: $radio-button-hover-color;</span><br><span class="line">      border-color: $radio-button-hover-color;</span><br><span class="line">      &amp;::before &#123;</span><br><span class="line">        background-color: $radio-button-hover-color;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;:active &#123;</span><br><span class="line">      color: $radio-button-active-color;</span><br><span class="line">      border-color: $radio-button-active-color;</span><br><span class="line">      &amp;::before &#123;</span><br><span class="line">        background-color: $radio-button-active-color;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &amp;:focus-within &#123;</span><br><span class="line">      box-shadow: $radio-button-focus-shadow;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  .#&#123;$radio-group-prefix-cls&#125;-solid &amp;-checked:not(&amp;-disabled) &#123;</span><br><span class="line">    color: $radio-solid-checked-color;</span><br><span class="line">    background: $radio-dot-color;</span><br><span class="line">    border-color: $radio-dot-color;</span><br><span class="line">    &amp;:hover &#123;</span><br><span class="line">      color: $radio-solid-checked-color;</span><br><span class="line">      background: $radio-button-hover-color;</span><br><span class="line">      border-color: $radio-button-hover-color;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;:active &#123;</span><br><span class="line">      color: $radio-solid-checked-color;</span><br><span class="line">      background: $radio-button-active-color;</span><br><span class="line">      border-color: $radio-button-active-color;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;:focus-within &#123;</span><br><span class="line">      box-shadow: $radio-button-focus-shadow;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;-disabled &#123;</span><br><span class="line">    color: $disabled-color;</span><br><span class="line">    background-color: $disabled-bg;;</span><br><span class="line">    border-color: $border-color-base;</span><br><span class="line">    cursor: not-allowed;</span><br><span class="line"></span><br><span class="line">    &amp;:first-child,</span><br><span class="line">    &amp;:hover &#123;</span><br><span class="line">      color: $disabled-color;</span><br><span class="line">      background-color: $disabled-bg;;</span><br><span class="line">      border-color: $border-color-base;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;:first-child &#123;</span><br><span class="line">      border-left-color: $border-color-base;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &amp;-disabled &amp;-checked &#123;</span><br><span class="line">    color: $radio-disabled-button-checked-color;</span><br><span class="line">    background-color: $radio-disabled-button-checked-bg;</span><br><span class="line">    border-color: $border-color-base;</span><br><span class="line">    box-shadow: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes antRadioEffect &#123;</span><br><span class="line">  0% &#123;</span><br><span class="line">    transform: scale(1);</span><br><span class="line">    opacity: 0.5;</span><br><span class="line">  &#125;</span><br><span class="line">  100% &#123;</span><br><span class="line">    transform: scale(1.6);</span><br><span class="line">    opacity: 0;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// Firefox hack</span><br><span class="line">@supports (-moz-appearance: meterbar) and (background-blend-mode: difference, normal) &#123;</span><br><span class="line">  .#&#123;$radio-prefix-cls&#125; &#123;</span><br><span class="line">    vertical-align: text-bottom;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º styles/variables/_radio.scssæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;./common&quot;;</span><br><span class="line">// $font-size-base</span><br><span class="line">$radio-wrapper-margin-right: 8px;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/styles/index.scssæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// radioæ ·å¼</span><br><span class="line">@import &quot;../components/Radio/style&quot;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ¥ä¸‹æ¥<a href="https://www.jianshu.com/p/1e262b487f26" target="_blank" rel="noopener">[Typescript] ä¸ºç¬¬ä¸‰æ–¹åº“æ·»åŠ å£°æ˜æ–‡ä»¶ .d.ts</a></p>
</li>
<li><p>æ–°å»ºsrc/typings/index.d.tsæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/// &lt;reference path=&quot;custom-typings.d.ts&quot; /&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»ºsrc/typings/custom-typings.d.tsæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">declare module &apos;rc-checkbox&apos;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹App.tsxæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// å¢åŠ </span><br><span class="line">import Radio from &quot;./components/Radio/radio&quot;;</span><br><span class="line">&lt;Radio name=&quot;111&quot;&gt;Radio&lt;/Radio&gt;</span><br><span class="line">&lt;Radio name=&quot;111&quot; disabled=&#123;true&#125;&gt;Radio2&lt;/Radio&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹index.tsxæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export &#123; default as Radio &#125; from &quot;./components/Radio&quot;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="3-è¿è¡Œé¡¹ç›®"><a href="#3-è¿è¡Œé¡¹ç›®" class="headerlink" title="3. è¿è¡Œé¡¹ç›®"></a>3. è¿è¡Œé¡¹ç›®</h2><p> æ‰§è¡Œå‘½ä»¤<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm start</span><br></pre></td></tr></table></figure></p>
<p>è®¿é—®é¡¹ç›® å¯ä»¥çœ‹åˆ°Radioç»„ä»¶æˆåŠŸäº†ï¼<br><img src="https://upload-images.jianshu.io/upload_images/11846892-7fc5a5e3af91ee81.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>##4. å•å…ƒæµ‹è¯•<br>æ–°å»ºsrc/Radio/radio.test.tsxæ–‡ä»¶Â·<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line">import &#123; mount, render &#125; from &apos;enzyme&apos;;</span><br><span class="line">import Radio, &#123; Group, Button &#125; from &apos;..&apos;;</span><br><span class="line">import focusTest from &apos;../../../tests/shared/focusTest&apos;;</span><br><span class="line">import mountTest from &apos;../../../tests/shared/mountTest&apos;;</span><br><span class="line">import rtlTest from &apos;../../../tests/shared/rtlTest&apos;;</span><br><span class="line"></span><br><span class="line">describe(&apos;Radio&apos;, () =&gt; &#123;</span><br><span class="line">  focusTest(Radio, &#123; refFocus: true &#125;);</span><br><span class="line">  mountTest(Radio);</span><br><span class="line">  mountTest(Group);</span><br><span class="line">  mountTest(Button);</span><br><span class="line"></span><br><span class="line">  rtlTest(Radio);</span><br><span class="line">  rtlTest(Group);</span><br><span class="line">  rtlTest(Button);</span><br><span class="line"></span><br><span class="line">  it(&apos;should render correctly&apos;, () =&gt; &#123;</span><br><span class="line">    const wrapper = render(&lt;Radio className=&quot;customized&quot;&gt;Test&lt;/Radio&gt;);</span><br><span class="line">    expect(wrapper).toMatchSnapshot();</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  it(&apos;responses hover events&apos;, () =&gt; &#123;</span><br><span class="line">    const onMouseEnter = jest.fn();</span><br><span class="line">    const onMouseLeave = jest.fn();</span><br><span class="line"></span><br><span class="line">    const wrapper = mount(&lt;Radio onMouseEnter=&#123;onMouseEnter&#125; onMouseLeave=&#123;onMouseLeave&#125; /&gt;);</span><br><span class="line"></span><br><span class="line">    wrapper.find(&apos;label&apos;).simulate(&apos;mouseenter&apos;);</span><br><span class="line">    expect(onMouseEnter).toHaveBeenCalled();</span><br><span class="line"></span><br><span class="line">    wrapper.find(&apos;label&apos;).simulate(&apos;mouseleave&apos;);</span><br><span class="line">    expect(onMouseLeave).toHaveBeenCalled();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>æ‰§è¡Œå‘½ä»¤<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm test</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥çœ‹åˆ°å•å…ƒæµ‹è¯•æˆåŠŸé€šè¿‡ï¼<br><img src="https://upload-images.jianshu.io/upload_images/11846892-44fe42fa111d9409.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>##5.ç¼–å†™storybookæ–‡æ¡£</p>
<ul>
<li><p>æ–°å»º<code>src/Radio/radio.stories.tsx</code>æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;;</span><br><span class="line">import &#123; storiesOf &#125; from &apos;@storybook/react&apos;;</span><br><span class="line">import &#123; action &#125; from &apos;@storybook/addon-actions&apos;;</span><br><span class="line"></span><br><span class="line">import Radio from &apos;./radio&apos;</span><br><span class="line"></span><br><span class="line">const defaultRadio = () =&gt; (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;Radio onClick=&#123;action(&apos;default Radio&apos;)&#125;&gt;default radio&lt;/Radio&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">const radioWithDisabled = () =&gt; (</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;Radio onClick=&#123;action(&apos;disabled radio&apos;)&#125;   disabled=&#123;true&#125;&gt;disabled radio&lt;/Radio&gt;</span><br><span class="line">        &lt;Radio onClick=&#123;action(&apos;unDisabled radio&apos;)&#125;  &gt;unDisabled radio&lt;/Radio&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">storiesOf(&apos;Radio æŒ‰é’®&apos;, module)</span><br><span class="line">    .addParameters(&#123;</span><br><span class="line">        info: &#123;</span><br><span class="line">            text: `</span><br><span class="line">        ## å¼•ç”¨æ–¹æ³•</span><br><span class="line">        ~~~js</span><br><span class="line">        import &#123;Radio&#125; from &apos;echo-rui</span><br><span class="line">        ~~~</span><br><span class="line">        `</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .add(&apos;é»˜è®¤ Radio&apos;, defaultRadio)</span><br><span class="line">    .add(&apos;ç¦ç”¨çš„ Radio&apos;,radioWithDisabled)</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰§è¡Œå‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run storybook</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æµè§ˆå™¨æ‰“å¼€<a href="http://localhost:9009/,å¯ä»¥çœ‹åˆ°ç»„ä»¶åº“æ–‡æ¡£ç”Ÿæˆäº†ã€‚" target="_blank" rel="noopener">http://localhost:9009/,å¯ä»¥çœ‹åˆ°ç»„ä»¶åº“æ–‡æ¡£ç”Ÿæˆäº†ã€‚</a><br><img src="https://upload-images.jianshu.io/upload_images/11846892-88eb962e94583778.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>##5. å‘å¸ƒåˆ°npm<br> âœ… âœ… âœ… âœ… âœ…</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/27/reactCom2/" data-id="ckinycm4f001w2ep32vcs8erx" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-reactCom1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/27/reactCom1/" class="article-date">
  <time datetime="2020-07-27T09:16:46.000Z" itemprop="datePublished">2020-07-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/27/reactCom1/">ä½¿ç”¨reactæ­å»ºç»„ä»¶åº“--iconç»„ä»¶</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>####å‰è¨€<br>ä½ åº”è¯¥éœ€è¦ï¼š<a href="[https://www.jianshu.com/p/8ef96e06adcc](https://www.jianshu.com/p/8ef96e06adcc">ä½¿ç”¨reactæ­å»ºç»„ä»¶åº“ï¼šreact+typescript+storybook</a><br>)</p>
<p>##1. å®‰è£…ä¾èµ–<br>åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ <code>fortawesome</code>ï¼š <a href="http://www.fontawesome.com.cn" target="_blank" rel="noopener">ä¸€å¥—ç»ä½³çš„å›¾æ ‡å­—ä½“åº“å’ŒCSSæ¡†æ¶</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install @fortawesome/fontawesome-svg-core</span><br><span class="line">npm install @fortawesome/free-solid-svg-icons</span><br><span class="line">npm install @fortawesome/react-fontawesome</span><br></pre></td></tr></table></figure>
<p>##2. ç¼–å†™ç»„ä»¶</p>
<ul>
<li><p>æ–°å»º <code>src/components/Icon/icon.tsx</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">import React, &#123; FC &#125; from &quot;react&quot;;</span><br><span class="line">import classnames from &quot;classnames&quot;;</span><br><span class="line">import &#123; library &#125; from &quot;@fortawesome/fontawesome-svg-core&quot;;</span><br><span class="line">import &#123; fas &#125; from &quot;@fortawesome/free-solid-svg-icons&quot;;</span><br><span class="line"></span><br><span class="line">import &#123;</span><br><span class="line">  FontAwesomeIconProps,</span><br><span class="line">  FontAwesomeIcon,</span><br><span class="line">&#125; from &quot;@fortawesome/react-fontawesome&quot;;</span><br><span class="line"></span><br><span class="line">library.add(fas);</span><br><span class="line"></span><br><span class="line">export type theme = </span><br><span class="line">| &quot;primary&quot;</span><br><span class="line">| &quot;secondary&quot;</span><br><span class="line">| &quot;success&quot;</span><br><span class="line">| &quot;info&quot;</span><br><span class="line">| &quot;warning&quot;</span><br><span class="line">| &quot;danger&quot;</span><br><span class="line">| &quot;light&quot;</span><br><span class="line">| &quot;dark&quot;;</span><br><span class="line"></span><br><span class="line">export interface IconProps extends FontAwesomeIconProps &#123;</span><br><span class="line">  /** ä¸»é¢˜é¢œè‰² */</span><br><span class="line">  theme?: theme;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export const Icon: FC&lt;IconProps&gt; = (props) =&gt; &#123;</span><br><span class="line">  const &#123; className, theme, ...restProps &#125; = props;</span><br><span class="line">  const classes = classnames(&quot;lin-icon&quot;, className, &#123;</span><br><span class="line">    [`lin-icon-$&#123;theme&#125;`]: theme,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  return &lt;FontAwesomeIcon className=&#123;classes&#125; &#123;...restProps&#125; /&gt;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default Icon;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/components/Icon/index.tsx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import Icon from &quot;./icon&quot;;</span><br><span class="line"></span><br><span class="line">export default Icon;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/components/Icon/_style.scss</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;../../styles/variables/icon&quot;;</span><br><span class="line">// å¾ªç¯</span><br><span class="line">@each $key, $val in $icon-theme-color &#123;</span><br><span class="line">  .lin-icon-#&#123;$key&#125; &#123;</span><br><span class="line">    color: $val;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º styles/variables/_icon.scssæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">@import &quot;./common&quot;;</span><br><span class="line"></span><br><span class="line">$icon-theme-color: (</span><br><span class="line">  &quot;primary&quot;: $primary,</span><br><span class="line">  &quot;secondary&quot;: $secondary,</span><br><span class="line">  &quot;success&quot;: $success,</span><br><span class="line">  &quot;info&quot;: $info,</span><br><span class="line">  &quot;warning&quot;: $warning,</span><br><span class="line">  &quot;danger&quot;: $danger,</span><br><span class="line">  &quot;light&quot;: $light,</span><br><span class="line">  &quot;dark&quot;: $dark,</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–°å»º src/styles/index.scssæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// iconæ ·å¼</span><br><span class="line">@import &quot;../components/Icon/style&quot;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹App.tsxæ–‡ä»¶<br>ï¼ï¼ å¯¹äº<code>fortawesome</code>ï¼š [ä¸€å¥—ç»ä½³çš„å›¾æ ‡å­—ä½“åº“å’ŒCSSæ¡†æ¶]ä¸­çš„å›¾æ ‡éƒ½å¯ä»¥ä½¿ç”¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// å¢åŠ </span><br><span class="line">import Icon from &quot;./components/Icon/icon&quot;;</span><br><span class="line">&lt;Icon icon=&quot;coffee&quot; size=&quot;5x&quot; theme=&quot;danger&quot; /&gt;</span><br><span class="line">&lt;Icon icon=&quot;arrow-down&quot; size=&quot;5x&quot; /&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹index.tsxæ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export &#123; default as Icon &#125; from &quot;./components/Icon&quot;;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="3-è¿è¡Œé¡¹ç›®"><a href="#3-è¿è¡Œé¡¹ç›®" class="headerlink" title="3. è¿è¡Œé¡¹ç›®"></a>3. è¿è¡Œé¡¹ç›®</h2><p> æ‰§è¡Œå‘½ä»¤<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm start</span><br></pre></td></tr></table></figure></p>
<p>è®¿é—®é¡¹ç›® å¯ä»¥çœ‹åˆ°Iconç»„ä»¶æˆåŠŸäº†ï¼<br><img src="https://upload-images.jianshu.io/upload_images/11846892-8c703c6cd972d3e2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>##4.ç¼–å†™storybookæ–‡æ¡£</p>
<ul>
<li><p>æ–°å»º<code>src/Icon/icon.stories.tsx</code>æ–‡ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line">import React from &apos;react&apos;</span><br><span class="line"></span><br><span class="line">import &#123; storiesOf &#125; from &apos;@storybook/react&apos;</span><br><span class="line"></span><br><span class="line">import Icon from &apos;./icon&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const defaultIcon = () =&gt; &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Icon</span><br><span class="line">                icon=&quot;check&quot;</span><br><span class="line">                size=&quot;3x&quot;</span><br><span class="line">            /&gt;</span><br><span class="line">            &lt;Icon</span><br><span class="line">                icon=&quot;times&quot;</span><br><span class="line">                size=&quot;3x&quot;</span><br><span class="line">                className=&apos;ml-20&apos;</span><br><span class="line">            /&gt;</span><br><span class="line">            &lt;Icon</span><br><span class="line">                icon=&quot;anchor&quot;</span><br><span class="line">                size=&quot;3x&quot;</span><br><span class="line">                className=&apos;ml-20&apos;</span><br><span class="line">            /&gt;</span><br><span class="line">            &lt;Icon</span><br><span class="line">                icon=&quot;trash&quot;</span><br><span class="line">                size=&quot;3x&quot;</span><br><span class="line">                className=&apos;ml-20&apos;</span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const iconWithTheme = () =&gt; &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Icon</span><br><span class="line">                icon=&quot;check&quot;</span><br><span class="line">                size=&quot;3x&quot;</span><br><span class="line">                theme=&quot;success&quot;</span><br><span class="line">            /&gt;</span><br><span class="line">            &lt;Icon</span><br><span class="line">                icon=&quot;times&quot;</span><br><span class="line">                size=&quot;3x&quot;</span><br><span class="line">                theme=&quot;danger&quot;</span><br><span class="line">                className=&apos;ml-20&apos;</span><br><span class="line">            /&gt;</span><br><span class="line">            &lt;Icon</span><br><span class="line">                icon=&quot;anchor&quot;</span><br><span class="line">                size=&quot;3x&quot;</span><br><span class="line">                theme=&quot;primary&quot;</span><br><span class="line">                className=&apos;ml-20&apos;</span><br><span class="line">            /&gt;</span><br><span class="line">            &lt;Icon</span><br><span class="line">                icon=&quot;exclamation-circle&quot;</span><br><span class="line">                size=&quot;3x&quot;</span><br><span class="line">                theme=&quot;warning&quot;</span><br><span class="line">                className=&apos;ml-20&apos;</span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const iconWithOther = () =&gt; &#123;</span><br><span class="line">    return (</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;Icon</span><br><span class="line">                icon=&quot;spinner&quot;</span><br><span class="line">                size=&quot;3x&quot;</span><br><span class="line">                spin</span><br><span class="line">                theme=&quot;primary&quot;</span><br><span class="line">            /&gt;</span><br><span class="line">            &lt;Icon</span><br><span class="line">                icon=&quot;spinner&quot;</span><br><span class="line">                pulse</span><br><span class="line">                size=&quot;3x&quot;</span><br><span class="line">                theme=&quot;success&quot;</span><br><span class="line">                className=&apos;ml-20&apos;</span><br><span class="line">            /&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    )</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">storiesOf(&apos;Icon ç»„ä»¶&apos;, module)</span><br><span class="line">    .addParameters(&#123;</span><br><span class="line">        info: &#123;</span><br><span class="line">            text: `</span><br><span class="line">            ## å¼•ç”¨æ–¹æ³•</span><br><span class="line">            ~~~js</span><br><span class="line">            import &#123;Icon&#125; from &apos;lin-react-ui</span><br><span class="line">            ~~~</span><br><span class="line">            `</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .add(&apos;é»˜è®¤çš„ Icon&apos;, defaultIcon)</span><br><span class="line">    .add(&apos;ä¸åŒä¸»é¢˜çš„ Icon&apos;, iconWithTheme)</span><br><span class="line">    .add(&apos;æ›´å¤šè¡Œä¸ºçš„ Icon&apos;, iconWithOther,&#123;</span><br><span class="line">        info: &#123;</span><br><span class="line">            text: `</span><br><span class="line">            ## å¼•ç”¨æ–¹æ³•</span><br><span class="line">            ~~~js</span><br><span class="line">            import &#123;Icon&#125; from &apos;lin-react-ui</span><br><span class="line">            ~~~</span><br><span class="line">            æ›´å¤šä¾‹å­è¯·å‚è§ï¼šhttps://github.com/FortAwesome/react-fontawesome#basic</span><br><span class="line">            `</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ‰§è¡Œå‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm run storybook</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>æµè§ˆå™¨æ‰“å¼€<a href="http://localhost:9009/,å¯ä»¥çœ‹åˆ°ç»„ä»¶åº“æ–‡æ¡£ç”Ÿæˆäº†ã€‚" target="_blank" rel="noopener">http://localhost:9009/,å¯ä»¥çœ‹åˆ°ç»„ä»¶åº“æ–‡æ¡£ç”Ÿæˆäº†ã€‚</a><br><img src="https://upload-images.jianshu.io/upload_images/11846892-f5e3bf4ef4168c78.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<p>##5. å‘å¸ƒåˆ°npm<br> âœ… âœ… âœ… âœ… âœ…</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/27/reactCom1/" data-id="ckinycm4e001u2ep3anuqd4k3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-vueMessage" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/27/vueMessage/" class="article-date">
  <time datetime="2020-07-27T09:15:39.000Z" itemprop="datePublished">2020-07-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/27/vueMessage/">è§£è¯»element-ui-----this.$message()</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨å¹³æ—¶çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯å…ˆå†™å¥½ä¸€ä¸ªç»„ä»¶ï¼Œç„¶ååœ¨éœ€è¦çš„é¡µé¢ä¸­ç”¨ <code>import</code> å¼•å…¥å³å¯ï¼Œä½†å¦‚æœæ˜¯ä¸‹é¢è¿™ç§ç±»å‹çš„ç»„ä»¶å‘¢ğŸ‘‡</p>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-a36600e65a733412?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>ä¸Šé¢è¿™ç§ç±»å‹çš„æµ®å±‚æç¤ºæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯ä½¿ç”¨é¢‘ç‡ç‰¹åˆ«é«˜ï¼Œå‡ ä¹æ¯ä¸ªé¡µé¢éƒ½ä¼šç”¨åˆ°å®ƒï¼Œäºæ˜¯ä¹æˆ‘ä»¬å°±è¦åœ¨æ¯ä¸ªé¡µé¢ä¸­å»å¼•å…¥è¯¥ç»„ä»¶ï¼Œå¹¶ä¸”åœ¨æ¯ä¸ªé¡µé¢éƒ½å¾—é€šè¿‡ä¸€ä¸ªå˜é‡æ¥æ§åˆ¶å®ƒçš„æ˜¾éšï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ğŸ™…ã€‚ã€‚ã€‚é‚£æˆ‘ä»¬æƒ³è¦çš„æ˜¯ä»€ä¹ˆæ ·å‘¢ğŸ¤”ï¼Ÿç”¨è¿‡ä¸€äº› UI æ¡†æ¶çš„åŒå­¦ä»¬åº”è¯¥çŸ¥é“æœ‰è¿™æ ·ä¸€ç§ç”¨æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">this.$message(&#123;</span><br><span class="line">    duration: 3000,</span><br><span class="line">    content: &apos;è¿™æ˜¯ä¸€æ¡æ¶ˆæ¯æç¤º&apos;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>æ²¡é”™ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•çš„ä¸€å¥è¯å°±ä¸‡äº‹å¤§å‰äº†ï¼ˆå°±æ˜¯ç”¨ js è°ƒç”¨ç»„ä»¶è€Œå·²å•¦ğŸ§ï¼‰ã€‚é‚£è¿™ç§æ•ˆæœç©¶ç«Ÿæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿä»Šå¤©å°±è®©æˆ‘ä»¬æ¥ï¼ˆæ‰‹æŠŠæ‰‹ğŸ¤ ï¼‰ä¸€æ¢ç©¶ç«Ÿå§ï¼</p>
<h2 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h2><p>ä¸çŸ¥é“å°ä¼™ä¼´ä»¬æœ‰æ²¡æœ‰ç”¨è¿‡ <code>Vue.extend()</code> è¿™ä¸ªä¸œä¸œï¼Œåæ­£æˆ‘æ˜¯å¾ˆå°‘ç¢°è¿‡ï¼Œå°è±¡ä¸æ·±ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å…ˆæ¥çŸ­æš‚äº†è§£ä¸€ä¸‹ <code>Vue.extend()</code> ä¸»è¦æ˜¯ç”¨æ¥å¹²å˜›çš„ã€‚å…ˆæ¥ä¸ªå®˜æ–¹è¯´æ˜ï¼ˆä¸å¤šçš„ï¼ŒåšæŒä¸‹ï¼‰ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-562ca3309f3120c7?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>æ²¡æ€ä¹ˆçœ‹æ‡‚ï¼ŸğŸ˜´æ²¡å…³ç³»ï¼Œä¸é‡è¦ï¼Œä½ åªè¦è®°ä½ï¼ˆåŠ å°‘è®¸ç†è§£ï¼‰ä»¥ä¸‹ç”¨æ³•å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// å¯¼å…¥ä»¥å¾€çš„æ™®é€šç»„ä»¶</span><br><span class="line">import Main from &apos;./main.vue&apos;;</span><br><span class="line">// ç”¨ Vue.extend åˆ›å»ºç»„ä»¶çš„æ¨¡æ¿ï¼ˆæ„é€ å‡½æ•°ï¼‰</span><br><span class="line">let mainConstructor = Vue.extend(Main);</span><br><span class="line">// å®ä¾‹åŒ–ç»„ä»¶</span><br><span class="line">let instance = new mainConstructor();</span><br><span class="line">// æŒ‚è½½åˆ°ç›¸åº”çš„å…ƒç´ ä¸Š</span><br><span class="line">instance.$mount(&apos;#app&apos;);</span><br></pre></td></tr></table></figure>
<p>ä¸çŸ¥é“ä½ çœ‹æ‡‚æ²¡æœ‰ï¼Œä¸Šé¢çš„ <code>Vue.extend(Main)</code> å°±æ˜¯ä¸€ä¸ªåŸºäº main.vue çš„ç»„ä»¶æ¨¡æ¿ï¼ˆæ„é€ å‡½æ•°ï¼‰ï¼Œ<code>instance</code> æ˜¯å®ä¾‹åŒ–çš„ç»„ä»¶ï¼Œ<code>$mount()</code> æ˜¯æ‰‹åŠ¨æŒ‚è½½çš„æ„æ€ã€‚å…¶ä¸­ <code>Vue.extend()</code> å’Œ <code>$mount()</code> å°±æ˜¯æˆ‘ä»¬é€šè¿‡ js è°ƒç”¨ã€æ¸²æŸ“å¹¶æŒ‚è½½ç»„ä»¶çš„ç²¾é«“æ‰€åœ¨ï¼Œç›¸å½“äºæ—©å‰çš„ <code>createElement</code> å’Œ <code>appendChild</code>ï¼Œæœ‰å¼‚æ›²åŒå·¥ä¹‹æ•ˆã€‚è¿™ä¸ªç‚¹éœ€è¦æˆ‘ä»¬å¥½å¥½ç†Ÿæ‚‰ä¸€ä¸‹ï¼Œæ‰€ä»¥ä½ å¯ä»¥å…ˆåœä¸‹æ¥å±¡å±¡æ€è·¯ğŸ¤”ã€‚<br>è¡¥å……ä¸€ä¸‹ğŸ¤ï¼š<code>$mount()</code> é‡Œé¢å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œè¯´æ˜ç»„ä»¶åªæ˜¯æ¸²æŸ“äº†ä½†è¿˜æ²¡æœ‰æŒ‚è½½åˆ°é¡µé¢ä¸Šï¼Œå¦‚æœæœ‰æ­£ç¡®çš„ï¼ˆå…ƒç´ ï¼‰å‚æ•°åˆ™ç›´æ¥æŒ‚è½½åˆ°å…ƒç´ ä¸‹é¢ã€‚</p>
<h2 id="å†™ä¸€ä¸ª-message-ç»„ä»¶"><a href="#å†™ä¸€ä¸ª-message-ç»„ä»¶" class="headerlink" title="å†™ä¸€ä¸ª message ç»„ä»¶"></a>å†™ä¸€ä¸ª message ç»„ä»¶</h2><p>js è°ƒç”¨å½’è°ƒç”¨ï¼Œæœ€åŸå§‹çš„ç»„ä»¶è¿˜æ˜¯è¦æœ‰çš„ï¼Œåªæ˜¯æˆ‘ä»¬ä¸é€šè¿‡ <code>import</code> æ¥å¼•å…¥åˆ°é¡µé¢ä¸­è€Œå·²ã€‚okï¼Œæˆ‘ä»¬å°±ä»¥æœ€å¼€å§‹çš„é‚£ä¸ª messageå›¾ç‰‡æ¥ç®€å•å†™ä¸€ä¸‹è¿™ä¸ª vue ç»„ä»¶ï¼ˆelement-uiä¸­çš„message å’Œ alert ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼‰ã€‚è¿™é‡Œå°±ç›´æ¥ä¸Šä»£ç å•¦ï¼Œæ¯•ç«Ÿå®ƒçš„ç»“æ„ç®€å•åˆ°çˆ†äº†ï¼Œä¹Ÿä¸æ˜¯æœ¬ç« èŠ‚çš„é‡ç‚¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- message.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;echojoy-message&quot; &gt;</span><br><span class="line">    &lt;p&gt;æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;EchojoyMessage&quot;,</span><br><span class="line">  </span><br><span class="line">  mounted() &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        // 3s åé€šè¿‡çˆ¶çº§ç§»é™¤å­å…ƒç´ çš„æ–¹å¼æ¥ç§»é™¤è¯¥ç»„ä»¶å®ä¾‹å’Œ DOM èŠ‚ç‚¹</span><br><span class="line">        this.$destroy(true);</span><br><span class="line">        this.$el.parentNode.removeChild(this.$el);</span><br><span class="line">      &#125;, 3000);</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.echojoy-message &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  position: fixed;</span><br><span class="line">  top: 0;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  color: #fff;</span><br><span class="line">  z-index: 9999;</span><br><span class="line">  background: transparent;</span><br><span class="line">  &gt; p &#123;</span><br><span class="line">    padding: 12px 22px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    background: rgba(17, 17, 17, 0.7);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„å†…å®¹æƒ³å¿…å¤§å®¶åº”è¯¥éƒ½èƒ½çœ‹æ‡‚ï¼Œæ‰€ä»¥è¿™é‡Œå°±ç›´æ¥è®²ä¸‹é¢çš„é‡ç‚¹äº†ã€‚</p>
<h2 id="å†™ä¸€ä¸ª-message-js"><a href="#å†™ä¸€ä¸ª-message-js" class="headerlink" title="å†™ä¸€ä¸ª message.js"></a>å†™ä¸€ä¸ª message.js</h2><p>æˆ‘ä»¬åœ¨ message.vue çš„åŒçº§ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª message.js æ–‡ä»¶ã€‚æˆ‘ä»¬å…ˆçŸä¸€çœ¼æ–‡ä»¶å†…å®¹ï¼ˆä¹Ÿä¸å¤šï¼Œå·²ç»æ˜¯ä¸ªæœ€ç®€ç‰ˆäº†ï¼‰ğŸ‘‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// message.js</span><br><span class="line">import Vue from &quot;vue&quot;; // å¼•å…¥ Vue æ˜¯å› ä¸ºè¦ç”¨åˆ° Vue.extend() è¿™ä¸ªæ–¹æ³•</span><br><span class="line">import message from &quot;./message.vue&quot;; // å¼•å…¥åˆšæ‰çš„ toast ç»„ä»¶</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const Toast = function() &#123;</span><br><span class="line">  instance = new ToastConstructor().$mount(); // æ¸²æŸ“ç»„ä»¶</span><br><span class="line">  </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let messageConstructor = Vue.extend(message); // è¿™ä¸ªåœ¨å‰é¢çš„å‰ç½®çŸ¥è¯†å†…å®¹é‡Œé¢æœ‰è®²åˆ°</span><br><span class="line">let instance;</span><br><span class="line"></span><br><span class="line">const Message = function (options = &#123;&#125;) &#123;</span><br><span class="line">    instance = new messageConstructor().$mount(); // æ¸²æŸ“ç»„ä»¶</span><br><span class="line">    document.body.appendChild(instance.$el); // æŒ‚è½½åˆ° body ä¸‹</span><br><span class="line">&#125;;</span><br><span class="line">export default Message;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç æš´éœ²äº†ä¸€ä¸ª Message å‡½æ•°ã€‚ä¸ºä»€ä¹ˆè¦æš´éœ²ä¸€ä¸ªå‡½æ•°å‘¢ï¼ŸåŸå› å¾ˆç®€å•ï¼šä½ æƒ³æƒ³ï¼Œæˆ‘ä»¬æœ€ç»ˆæ˜¯ä¸æ˜¯è¦æ ¹æ® <code>this.$Message ()</code> æ¥è°ƒç”¨ä¸€ä¸ªç»„ä»¶ï¼Œè¯´ç™½äº†ï¼Œé€šè¿‡ js è°ƒç”¨ï¼Œæœ¬è´¨å°±æ˜¯è°ƒç”¨ä¸€ä¸ª å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ <code>this.$Message ()</code> å°±æ˜¯æ‰§è¡Œäº†ä¸Šé¢ä»£ç ä¸­å¯¼å‡ºçš„ <code>export default Message</code>ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œäº† Message å‡½æ•°ï¼ˆ<code>const Message = function() {}</code>ï¼‰ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬è°ƒç”¨ <code>this.$Message()</code> çš„æ—¶å€™å…¶å®å°±æ˜¯æ‰§è¡Œäº† <code>Message()</code> å‡½æ•°ã€‚è€Œ <code>Message()</code> å‡½æ•°åªåšäº†ä¸€ä»¶äº‹æƒ…ï¼šå°±æ˜¯é€šè¿‡æ‰‹åŠ¨æŒ‚è½½çš„æ–¹å¼æŠŠç»„ä»¶æŒ‚è½½åˆ° body ä¸‹é¢ã€‚<br>è¡¥å……ä¸€ä¸‹ğŸ¤ï¼šä¸€èˆ¬æ¥è¯´æˆ‘ä»¬å¸¸è§çš„æ˜¯ <code>$mount(&quot;#app&quot;)</code>ï¼Œä¹Ÿå°±æ˜¯æŠŠç»„ä»¶æŒ‚è½½åˆ° <code>#app</code> ä¸‹é¢ï¼Œ<code>&lt;router-view /&gt;</code> ä¹ŸåŒ…å«åœ¨ <code>#app</code> ä¸­ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™ç§ Messageæç¤ºæ˜¯æ”¾åœ¨ <code>body</code> ä¸‹é¢çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¸å— <code>#app</code> å’Œ <code>&lt;router-view /&gt;</code> çš„ç®¡æ§ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬åˆ‡æ¢é¡µé¢ï¼ˆè·¯ç”±ï¼‰çš„æ—¶å€™ï¼Œè¿™ä¸ª Message ç»„ä»¶æ˜¯ä¸ä¼šè·Ÿç€ç«‹é©¬æ¶ˆå¤±çš„ï¼Œè¿™ç‚¹è¦æ³¨æ„å“¦ğŸ˜¯ã€‚<br>è¿™é‡Œé¡ºä¾¿ç»™ä¸ªç»„ä»¶çš„ç›®å½•ç»“æ„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="https://upload-images.jianshu.io/upload_images/11846892-2e4a12e3b5f5da91.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="message.png"></p>
<h2 id="å¼€å§‹è°ƒç”¨"><a href="#å¼€å§‹è°ƒç”¨" class="headerlink" title="å¼€å§‹è°ƒç”¨"></a>å¼€å§‹è°ƒç”¨</h2><p>è°ƒç”¨æ–¹å¼å¾ˆç®€å•ï¼Œé¦–å…ˆæˆ‘ä»¬åœ¨å…¥å£æ–‡ä»¶ main.jsï¼ˆå’Œä¸Šé¢ä¸æ˜¯åŒä¸€ä¸ªğŸ˜¢ï¼‰ é‡ŒåŠ ä¸Šä¸¤è¡Œä»£ç ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½åœ¨éœ€è¦çš„åœ°æ–¹ç›´æ¥ç”¨ js è°ƒç”¨å®ƒäº†ï¼Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import EchojoyMessage from &apos;./../packages/message/src/message.js&apos;</span><br><span class="line">Vue.prototype.$message = EchojoyMessage;</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨é¡µé¢ä¸­æµ‹è¯•ä¸€ä¸‹ï¼Œå°±åƒä¸‹é¢è¿™æ ·å­ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/11846892-09a2f0e7cbe77528.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ALAERT.png"></p>
<p>è¿è¡Œä¸€ä¸‹ä»£ç ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/11846892-a3c24b73cd995de6?imageMogr2/auto-orient/strip" alt="image"></p>
<figcaption></figcaption>

<p>å—¯ï¼ŒæŒºå¥½ï¼Œå°æœ‰æˆå°±çš„ feel ğŸ‘ğŸ‘ğŸ‘ã€‚</p>
<h2 id="æ”¯æŒå¯ä¼ å‚æ•°"><a href="#æ”¯æŒå¯ä¼ å‚æ•°" class="headerlink" title="æ”¯æŒå¯ä¼ å‚æ•°"></a>æ”¯æŒå¯ä¼ å‚æ•°</h2><p>åˆ«æ€¥ï¼Œæˆ‘ä»¬å¥½åƒè¿˜æ¼äº†ç‚¹ä»€ä¹ˆğŸ¤”ã€‚ã€‚ã€‚å¯¹äº†ï¼Œç°åœ¨è¿˜ä¸æ”¯æŒä¼ å‚å‘¢ï¼Œç›´æ¥è°ƒç”¨ <code>this.$message()</code> å°±åªèƒ½æ˜¾ç¤ºâ€”â€”â€”â€”æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•ï¼ˆè¿™ä¸‹å…¨éƒ½æ˜¯åç«¯çš„é”…äº†ğŸ˜Šï¼‰ã€‚ä½†æˆ‘ä»¬å¯æ˜¯ä¸ªæœ‰è¿½æ±‚çš„å‰ç«¯ï¼Œä¸èƒ½å±€é™äºæ­¤ï¼Œæ‰€ä»¥ç°åœ¨è®©æˆ‘ä»¬æ¥å°è¯•å¢åŠ ä¸‹ä¸¤ä¸ªå¯é…ç½®å‚æ•°ï¼Œè¿™é‡Œæ‹¿ <code>duration</code> å’Œ <code>content</code> ä¸¾ä¸ªæ —å­ğŸŒ°ã€‚<br>é¦–å…ˆæˆ‘ä»¬è¦ä¿®æ”¹ message.vue ç»„ä»¶é‡Œé¢çš„å†…å®¹ï¼ˆå…¶å®æ²¡å•¥å¤§å˜åŒ–ï¼‰ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- message.vue å¯é…ç½®ç‰ˆ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;div class=&quot;echojoy-message&quot; &gt;</span><br><span class="line">    &lt;p &gt;</span><br><span class="line">      &#123;&#123;content&#125;&#125; </span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// ä¸»è¦å°±æ”¹äº† data</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;EchojoyMessage&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      content: &quot;&quot;,</span><br><span class="line">      duration: 3000</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      this.$destroy(true);</span><br><span class="line">      this.$el.parentNode.removeChild(this.$el);</span><br><span class="line">    &#125;, this.duration);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç åº”è¯¥ç®—æ˜¯æµ…æ˜¾æ˜“æ‡‚äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹ message.js é‡Œé¢æ”¹äº†å•¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// message.js</span><br><span class="line">import Vue from &quot;vue&quot;; // å¼•å…¥ Vue æ˜¯å› ä¸ºè¦ç”¨åˆ° Vue.extend() è¿™ä¸ªæ–¹æ³•</span><br><span class="line">import message from &quot;./message.vue&quot;; // å¼•å…¥åˆšæ‰çš„ toast ç»„ä»¶</span><br><span class="line"></span><br><span class="line">let messageConstructor = Vue.extend(message); // è¿™ä¸ªåœ¨å‰é¢çš„å‰ç½®çŸ¥è¯†å†…å®¹é‡Œé¢æœ‰è®²åˆ°</span><br><span class="line">let instance;</span><br><span class="line"></span><br><span class="line">const Message = function (options = &#123;&#125;) &#123;</span><br><span class="line">  instance = new messageConstructor(&#123;</span><br><span class="line">    data: options // è¿™é‡Œçš„ data ä¼šä¼ åˆ° message.vue ç»„ä»¶ä¸­çš„ data ä¸­ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å†™åœ¨ props é‡Œ</span><br><span class="line">  &#125;); // æ¸²æŸ“ç»„ä»¶</span><br><span class="line">  document.body.appendChild(instance.$mount().$el); // æŒ‚è½½åˆ° body ä¸‹</span><br><span class="line">&#125;;</span><br><span class="line">export default Message;</span><br></pre></td></tr></table></figure>
<p>å…¶å® message.js ä¹Ÿæ²¡å¤šå¤§å˜åŒ–ï¼Œå°±æ˜¯åœ¨å‡½æ•°é‡Œé¢åŠ äº†ä¸ªå‚æ•°ã€‚è¦æ³¨æ„çš„æ˜¯ <code>new messageConstructor({ data: options })</code> ä¸­çš„ data å°±æ˜¯ message.vue ç»„ä»¶ä¸­çš„ dataï¼Œä¸æ˜¯éšéšä¾¿ä¾¿å–çš„å­—æ®µåï¼Œä¼ å…¥çš„ <code>options</code> ä¼šå’Œç»„ä»¶ä¸­çš„ data åˆå¹¶ï¼ˆVue çš„åŠŸåŠ³ï¼‰ã€‚<br>emã€‚ã€‚ã€‚æ˜¯çš„ï¼Œå°±è¿™ä¹ˆç®€å•ï¼Œç°åœ¨è®©æˆ‘ä»¬ç»§ç»­æ¥è°ƒç”¨ä¸€ä¸‹å®ƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    show()&#123;</span><br><span class="line">      this.$message.success(&#123;</span><br><span class="line">        content: &quot;å“ˆå“ˆå“ˆå“ˆï¼Œæ¶ˆå¤±çš„è´¼å¿«&quot;,</span><br><span class="line">        duration: 0</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-738632ab3db8fc91?imageMogr2/auto-orient/strip" alt="image"></p>
<figcaption></figcaption>

<p>å½“ç„¶ï¼Œè¿™è¿˜æ²¡å®Œï¼Œæˆ‘ä»¬ç»§ç»­æ·»åŠ ä¸ªå°åŠŸèƒ½ç‚¹ğŸ™„ã€‚ã€‚ã€‚</p>
<h2 id="æ”¯æŒ-this-message-error"><a href="#æ”¯æŒ-this-message-error" class="headerlink" title="æ”¯æŒ this.$message.error()"></a>æ”¯æŒ this.$message.error()</h2><p>è¿™é‡Œæˆ‘ä»¬æ‰“ç®—æ”¯æŒ <code>this.$message.error()</code> å’Œ <code>this.$message.success()</code> è¿™ä¸¤ç§æ–¹å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ç¬¬ä¸€æ­¥è¿˜æ˜¯è¦å…ˆå»ä¿®æ”¹ä¸€ä¸‹ message.vue æ–‡ä»¶çš„å†…å®¹ï¼ˆä¸»è¦å°±æ˜¯æ ¹æ® <code>type</code> å€¼æ¥ä¿®æ”¹ç»„ä»¶çš„æ ·å¼ï¼‰ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--main.vue--&gt;</span><br><span class="line">&lt;div class=&quot;echojoy-message&quot; :class=&quot;type ? `echojoy-message--$&#123;type&#125;` : &apos;&apos;&quot;&gt;</span><br><span class="line">    &lt;p class=&quot;echojoy-message-content&quot;&gt;</span><br><span class="line">      &#123;&#123;content&#125;&#125; </span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  ...</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      type: &quot;&quot;,</span><br><span class="line">      content: &quot;&quot;,</span><br><span class="line">      duration: 3000</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.echojoy-message&#123;</span><br><span class="line">  ...</span><br><span class="line">  &amp;--error p &#123; background: rgba(255, 0, 0, 0.5); &#125;</span><br><span class="line">  &amp;--success p &#123; background: rgba(0, 255, 0, 0.5); &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>å…¶æ¬¡ï¼Œ<code>this.$message.error()</code> å…¶å®å°±ç­‰ä»·äº <code>Message.error()</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨çš„ç›®çš„å°±æ˜¯è¦ç»™ Messageå‡½æ•°æ‰©å……æ–¹æ³•ï¼Œä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå°±å…ˆçœ‹ä»£ç å†è§£é‡Šå§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// message.js</span><br><span class="line">const Message= function(options = &#123;&#125;) &#123;</span><br><span class="line"> ...</span><br><span class="line">&#125;;</span><br><span class="line">// ä»¥ä¸‹å°±æ˜¯åœ¨ Messageå‡½æ•°ä¸­æ‹“å±• [&quot;success&quot;, &quot;error&quot;] è¿™ä¸¤ä¸ªæ–¹æ³•</span><br><span class="line"></span><br><span class="line">[&quot;success&quot;, &quot;error&quot;].forEach(type =&gt; &#123;</span><br><span class="line">  Message[type] = options =&gt; &#123;</span><br><span class="line">    options.type = type;</span><br><span class="line">    return Message(options);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default Message;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>Message.error()</code> å’Œ <code>Message.success()</code> æœ€ç»ˆè¿˜æ˜¯è°ƒç”¨ <code>Message(options)</code> è¿™ä¸ªå‡½æ•°ï¼Œåªä¸è¿‡åœ¨è°ƒç”¨ä¹‹å‰éœ€è¦å¤šåšä¸€æ­¥å¤„ç†ï¼Œå°±æ˜¯å°† <code>[&quot;success&quot;, &quot;error&quot;]</code> ä½œä¸ºä¸€ä¸ª <code>type</code> å‚æ•°ç»™åˆå¹¶è¿› <code>options</code> é‡Œé¢å†ä¼ é€’ï¼Œä»…æ­¤è€Œå·²ğŸ˜¬ã€‚<br>é‚£å°±è¯•è¯•æ•ˆæœå§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    show() &#123;</span><br><span class="line">      this.$message(&#123; content: &quot;è¿™æ˜¯æ­£å¸¸çš„&quot; &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    showError() &#123;</span><br><span class="line">      this.$message.error(&#123; content: &quot;ç«Ÿç„¶å¤±è´¥äº†&quot; &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    showSuccess() &#123;</span><br><span class="line">      this.$message.success(&#123; content: &quot;å±…ç„¶æˆåŠŸäº†&quot; &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-6435ed3c174a7160?imageMogr2/auto-orient/strip" alt="image"></p>
<h2 id="duration-lt-0-messageä¸€ç›´å­˜åœ¨"><a href="#duration-lt-0-messageä¸€ç›´å­˜åœ¨" class="headerlink" title="duration &lt;= 0,messageä¸€ç›´å­˜åœ¨"></a>duration &lt;= 0,messageä¸€ç›´å­˜åœ¨</h2><ul>
<li>ä¼ å…¥å‚æ•°énumberç±»å‹<br>é¦–å…ˆæˆ‘ä»¬ä¸ºäº†è®©ç»„ä»¶å¯ä»¥åœ¨ä¼ å…¥é”™è¯¯ç±»å‹çš„durationæ˜¯èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œåšäº†ä¸€ä¸ªå°å°çš„å…¼å®¹ï¼Œåˆ¤æ–­å˜é‡ç±»å‹æ˜¯å¦ä¸ºnumberï¼Œénumberç±»å‹ï¼Œæ§åˆ¶å°è¾“å‡ºé”™è¯¯ï¼Œå¹¶å¼ºè¡Œè½¬åŒ–durationä¸ºæ•°å­—1000.ï¼ˆå¤„ç†åŠæ³•ç›¸å½“ç²—æš´äº†ï¼ï¼ï¼‰</li>
<li>ä¼ å…¥å‚æ•°ä¸ºnumberç±»å‹ç§»é™¤è¯¥ç»„ä»¶å®ä¾‹å’Œ DOM èŠ‚ç‚¹<br><code>&gt;0</code><br>åœ¨durationçš„æ—¶é—´èŒƒå›´å†…ï¼Œç§»é™¤è¯¥ç»„ä»¶å®ä¾‹å’Œ DOM èŠ‚ç‚¹<br><code>&lt;=0</code><br>ä¸åšä»»ä½•å¤„ç†<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    if (typeof this.duration !== &apos;number&apos; ) &#123;</span><br><span class="line">      console.error(&apos;the duration must be a number!&apos;)</span><br><span class="line">      this.duration = 1000</span><br><span class="line">    &#125;</span><br><span class="line">    if (this.duration &gt; 0) &#123;</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        // 3s åé€šè¿‡çˆ¶çº§ç§»é™¤å­å…ƒç´ çš„æ–¹å¼æ¥ç§»é™¤è¯¥ç»„ä»¶å®ä¾‹å’Œ DOM èŠ‚ç‚¹</span><br><span class="line">        this.$destroy(true);</span><br><span class="line">        this.$el.parentNode.removeChild(this.$el);</span><br><span class="line">      &#125;, this.duration);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="æ‰‹åŠ¨å…³é—­message"><a href="#æ‰‹åŠ¨å…³é—­message" class="headerlink" title="æ‰‹åŠ¨å…³é—­message"></a>æ‰‹åŠ¨å…³é—­message</h2><p>åœ¨domç»“æ„ä¸Šè®¾ç½®å¯ä»¥æ‰§è¡Œå…³é—­çš„iconå›¾æ ‡,æ·»åŠ äº‹ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;i class=&quot;echojoy-icon-close echojoy-message-close&quot; @click=&quot;close&quot;&gt;&lt;/i&gt;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨scriptsä¸­å¢åŠ å‡½æ•°<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">    close()&#123;</span><br><span class="line">      this.$destroy(true);</span><br><span class="line">      this.$el.parentNode.removeChild(this.$el);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h4><p>å†è§å§ï¼</p>
<p>å‚è€ƒ è¿æ¥ï¼š<a href="https://juejin.im/post/5ca20e426fb9a05e42555d1d" target="_blank" rel="noopener">https://juejin.im/post/5ca20e426fb9a05e42555d1d</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2020/07/27/vueMessage/" data-id="ckinycm4q002g2ep30u50jc9e" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">next &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog-hexo/">blog-hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6/">es6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6-vue/">es6, vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm-react-typescript/">npm react typescript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue-test/">vue test</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue-vueRouter/">vue, vueRouter</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å‰ç«¯å·¥ç¨‹åŒ–/">å‰ç«¯å·¥ç¨‹åŒ–</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å‰ç«¯é¢è¯•é¢˜/">å‰ç«¯é¢è¯•é¢˜</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/blog-hexo/" style="font-size: 13.33px;">blog-hexo</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/es6/" style="font-size: 10px;">es6</a> <a href="/tags/es6-vue/" style="font-size: 10px;">es6, vue</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/js/" style="font-size: 13.33px;">js</a> <a href="/tags/node/" style="font-size: 13.33px;">node</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/npm-react-typescript/" style="font-size: 10px;">npm react typescript</a> <a href="/tags/vue/" style="font-size: 20px;">vue</a> <a href="/tags/vue-test/" style="font-size: 10px;">vue test</a> <a href="/tags/vue-vueRouter/" style="font-size: 10px;">vue, vueRouter</a> <a href="/tags/web/" style="font-size: 13.33px;">web</a> <a href="/tags/å‰ç«¯å·¥ç¨‹åŒ–/" style="font-size: 10px;">å‰ç«¯å·¥ç¨‹åŒ–</a> <a href="/tags/å‰ç«¯é¢è¯•é¢˜/" style="font-size: 16.67px;">å‰ç«¯é¢è¯•é¢˜</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2020/12/14/plop/">å‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºå·¥å…· ---- Plop</a>
          </li>
        
          <li>
            <a href="/2020/11/26/skeletons/">skeletons</a>
          </li>
        
          <li>
            <a href="/2020/11/20/scss1/">vueé¡¹ç›®ä¸­å¼•å…¥å…¨å±€scsså˜é‡</a>
          </li>
        
          <li>
            <a href="/2020/07/27/ReactFragment/">ReactFragmentç”¨æ³•ä»‹ç»</a>
          </li>
        
          <li>
            <a href="/2020/07/27/vueI18/">vueé¡¹ç›®ä¸­å¼•å…¥&amp;ä½¿ç”¨å›½é™…åŒ–</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>