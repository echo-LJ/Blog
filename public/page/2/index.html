<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-request" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/19/request/" class="article-date">
  <time datetime="2019-08-19T06:05:42.000Z" itemprop="datePublished">2019-08-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/19/request/">å…³äºå‰ç«¯è¯·æ±‚çš„é‚£äº›äº‹</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Author: Echo<br>Time: 2019-08-19 14:05:42</p>
<h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="headerlink" title="å¼•è¨€"></a>å¼•è¨€</h2><p>å‰ç«¯æ˜¯ä¸€ä¸ªå¿«é€Ÿå‘å±•çš„é¢†åŸŸï¼Œè€Œåœ¨å‰ç«¯çš„æŠ€æœ¯æ ˆå½“ä¸­ï¼Œå‰ç«¯è¯·æ±‚åˆæ˜¯æœ€è§çš„ä¸€ä¸ªé¢†åŸŸï¼Œé€šè¿‡è¯·æ±‚æ¥å£æ•°æ®ï¼Œæ‰èƒ½å°†ä¸€ä¸ªé™æ€çš„é¡µé¢åŠ¨æ€åŒ–ã€‚æœ¬æ–‡å°†ä»¥å‰ç«¯å‘å±•çš„æ—¶é—´è½´æ¥é€ä¸€åˆ†æå‰ç«¯è¯·æ±‚çš„æŠ€æœ¯æ¼”å˜åŠå…¶ä¼˜åŠ£ã€‚</p>
<h2 id="XMLHttpRequest"><a href="#XMLHttpRequest" class="headerlink" title="XMLHttpRequest"></a>XMLHttpRequest</h2><p>XMLHttpRequestæ˜¯æœ€æ—©å‡ºç°çš„ä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®çš„æ–¹æ¡ˆï¼Œæœ‰äº†XMLHttpRequest,å¼€å‘è€…ç»ˆäºå¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½é¡µé¢çš„æƒ…å†µä¸‹æ›´æ–°ç½‘é¡µï¼Œå¯ä»¥åœ¨é¡µé¢åŠ è½½åè¯·æ±‚æ¥å—ä»¥åŠå‘é€æ•°æ®ã€‚è€Œæ‰€æœ‰çš„æµè§ˆå™¨å‡æ”¯æŒè·å–XMLHttpRequestå¯¹è±¡<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var xhr = new XMLHttpRequest(); //è·å–XMLHttpRequestå¯¹è±¡</span><br></pre></td></tr></table></figure></p>
<p>ç”±äºæµè§ˆå™¨çš„å…¼å®¹æ€§ï¼Œå„ä¸ªæµè§ˆå™¨å¯¹äºåˆ›å»ºXMLHttpRequestçš„æ–¹æ³•ä¸åŒï¼Œä»¥ä¸‹æ˜¯å…¼å®¹æ–¹æ³•ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">var xhr;</span><br><span class="line">if (window.XMLHttpRequest) &#123; // Mozilla, Safari...</span><br><span class="line">  xhr = new XMLHttpRequest();</span><br><span class="line">&#125; else if (window.ActiveXObject) &#123; // IE</span><br><span class="line">  try &#123;</span><br><span class="line">    xhr = new ActiveXObject(&apos;Msxml2.XMLHTTP&apos;);</span><br><span class="line">  &#125; catch (e) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      xhr = new ActiveXObject(&apos;Microsoft.XMLHTTP&apos;);  //IE5,6</span><br><span class="line">    &#125; catch (e) &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ä½¿ç”¨XMLHttpRequestå‘èµ·ä¸€ä¸ªgetè¯·æ±‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// getè¯·æ±‚</span><br><span class="line">xhr.open(&quot;GET&quot;,&quot;test1.txt&quot;,true);</span><br><span class="line">xhr.send();</span><br></pre></td></tr></table></figure></p>
<p>å®Œæ•´çš„postè¯·æ±‚ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">var xhr;</span><br><span class="line">if (window.XMLHttpRequest) &#123; // Mozilla, Safari...</span><br><span class="line">  xhr = new XMLHttpRequest();</span><br><span class="line">&#125; else if (window.ActiveXObject) &#123; // IE</span><br><span class="line">  try &#123;</span><br><span class="line">    xhr = new ActiveXObject(&apos;Msxml2.XMLHTTP&apos;);</span><br><span class="line">  &#125; catch (e) &#123;</span><br><span class="line">    try &#123;</span><br><span class="line">      xhr = new ActiveXObject(&apos;Microsoft.XMLHTTP&apos;);</span><br><span class="line">    &#125; catch (e) &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (xhr) &#123;</span><br><span class="line">  xhr.onreadystatechange = onReadyStateChange;</span><br><span class="line">  xhr.open(&apos;POST&apos;, &apos;/api&apos;, true);</span><br><span class="line">  // è®¾ç½® Content-Type ä¸º application/x-www-form-urlencoded</span><br><span class="line">  // ä»¥è¡¨å•çš„å½¢å¼ä¼ é€’æ•°æ®</span><br><span class="line">  xhr.setRequestHeader(&apos;Content-Type&apos;, &apos;application/x-www-form-urlencoded&apos;);</span><br><span class="line">  xhr.send(&apos;username=admin&amp;password=root&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// onreadystatechange æ–¹æ³•</span><br><span class="line">function onReadyStateChange() &#123;</span><br><span class="line">  // è¯¥å‡½æ•°ä¼šè¢«è°ƒç”¨å››æ¬¡</span><br><span class="line">  if (xhr.readyState === 4 &amp;&amp;xhr.status === 200) &#123;</span><br><span class="line">    console.log(&apos;æ‰§è¡ŒæˆåŠŸ&apos;);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    console.log(&apos;æ‰§è¡Œå‡ºé”™&apos;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="Jquery-Ajax"><a href="#Jquery-Ajax" class="headerlink" title="Jquery Ajax"></a>Jquery Ajax</h2><p>è¯´åˆ°Jqueryï¼Œè¿™æ˜¯ä¸€ä¸ªæ—¶ä»£ï¼Œå‡ ä¹ç»Ÿæ²»äº†å‰ç«¯10å¹´æœ‰ä½™ï¼Œå½»åº•è§£å†³äº†UIå±‚ä¸æ•°æ®å±‚äº¤äº’çš„é—®é¢˜ï¼Œç›´åˆ°ä¸‰å¤§æ¡†æ¶(Angular/React/Vueï¼‰çš„å‡ºç°ï¼Œå‰ç«¯è¿›å…¥MVVMæµªæ½®ã€‚è€ŒAjaxå°†XHRè¿›è¡Œå°è£…ï¼Œè®©å¼€å‘è€…å¯ä»¥æ›´åŠ ä¾¿æ·æ–¹ä¾¿è¿›è¡Œä½¿ç”¨ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;   //æ ‡å‡†å†™æ³•</span><br><span class="line">   type: &apos;POST&apos;,</span><br><span class="line">   url: url,</span><br><span class="line">   data: data,</span><br><span class="line">   dataType: dataType,</span><br><span class="line">   success: function () &#123;&#125;,</span><br><span class="line">   error: function () &#123;&#125;</span><br><span class="line">&#125;);</span><br><span class="line">$.get(url,function()&#123;&#125;); //getè¯·æ±‚</span><br><span class="line">$.post(url,body,function()&#123;&#125;); //postè¯·æ±‚</span><br><span class="line">$.getJSON(url,function()&#123;&#125;);  //getè¯·æ±‚ä»æœåŠ¡å™¨åŠ è½½Jsonç¼–ç </span><br></pre></td></tr></table></figure></p>
<h4 id="ä¼˜ç‚¹ï¼š"><a href="#ä¼˜ç‚¹ï¼š" class="headerlink" title="ä¼˜ç‚¹ï¼š"></a>ä¼˜ç‚¹ï¼š</h4><ul>
<li>å¯¹åŸç”ŸXHRçš„å°è£…</li>
<li>é’ˆå¯¹MVCçš„ç¼–ç¨‹</li>
<li>å®Œç¾çš„å…¼å®¹æ€§</li>
<li>æ”¯æŒjsonp<h4 id="ç¼ºç‚¹ï¼š"><a href="#ç¼ºç‚¹ï¼š" class="headerlink" title="ç¼ºç‚¹ï¼š"></a>ç¼ºç‚¹ï¼š</h4></li>
<li>ä¸ç¬¦åˆMVVM</li>
<li>å¼‚æ­¥æ¨¡å‹ä¸å¤Ÿç°ä»£ï¼Œä¸æ”¯æŒé“¾å¼ï¼Œä»£ç å¯è¯»æ€§å·®</li>
<li>æ•´ä¸ªJqueryå¤ªå¤§ï¼Œå¼•å…¥æˆæœ¬è¿‡é«˜</li>
</ul>
<h2 id="Fetch"><a href="#Fetch" class="headerlink" title="Fetch"></a>Fetch</h2><p>fetchå…¶å®æ˜¯ä¸€ä¸ªæ–°ä¸–ç•Œï¼Œè„±ç¦»XHRï¼Œå®Œå…¨æ˜¯åŸºäºPromiseçš„å¼‚æ­¥å¤„ç†æœºåˆ¶ï¼Œä½¿ç”¨èµ·æ¥ä¼šæ¯”ajaxæ›´åŠ ç®€å•ã€‚<br>ä½¿ç”¨fetchçš„ä»£ç ä¼šç›¸æ¯”xhræ¥è¯´æ›´å…·æœ‰æ¡ç†æ€§ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fetch(url).then(function(response) &#123;</span><br><span class="line">  return response.json();</span><br><span class="line">&#125;).then(function(data) &#123;</span><br><span class="line">  console.log(data);</span><br><span class="line">&#125;).catch(function(e) &#123;</span><br><span class="line">  console.log(&quot;Oops, error&quot;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>åœ¨ä½¿ç”¨ES6çš„ç®­å¤´å‡½æ•°å<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fetch(url).then(response =&gt; response.json())</span><br><span class="line">  .then(data =&gt; console.log(data))</span><br><span class="line">  .catch(e =&gt; console.log(&quot;Oops, error&quot;, e))</span><br></pre></td></tr></table></figure></p>
<p>ä¼˜ç‚¹ï¼š</p>
<ul>
<li>æ›´åŠ åº•å±‚ï¼Œæä¾›çš„APIä¸°å¯Œï¼ˆrequest, responseï¼‰</li>
<li>è¯­æ³•ç®€å•ï¼Œè„±ç¦»äº†XHRï¼ŒåŸºäºESæ–°çš„Promiseè®¾è®¡</li>
</ul>
<p>ç¼ºç‚¹ï¼š</p>
<ul>
<li>å…¼å®¹æ€§æ¯”è¾ƒå‡„æƒ¨ï¼Œä½çº§åˆ«æµè§ˆå™¨å‡ä¸æ”¯æŒï¼Œéœ€è¦å®ç°fetchçš„polyfilläº†ã€‚æ€è·¯å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯åˆ¤æ–­æµè§ˆå™¨æ˜¯å¦æ”¯æŒåŸç”Ÿçš„fetchï¼Œä¸æ”¯æŒçš„è¯ï¼Œå°±ä»ç„¶ä½¿ç”¨XMLHttpRequestçš„æ–¹å¼å®ç°ï¼ŒåŒæ—¶ç»“åˆPromiseæ¥è¿›è¡Œå°è£…ã€‚å¸¸è§çš„polyfillå°±æœ‰ï¼š<code>es6-promise</code>,<code>babel-polyfill</code>,<code>fetch-ie8</code>ç­‰</li>
<li>ä¸æ”¯æŒjsonpï¼Œå¯ä»¥å¼•å…¥<code>fetch-jsonp</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å®‰è£… npm install fetch-jsonp --save-dev</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// ä½¿ç”¨ </span><br><span class="line">fetchJsonp(url, &#123;</span><br><span class="line"> timeout: 3000, jsonpCallback: &apos;callback&apos; </span><br><span class="line">&#125;).then(function(response) &#123; </span><br><span class="line">  console.log(response.json()); </span><br><span class="line">&#125;).catch(function(e) &#123; </span><br><span class="line">  console.log(e) </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>æ²¡æœ‰æ‹¦æˆªå™¨ï¼Œéœ€è¦é¢å¤–å†å°è£…ä¸€å±‚æˆ–è€…<code>fetch-interceptor</code></li>
<li>é»˜è®¤ä¸å¸¦cookieï¼Œéœ€è¦æ·»åŠ é…ç½®</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fetch(url,&#123;</span><br><span class="line">  credentials: &apos;include&apos;  </span><br><span class="line">  //includeè¡¨ç¤ºcookieæ—¢å¯åŒåŸŸï¼Œä¹Ÿå¯è·¨åŸŸï¼Œâ€˜same-originâ€™è¡¨ç¤ºåªå¯åŒåŸŸ</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>æ²¡æœ‰abortï¼Œä¸æ”¯æŒtimeoutè¶…æ—¶å¤„ç†<br>å¯ä»¥ç”¨Promise.race()å®ç°ï¼ŒPromise.race(iterable) æ–¹æ³•è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œåªè¦ iterable ä¸­ä»»æ„ä¸€ä¸ªPromise è¢« resolve æˆ–è€… reject åï¼Œå¤–éƒ¨çš„Promise å°±ä¼šä»¥ç›¸åŒçš„å€¼è¢« resolve æˆ–è€… rejectã€‚</li>
<li>æ— æ³•è·å–progressçŠ¶æ€<br>Fetchä¸­çš„Response.body ä¸­å®ç°äº†getReader()æ–¹æ³•ç”¨äºè¯»å–åŸå§‹å­—èŠ‚æµ, è¯¥å­—èŠ‚æµå¯ä»¥å¾ªç¯è¯»å–.<h2 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h2>axiosä¹Ÿæ˜¯æ¯”è¾ƒæ–°çš„ç½‘ç»œè¯·æ±‚çš„ç±»åº“ï¼Œå¹¶ä¸”è¢«å°¤é›¨æºªå°¤å¤§æ¨èï¼Œå·²æˆä¸ºVUEçš„ç½‘ç»œè¯·æ±‚æ ‡é…ï¼Œä¹Ÿæ˜¯ååˆ†çš„ç«çˆ†ã€‚å®ƒæœ¬èº«ä¹Ÿæ˜¯å¯¹åŸç”ŸXHRçš„å°è£…ã€‚</li>
<li>æ”¯æŒnodeï¼Œåˆ›å»ºhttpè¯·æ±‚</li>
<li>æ”¯æŒPromise API</li>
<li>å®¢æˆ·ç«¯é˜²æ­¢CSRFï¼šæ¯ä¸ªè¯·æ±‚å¸¦ä¸€ä¸ªcookieæ‹¿åˆ°çš„key</li>
<li>æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li>
<li>å¯å–æ¶ˆè¯·æ±‚<br>å…¼å®¹æ€§ä¸Šè™½ç„¶axiosæœ¬è´¨ä¸Šä¹Ÿæ˜¯å¯¹åŸç”ŸXHRçš„å°è£…ï¼Œä½†æ˜¯å®ƒä¹Ÿä¾èµ–åŸç”ŸES6 Promiseçš„å®ç°ï¼Œå’Œfetchä¸€æ ·éœ€è¦polyfillçš„å…¼å®¹ã€‚<h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…:"></a>å®‰è£…:</h4></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//npm</span><br><span class="line">npm install axios</span><br><span class="line"></span><br><span class="line">//cdn</span><br><span class="line">&lt;script src=&quot;https://unpkg.com/axios/dist/axios.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h4 id="åŸºæœ¬ä½¿ç”¨å¦‚ä¸‹ï¼š"><a href="#åŸºæœ¬ä½¿ç”¨å¦‚ä¸‹ï¼š" class="headerlink" title="åŸºæœ¬ä½¿ç”¨å¦‚ä¸‹ï¼š"></a>åŸºæœ¬ä½¿ç”¨å¦‚ä¸‹ï¼š</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">axios(&#123;</span><br><span class="line">    method: &apos;GET&apos;,</span><br><span class="line">    url: url,</span><br><span class="line">&#125;)</span><br><span class="line">.then(res =&gt; &#123;console.log(res)&#125;)</span><br><span class="line">.catch(err =&gt; &#123;console.log(err)&#125;)</span><br><span class="line"></span><br><span class="line">// getè¯·æ±‚</span><br><span class="line">axios.get(url)</span><br><span class="line">  .then(function (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">// postè¯·æ±‚</span><br><span class="line">axios.postï¼ˆâ€˜/userâ€™, &#123;</span><br><span class="line">    name: &apos;Jerry&apos;,</span><br><span class="line">    lastName: &apos;Liang&apos;</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(function (response) &#123;</span><br><span class="line">    console.log(response);</span><br><span class="line">  &#125;)</span><br><span class="line">  .catch(function (error) &#123;</span><br><span class="line">    console.log(error);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<h2 id="å¦‚ä½•é€‰æ‹©ï¼ˆä¸ªäººç†è§£ï¼Œä»…ä¾›å‚è€ƒï¼‰"><a href="#å¦‚ä½•é€‰æ‹©ï¼ˆä¸ªäººç†è§£ï¼Œä»…ä¾›å‚è€ƒï¼‰" class="headerlink" title="å¦‚ä½•é€‰æ‹©ï¼ˆä¸ªäººç†è§£ï¼Œä»…ä¾›å‚è€ƒï¼‰"></a>å¦‚ä½•é€‰æ‹©ï¼ˆä¸ªäººç†è§£ï¼Œä»…ä¾›å‚è€ƒï¼‰<a href="https://qianduan.group/posts/5bebe26f9fd64d5a7458a932#-" target="_blank" rel="noopener"></a></h2><ol>
<li>é¦–å…ˆå¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œå¦‚æœä½ çš„ä»£ç ä¾æ—§æ˜¯åŸºäºJqueryï¼Œé‚£æ¯«æ— ç–‘é—®ï¼Œajaxå°±æ˜¯ä½ æœ€å¥½çš„é€‰æ‹©ã€‚</li>
<li>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯ä»»æ„MVVMæ¡†æ¶ï¼Œå»ºè®®æ— è„‘ä½¿ç”¨axiosï¼Œfetchåœ¨å®é™…é¡¹ç›®ä½¿ç”¨ä¸­ï¼Œéœ€è¦å„ç§çš„å°è£…å’Œå¼‚å¸¸å¤„ç†ï¼Œå¹¶éå¼€ç®±å³ç”¨ï¼Œè€Œaxioså¯ä»¥åšåˆ°ç›´æ¥æ›¿æ¢$.ajaxã€‚</li>
<li>å¦‚æœå°±æ˜¯è¦ä½¿ç”¨fetchï¼Œé‚£ç›¸ä¿¡ä½ ä¹Ÿä¸€å®šèƒ½å°è£…æˆè‡ªå·±çš„ä¸€å¥—æœ€ä½³å®è·µã€‚</li>
</ol>
<p>å‚è€ƒï¼š<a href="https://qianduan.group/posts/5bebe26f9fd64d5a7458a932" target="_blank" rel="noopener">https://qianduan.group/posts/5bebe26f9fd64d5a7458a932</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/08/19/request/" data-id="ck0qpey4j000ikkkc0za5iiie" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-message-comp" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/15/message-comp/" class="article-date">
  <time datetime="2019-08-15T08:05:21.000Z" itemprop="datePublished">2019-08-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/15/message-comp/">æ¨¡æ‹Ÿelement-uiå†™messageç»„ä»¶æ€è·¯</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Author: Echo<br>Time: 2019-08-15 16:05:21</p>
<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨å¹³æ—¶çš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ€»æ˜¯å…ˆå†™å¥½ä¸€ä¸ªç»„ä»¶ï¼Œç„¶ååœ¨éœ€è¦çš„é¡µé¢ä¸­ç”¨ <code>import</code> å¼•å…¥å³å¯ï¼Œä½†å¦‚æœæ˜¯ä¸‹é¢è¿™ç§ç±»å‹çš„ç»„ä»¶å‘¢ğŸ‘‡</p>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-a36600e65a733412?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>ä¸Šé¢è¿™ç§ç±»å‹çš„æµ®å±‚æç¤ºæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯ä½¿ç”¨é¢‘ç‡ç‰¹åˆ«é«˜ï¼Œå‡ ä¹æ¯ä¸ªé¡µé¢éƒ½ä¼šç”¨åˆ°å®ƒï¼Œäºæ˜¯ä¹æˆ‘ä»¬å°±è¦åœ¨æ¯ä¸ªé¡µé¢ä¸­å»å¼•å…¥è¯¥ç»„ä»¶ï¼Œå¹¶ä¸”åœ¨æ¯ä¸ªé¡µé¢éƒ½å¾—é€šè¿‡ä¸€ä¸ªå˜é‡æ¥æ§åˆ¶å®ƒçš„æ˜¾éšï¼Œè¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ğŸ™…ã€‚ã€‚ã€‚é‚£æˆ‘ä»¬æƒ³è¦çš„æ˜¯ä»€ä¹ˆæ ·å‘¢ğŸ¤”ï¼Ÿç”¨è¿‡ä¸€äº› UI æ¡†æ¶çš„åŒå­¦ä»¬åº”è¯¥çŸ¥é“æœ‰è¿™æ ·ä¸€ç§ç”¨æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">this.$message(&#123;</span><br><span class="line">    duration: 3000,</span><br><span class="line">    content: &apos;è¿™æ˜¯ä¸€æ¡æ¶ˆæ¯æç¤º&apos;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>æ²¡é”™ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•çš„ä¸€å¥è¯å°±ä¸‡äº‹å¤§å‰äº†ï¼ˆå°±æ˜¯ç”¨ js è°ƒç”¨ç»„ä»¶è€Œå·²å•¦ğŸ§ï¼‰ã€‚é‚£è¿™ç§æ•ˆæœç©¶ç«Ÿæ˜¯æ€ä¹ˆå®ç°çš„å‘¢ï¼Ÿä»Šå¤©å°±è®©æˆ‘ä»¬æ¥ï¼ˆæ‰‹æŠŠæ‰‹ğŸ¤ ï¼‰ä¸€æ¢ç©¶ç«Ÿå§ï¼</p>
<h2 id="å‰ç½®çŸ¥è¯†"><a href="#å‰ç½®çŸ¥è¯†" class="headerlink" title="å‰ç½®çŸ¥è¯†"></a>å‰ç½®çŸ¥è¯†</h2><p>ä¸çŸ¥é“å°ä¼™ä¼´ä»¬æœ‰æ²¡æœ‰ç”¨è¿‡ <code>Vue.extend()</code> è¿™ä¸ªä¸œä¸œï¼Œåæ­£æˆ‘æ˜¯å¾ˆå°‘ç¢°è¿‡ï¼Œå°è±¡ä¸æ·±ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å…ˆæ¥çŸ­æš‚äº†è§£ä¸€ä¸‹ <code>Vue.extend()</code> ä¸»è¦æ˜¯ç”¨æ¥å¹²å˜›çš„ã€‚å…ˆæ¥ä¸ªå®˜æ–¹è¯´æ˜ï¼ˆä¸å¤šçš„ï¼ŒåšæŒä¸‹ï¼‰ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-562ca3309f3120c7?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>æ²¡æ€ä¹ˆçœ‹æ‡‚ï¼ŸğŸ˜´æ²¡å…³ç³»ï¼Œä¸é‡è¦ï¼Œä½ åªè¦è®°ä½ï¼ˆåŠ å°‘è®¸ç†è§£ï¼‰ä»¥ä¸‹ç”¨æ³•å³å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// å¯¼å…¥ä»¥å¾€çš„æ™®é€šç»„ä»¶</span><br><span class="line">import Main from &apos;./main.vue&apos;;</span><br><span class="line">// ç”¨ Vue.extend åˆ›å»ºç»„ä»¶çš„æ¨¡æ¿ï¼ˆæ„é€ å‡½æ•°ï¼‰</span><br><span class="line">let mainConstructor = Vue.extend(Main);</span><br><span class="line">// å®ä¾‹åŒ–ç»„ä»¶</span><br><span class="line">let instance = new mainConstructor();</span><br><span class="line">// æŒ‚è½½åˆ°ç›¸åº”çš„å…ƒç´ ä¸Š</span><br><span class="line">instance.$mount(&apos;#app&apos;);</span><br></pre></td></tr></table></figure>
<p>ä¸çŸ¥é“ä½ çœ‹æ‡‚æ²¡æœ‰ï¼Œä¸Šé¢çš„ <code>Vue.extend(Main)</code> å°±æ˜¯ä¸€ä¸ªåŸºäº main.vue çš„ç»„ä»¶æ¨¡æ¿ï¼ˆæ„é€ å‡½æ•°ï¼‰ï¼Œ<code>instance</code> æ˜¯å®ä¾‹åŒ–çš„ç»„ä»¶ï¼Œ<code>$mount()</code> æ˜¯æ‰‹åŠ¨æŒ‚è½½çš„æ„æ€ã€‚å…¶ä¸­ <code>Vue.extend()</code> å’Œ <code>$mount()</code> å°±æ˜¯æˆ‘ä»¬é€šè¿‡ js è°ƒç”¨ã€æ¸²æŸ“å¹¶æŒ‚è½½ç»„ä»¶çš„ç²¾é«“æ‰€åœ¨ï¼Œç›¸å½“äºæ—©å‰çš„ <code>createElement</code> å’Œ <code>appendChild</code>ï¼Œæœ‰å¼‚æ›²åŒå·¥ä¹‹æ•ˆã€‚è¿™ä¸ªç‚¹éœ€è¦æˆ‘ä»¬å¥½å¥½ç†Ÿæ‚‰ä¸€ä¸‹ï¼Œæ‰€ä»¥ä½ å¯ä»¥å…ˆåœä¸‹æ¥å±¡å±¡æ€è·¯ğŸ¤”ã€‚<br>è¡¥å……ä¸€ä¸‹ğŸ¤ï¼š<code>$mount()</code> é‡Œé¢å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œè¯´æ˜ç»„ä»¶åªæ˜¯æ¸²æŸ“äº†ä½†è¿˜æ²¡æœ‰æŒ‚è½½åˆ°é¡µé¢ä¸Šï¼Œå¦‚æœæœ‰æ­£ç¡®çš„ï¼ˆå…ƒç´ ï¼‰å‚æ•°åˆ™ç›´æ¥æŒ‚è½½åˆ°å…ƒç´ ä¸‹é¢ã€‚</p>
<h2 id="å†™ä¸€ä¸ª-message-ç»„ä»¶"><a href="#å†™ä¸€ä¸ª-message-ç»„ä»¶" class="headerlink" title="å†™ä¸€ä¸ª message ç»„ä»¶"></a>å†™ä¸€ä¸ª message ç»„ä»¶</h2><p>js è°ƒç”¨å½’è°ƒç”¨ï¼Œæœ€åŸå§‹çš„ç»„ä»¶è¿˜æ˜¯è¦æœ‰çš„ï¼Œåªæ˜¯æˆ‘ä»¬ä¸é€šè¿‡ <code>import</code> æ¥å¼•å…¥åˆ°é¡µé¢ä¸­è€Œå·²ã€‚okï¼Œæˆ‘ä»¬å°±ä»¥æœ€å¼€å§‹çš„é‚£ä¸ª messageå›¾ç‰‡æ¥ç®€å•å†™ä¸€ä¸‹è¿™ä¸ª vue ç»„ä»¶ï¼ˆelement-uiä¸­çš„message å’Œ alert ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼‰ã€‚è¿™é‡Œå°±ç›´æ¥ä¸Šä»£ç å•¦ï¼Œæ¯•ç«Ÿå®ƒçš„ç»“æ„ç®€å•åˆ°çˆ†äº†ï¼Œä¹Ÿä¸æ˜¯æœ¬ç« èŠ‚çš„é‡ç‚¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- message.vue --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;echojoy-message&quot; &gt;</span><br><span class="line">    &lt;p&gt;æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;EchojoyMessage&quot;,</span><br><span class="line">  </span><br><span class="line">  mounted() &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">        // 3s åé€šè¿‡çˆ¶çº§ç§»é™¤å­å…ƒç´ çš„æ–¹å¼æ¥ç§»é™¤è¯¥ç»„ä»¶å®ä¾‹å’Œ DOM èŠ‚ç‚¹</span><br><span class="line">        this.$destroy(true);</span><br><span class="line">        this.$el.parentNode.removeChild(this.$el);</span><br><span class="line">      &#125;, 3000);</span><br><span class="line">    </span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.echojoy-message &#123;</span><br><span class="line">  display: flex;</span><br><span class="line">  align-items: center;</span><br><span class="line">  justify-content: center;</span><br><span class="line">  position: fixed;</span><br><span class="line">  top: 0;</span><br><span class="line">  bottom: 0;</span><br><span class="line">  left: 0;</span><br><span class="line">  right: 0;</span><br><span class="line">  color: #fff;</span><br><span class="line">  z-index: 9999;</span><br><span class="line">  background: transparent;</span><br><span class="line">  &gt; p &#123;</span><br><span class="line">    padding: 12px 22px;</span><br><span class="line">    font-size: 18px;</span><br><span class="line">    border-radius: 4px;</span><br><span class="line">    background: rgba(17, 17, 17, 0.7);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„å†…å®¹æƒ³å¿…å¤§å®¶åº”è¯¥éƒ½èƒ½çœ‹æ‡‚ï¼Œæ‰€ä»¥è¿™é‡Œå°±ç›´æ¥è®²ä¸‹é¢çš„é‡ç‚¹äº†ã€‚</p>
<h2 id="å†™ä¸€ä¸ª-message-js"><a href="#å†™ä¸€ä¸ª-message-js" class="headerlink" title="å†™ä¸€ä¸ª message.js"></a>å†™ä¸€ä¸ª message.js</h2><p>æˆ‘ä»¬åœ¨ message.vue çš„åŒçº§ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª message.js æ–‡ä»¶ã€‚æˆ‘ä»¬å…ˆçŸä¸€çœ¼æ–‡ä»¶å†…å®¹ï¼ˆä¹Ÿä¸å¤šï¼Œå·²ç»æ˜¯ä¸ªæœ€ç®€ç‰ˆäº†ï¼‰ğŸ‘‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// message.js</span><br><span class="line">import Vue from &quot;vue&quot;; // å¼•å…¥ Vue æ˜¯å› ä¸ºè¦ç”¨åˆ° Vue.extend() è¿™ä¸ªæ–¹æ³•</span><br><span class="line">import message from &quot;./message.vue&quot;; // å¼•å…¥åˆšæ‰çš„ toast ç»„ä»¶</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">const Toast = function() &#123;</span><br><span class="line">  instance = new ToastConstructor().$mount(); // æ¸²æŸ“ç»„ä»¶</span><br><span class="line">  </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let messageConstructor = Vue.extend(message); // è¿™ä¸ªåœ¨å‰é¢çš„å‰ç½®çŸ¥è¯†å†…å®¹é‡Œé¢æœ‰è®²åˆ°</span><br><span class="line">let instance;</span><br><span class="line"></span><br><span class="line">const Message = function (options = &#123;&#125;) &#123;</span><br><span class="line">    instance = new messageConstructor().$mount(); // æ¸²æŸ“ç»„ä»¶</span><br><span class="line">    document.body.appendChild(instance.$el); // æŒ‚è½½åˆ° body ä¸‹</span><br><span class="line">&#125;;</span><br><span class="line">export default Message;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç æš´éœ²äº†ä¸€ä¸ª Message å‡½æ•°ã€‚ä¸ºä»€ä¹ˆè¦æš´éœ²ä¸€ä¸ªå‡½æ•°å‘¢ï¼ŸåŸå› å¾ˆç®€å•ï¼šä½ æƒ³æƒ³ï¼Œæˆ‘ä»¬æœ€ç»ˆæ˜¯ä¸æ˜¯è¦æ ¹æ® <code>this.$Message ()</code> æ¥è°ƒç”¨ä¸€ä¸ªç»„ä»¶ï¼Œè¯´ç™½äº†ï¼Œé€šè¿‡ js è°ƒç”¨ï¼Œæœ¬è´¨å°±æ˜¯è°ƒç”¨ä¸€ä¸ª å‡½æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ <code>this.$Message ()</code> å°±æ˜¯æ‰§è¡Œäº†ä¸Šé¢ä»£ç ä¸­å¯¼å‡ºçš„ <code>export default Message</code>ï¼Œä¹Ÿå°±æ˜¯æ‰§è¡Œäº† Message å‡½æ•°ï¼ˆ<code>const Message = function() {}</code>ï¼‰ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬è°ƒç”¨ <code>this.$Message()</code> çš„æ—¶å€™å…¶å®å°±æ˜¯æ‰§è¡Œäº† <code>Message()</code> å‡½æ•°ã€‚è€Œ <code>Message()</code> å‡½æ•°åªåšäº†ä¸€ä»¶äº‹æƒ…ï¼šå°±æ˜¯é€šè¿‡æ‰‹åŠ¨æŒ‚è½½çš„æ–¹å¼æŠŠç»„ä»¶æŒ‚è½½åˆ° body ä¸‹é¢ã€‚<br>è¡¥å……ä¸€ä¸‹ğŸ¤ï¼šä¸€èˆ¬æ¥è¯´æˆ‘ä»¬å¸¸è§çš„æ˜¯ <code>$mount(&quot;#app&quot;)</code>ï¼Œä¹Ÿå°±æ˜¯æŠŠç»„ä»¶æŒ‚è½½åˆ° <code>#app</code> ä¸‹é¢ï¼Œ<code>&lt;router-view /&gt;</code> ä¹ŸåŒ…å«åœ¨ <code>#app</code> ä¸­ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™ç§ Messageæç¤ºæ˜¯æ”¾åœ¨ <code>body</code> ä¸‹é¢çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¸å— <code>#app</code> å’Œ <code>&lt;router-view /&gt;</code> çš„ç®¡æ§ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬åˆ‡æ¢é¡µé¢ï¼ˆè·¯ç”±ï¼‰çš„æ—¶å€™ï¼Œè¿™ä¸ª Message ç»„ä»¶æ˜¯ä¸ä¼šè·Ÿç€ç«‹é©¬æ¶ˆå¤±çš„ï¼Œè¿™ç‚¹è¦æ³¨æ„å“¦ğŸ˜¯ã€‚<br>è¿™é‡Œé¡ºä¾¿ç»™ä¸ªç»„ä»¶çš„ç›®å½•ç»“æ„ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><img src="https://upload-images.jianshu.io/upload_images/11846892-2e4a12e3b5f5da91.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="message.png"></p>
<h2 id="å¼€å§‹è°ƒç”¨"><a href="#å¼€å§‹è°ƒç”¨" class="headerlink" title="å¼€å§‹è°ƒç”¨"></a>å¼€å§‹è°ƒç”¨</h2><p>è°ƒç”¨æ–¹å¼å¾ˆç®€å•ï¼Œé¦–å…ˆæˆ‘ä»¬åœ¨å…¥å£æ–‡ä»¶ main.jsï¼ˆå’Œä¸Šé¢ä¸æ˜¯åŒä¸€ä¸ªğŸ˜¢ï¼‰ é‡ŒåŠ ä¸Šä¸¤è¡Œä»£ç ï¼Œè¿™æ ·æˆ‘ä»¬å°±èƒ½åœ¨éœ€è¦çš„åœ°æ–¹ç›´æ¥ç”¨ js è°ƒç”¨å®ƒäº†ï¼Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import EchojoyMessage from &apos;./../packages/message/src/message.js&apos;</span><br><span class="line">Vue.prototype.$message = EchojoyMessage;</span><br></pre></td></tr></table></figure>
<p>ç„¶ååœ¨é¡µé¢ä¸­æµ‹è¯•ä¸€ä¸‹ï¼Œå°±åƒä¸‹é¢è¿™æ ·å­ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/11846892-09a2f0e7cbe77528.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="ALAERT.png"></p>
<p>è¿è¡Œä¸€ä¸‹ä»£ç ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/11846892-a3c24b73cd995de6?imageMogr2/auto-orient/strip" alt="image"></p>
<figcaption></figcaption>

<p>å—¯ï¼ŒæŒºå¥½ï¼Œå°æœ‰æˆå°±çš„ feel ğŸ‘ğŸ‘ğŸ‘ã€‚</p>
<h2 id="æ”¯æŒå¯ä¼ å‚æ•°"><a href="#æ”¯æŒå¯ä¼ å‚æ•°" class="headerlink" title="æ”¯æŒå¯ä¼ å‚æ•°"></a>æ”¯æŒå¯ä¼ å‚æ•°</h2><p>åˆ«æ€¥ï¼Œæˆ‘ä»¬å¥½åƒè¿˜æ¼äº†ç‚¹ä»€ä¹ˆğŸ¤”ã€‚ã€‚ã€‚å¯¹äº†ï¼Œç°åœ¨è¿˜ä¸æ”¯æŒä¼ å‚å‘¢ï¼Œç›´æ¥è°ƒç”¨ <code>this.$message()</code> å°±åªèƒ½æ˜¾ç¤ºâ€”â€”â€”â€”æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•ï¼ˆè¿™ä¸‹å…¨éƒ½æ˜¯åç«¯çš„é”…äº†ğŸ˜Šï¼‰ã€‚ä½†æˆ‘ä»¬å¯æ˜¯ä¸ªæœ‰è¿½æ±‚çš„å‰ç«¯ï¼Œä¸èƒ½å±€é™äºæ­¤ï¼Œæ‰€ä»¥ç°åœ¨è®©æˆ‘ä»¬æ¥å°è¯•å¢åŠ ä¸‹ä¸¤ä¸ªå¯é…ç½®å‚æ•°ï¼Œè¿™é‡Œæ‹¿ <code>duration</code> å’Œ <code>content</code> ä¸¾ä¸ªæ —å­ğŸŒ°ã€‚<br>é¦–å…ˆæˆ‘ä»¬è¦ä¿®æ”¹ message.vue ç»„ä»¶é‡Œé¢çš„å†…å®¹ï¼ˆå…¶å®æ²¡å•¥å¤§å˜åŒ–ï¼‰ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- message.vue å¯é…ç½®ç‰ˆ --&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;div class=&quot;echojoy-message&quot; &gt;</span><br><span class="line">    &lt;p &gt;</span><br><span class="line">      &#123;&#123;content&#125;&#125; </span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// ä¸»è¦å°±æ”¹äº† data</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &quot;EchojoyMessage&quot;,</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      content: &quot;&quot;,</span><br><span class="line">      duration: 3000</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    setTimeout(() =&gt; &#123;</span><br><span class="line">      this.$destroy(true);</span><br><span class="line">      this.$el.parentNode.removeChild(this.$el);</span><br><span class="line">    &#125;, this.duration);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç åº”è¯¥ç®—æ˜¯æµ…æ˜¾æ˜“æ‡‚äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸‹ message.js é‡Œé¢æ”¹äº†å•¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// message.js</span><br><span class="line">import Vue from &quot;vue&quot;; // å¼•å…¥ Vue æ˜¯å› ä¸ºè¦ç”¨åˆ° Vue.extend() è¿™ä¸ªæ–¹æ³•</span><br><span class="line">import message from &quot;./message.vue&quot;; // å¼•å…¥åˆšæ‰çš„ toast ç»„ä»¶</span><br><span class="line"></span><br><span class="line">let messageConstructor = Vue.extend(message); // è¿™ä¸ªåœ¨å‰é¢çš„å‰ç½®çŸ¥è¯†å†…å®¹é‡Œé¢æœ‰è®²åˆ°</span><br><span class="line">let instance;</span><br><span class="line"></span><br><span class="line">const Message = function (options = &#123;&#125;) &#123;</span><br><span class="line">  instance = new messageConstructor(&#123;</span><br><span class="line">    data: options // è¿™é‡Œçš„ data ä¼šä¼ åˆ° message.vue ç»„ä»¶ä¸­çš„ data ä¸­ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å†™åœ¨ props é‡Œ</span><br><span class="line">  &#125;); // æ¸²æŸ“ç»„ä»¶</span><br><span class="line">  document.body.appendChild(instance.$mount().$el); // æŒ‚è½½åˆ° body ä¸‹</span><br><span class="line">&#125;;</span><br><span class="line">export default Message;</span><br></pre></td></tr></table></figure>
<p>å…¶å® message.js ä¹Ÿæ²¡å¤šå¤§å˜åŒ–ï¼Œå°±æ˜¯åœ¨å‡½æ•°é‡Œé¢åŠ äº†ä¸ªå‚æ•°ã€‚è¦æ³¨æ„çš„æ˜¯ <code>new messageConstructor({ data: options })</code> ä¸­çš„ data å°±æ˜¯ message.vue ç»„ä»¶ä¸­çš„ dataï¼Œä¸æ˜¯éšéšä¾¿ä¾¿å–çš„å­—æ®µåï¼Œä¼ å…¥çš„ <code>options</code> ä¼šå’Œç»„ä»¶ä¸­çš„ data åˆå¹¶ï¼ˆVue çš„åŠŸåŠ³ï¼‰ã€‚<br>emã€‚ã€‚ã€‚æ˜¯çš„ï¼Œå°±è¿™ä¹ˆç®€å•ï¼Œç°åœ¨è®©æˆ‘ä»¬ç»§ç»­æ¥è°ƒç”¨ä¸€ä¸‹å®ƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    show()&#123;</span><br><span class="line">      this.$message.success(&#123;</span><br><span class="line">        content: &quot;å“ˆå“ˆå“ˆå“ˆï¼Œæ¶ˆå¤±çš„è´¼å¿«&quot;,</span><br><span class="line">        duration: 0</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-738632ab3db8fc91?imageMogr2/auto-orient/strip" alt="image"></p>
<figcaption></figcaption>

<p>å½“ç„¶ï¼Œè¿™è¿˜æ²¡å®Œï¼Œæˆ‘ä»¬ç»§ç»­æ·»åŠ ä¸ªå°åŠŸèƒ½ç‚¹ğŸ™„ã€‚ã€‚ã€‚</p>
<h2 id="æ”¯æŒ-this-message-error"><a href="#æ”¯æŒ-this-message-error" class="headerlink" title="æ”¯æŒ this.$message.error()"></a>æ”¯æŒ this.$message.error()</h2><p>è¿™é‡Œæˆ‘ä»¬æ‰“ç®—æ”¯æŒ <code>this.$message.error()</code> å’Œ <code>this.$message.success()</code> è¿™ä¸¤ç§æ–¹å¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ç¬¬ä¸€æ­¥è¿˜æ˜¯è¦å…ˆå»ä¿®æ”¹ä¸€ä¸‹ message.vue æ–‡ä»¶çš„å†…å®¹ï¼ˆä¸»è¦å°±æ˜¯æ ¹æ® <code>type</code> å€¼æ¥ä¿®æ”¹ç»„ä»¶çš„æ ·å¼ï¼‰ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--main.vue--&gt;</span><br><span class="line">&lt;div class=&quot;echojoy-message&quot; :class=&quot;type ? `echojoy-message--$&#123;type&#125;` : &apos;&apos;&quot;&gt;</span><br><span class="line">    &lt;p class=&quot;echojoy-message-content&quot;&gt;</span><br><span class="line">      &#123;&#123;content&#125;&#125; </span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  ...</span><br><span class="line">  data() &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      type: &quot;&quot;,</span><br><span class="line">      content: &quot;&quot;,</span><br><span class="line">      duration: 3000</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  ...</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;scss&quot; scoped&gt;</span><br><span class="line">.echojoy-message&#123;</span><br><span class="line">  ...</span><br><span class="line">  &amp;--error p &#123; background: rgba(255, 0, 0, 0.5); &#125;</span><br><span class="line">  &amp;--success p &#123; background: rgba(0, 255, 0, 0.5); &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>å…¶æ¬¡ï¼Œ<code>this.$message.error()</code> å…¶å®å°±ç­‰ä»·äº <code>Message.error()</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨çš„ç›®çš„å°±æ˜¯è¦ç»™ Messageå‡½æ•°æ‰©å……æ–¹æ³•ï¼Œä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå°±å…ˆçœ‹ä»£ç å†è§£é‡Šå§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// message.js</span><br><span class="line">const Message= function(options = &#123;&#125;) &#123;</span><br><span class="line"> ...</span><br><span class="line">&#125;;</span><br><span class="line">// ä»¥ä¸‹å°±æ˜¯åœ¨ Messageå‡½æ•°ä¸­æ‹“å±• [&quot;success&quot;, &quot;error&quot;] è¿™ä¸¤ä¸ªæ–¹æ³•</span><br><span class="line"></span><br><span class="line">[&quot;success&quot;, &quot;error&quot;].forEach(type =&gt; &#123;</span><br><span class="line">  Message[type] = options =&gt; &#123;</span><br><span class="line">    options.type = type;</span><br><span class="line">    return Message(options);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default Message;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ° <code>Message.error()</code> å’Œ <code>Message.success()</code> æœ€ç»ˆè¿˜æ˜¯è°ƒç”¨ <code>Message(options)</code> è¿™ä¸ªå‡½æ•°ï¼Œåªä¸è¿‡åœ¨è°ƒç”¨ä¹‹å‰éœ€è¦å¤šåšä¸€æ­¥å¤„ç†ï¼Œå°±æ˜¯å°† <code>[&quot;success&quot;, &quot;error&quot;]</code> ä½œä¸ºä¸€ä¸ª <code>type</code> å‚æ•°ç»™åˆå¹¶è¿› <code>options</code> é‡Œé¢å†ä¼ é€’ï¼Œä»…æ­¤è€Œå·²ğŸ˜¬ã€‚<br>é‚£å°±è¯•è¯•æ•ˆæœå§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    show() &#123;</span><br><span class="line">      this.$message(&#123; content: &quot;è¿™æ˜¯æ­£å¸¸çš„&quot; &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    showError() &#123;</span><br><span class="line">      this.$message.error(&#123; content: &quot;ç«Ÿç„¶å¤±è´¥äº†&quot; &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    showSuccess() &#123;</span><br><span class="line">      this.$message.success(&#123; content: &quot;å±…ç„¶æˆåŠŸäº†&quot; &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-6435ed3c174a7160?imageMogr2/auto-orient/strip" alt="image"></p>
<h2 id="duration-lt-0-messageä¸€ç›´å­˜åœ¨"><a href="#duration-lt-0-messageä¸€ç›´å­˜åœ¨" class="headerlink" title="duration &lt;= 0,messageä¸€ç›´å­˜åœ¨"></a>duration &lt;= 0,messageä¸€ç›´å­˜åœ¨</h2><ul>
<li>ä¼ å…¥å‚æ•°énumberç±»å‹<br>é¦–å…ˆæˆ‘ä»¬ä¸ºäº†è®©ç»„ä»¶å¯ä»¥åœ¨ä¼ å…¥é”™è¯¯ç±»å‹çš„durationæ˜¯èƒ½æ­£å¸¸ä½¿ç”¨ï¼Œåšäº†ä¸€ä¸ªå°å°çš„å…¼å®¹ï¼Œåˆ¤æ–­å˜é‡ç±»å‹æ˜¯å¦ä¸ºnumberï¼Œénumberç±»å‹ï¼Œæ§åˆ¶å°è¾“å‡ºé”™è¯¯ï¼Œå¹¶å¼ºè¡Œè½¬åŒ–durationä¸ºæ•°å­—1000.ï¼ˆå¤„ç†åŠæ³•ç›¸å½“ç²—æš´äº†ï¼ï¼ï¼‰</li>
<li>ä¼ å…¥å‚æ•°ä¸ºnumberç±»å‹ç§»é™¤è¯¥ç»„ä»¶å®ä¾‹å’Œ DOM èŠ‚ç‚¹<br><code>&gt;0</code><br>åœ¨durationçš„æ—¶é—´èŒƒå›´å†…ï¼Œç§»é™¤è¯¥ç»„ä»¶å®ä¾‹å’Œ DOM èŠ‚ç‚¹<br><code>&lt;=0</code><br>ä¸åšä»»ä½•å¤„ç†<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">mounted() &#123;</span><br><span class="line">    if (typeof this.duration !== &apos;number&apos; ) &#123;</span><br><span class="line">      console.error(&apos;the duration must be a number!&apos;)</span><br><span class="line">      this.duration = 1000</span><br><span class="line">    &#125;</span><br><span class="line">    if (this.duration &gt; 0) &#123;</span><br><span class="line">      setTimeout(() =&gt; &#123;</span><br><span class="line">        // 3s åé€šè¿‡çˆ¶çº§ç§»é™¤å­å…ƒç´ çš„æ–¹å¼æ¥ç§»é™¤è¯¥ç»„ä»¶å®ä¾‹å’Œ DOM èŠ‚ç‚¹</span><br><span class="line">        this.$destroy(true);</span><br><span class="line">        this.$el.parentNode.removeChild(this.$el);</span><br><span class="line">      &#125;, this.duration);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="æ‰‹åŠ¨å…³é—­message"><a href="#æ‰‹åŠ¨å…³é—­message" class="headerlink" title="æ‰‹åŠ¨å…³é—­message"></a>æ‰‹åŠ¨å…³é—­message</h2><p>åœ¨domç»“æ„ä¸Šè®¾ç½®å¯ä»¥æ‰§è¡Œå…³é—­çš„iconå›¾æ ‡,æ·»åŠ äº‹ä»¶<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;i class=&quot;echojoy-icon-close echojoy-message-close&quot; @click=&quot;close&quot;&gt;&lt;/i&gt;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨scriptsä¸­å¢åŠ å‡½æ•°<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">methods:&#123;</span><br><span class="line">    close()&#123;</span><br><span class="line">      this.$destroy(true);</span><br><span class="line">      this.$el.parentNode.removeChild(this.$el);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="ç»“æŸè¯­"><a href="#ç»“æŸè¯­" class="headerlink" title="ç»“æŸè¯­"></a>ç»“æŸè¯­</h4><p>å†è§å§ï¼</p>
<p>å‚è€ƒ è¿æ¥ï¼š<a href="https://juejin.im/post/5ca20e426fb9a05e42555d1d" target="_blank" rel="noopener">https://juejin.im/post/5ca20e426fb9a05e42555d1d</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/08/15/message-comp/" data-id="ck0qpey520012kkkc4yaagwi1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vue/">vue</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-nodeBasics" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/08/14/nodeBasics/" class="article-date">
  <time datetime="2019-08-14T07:37:18.000Z" itemprop="datePublished">2019-08-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/08/14/nodeBasics/">node åŸºç¡€çŸ¥è¯†</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Author: Echo<br>Time: 2019-08-14 15:37:18</p>
<h1 id="æœ‰åŠ©äºç†è§£å‰ç«¯å·¥å…·çš„-node-çŸ¥è¯†"><a href="#æœ‰åŠ©äºç†è§£å‰ç«¯å·¥å…·çš„-node-çŸ¥è¯†" class="headerlink" title="æœ‰åŠ©äºç†è§£å‰ç«¯å·¥å…·çš„ node çŸ¥è¯†"></a>æœ‰åŠ©äºç†è§£å‰ç«¯å·¥å…·çš„ node çŸ¥è¯†</h1><h2 id="ç¼˜èµ·"><a href="#ç¼˜èµ·" class="headerlink" title="ç¼˜èµ·"></a>ç¼˜èµ·</h2><p>å¹³æ—¶å†™æƒ¯äº†ä¸šåŠ¡ä»£ç ä¹‹åï¼Œå¦‚æœæƒ³è¦äº†è§£ä¸‹ webpack æˆ–è€… vue-cliï¼Œå¥½åƒæ˜¯ä»¶å¾ˆéš¾ä¸Šæ‰‹çš„äº‹æƒ…ğŸ™ ã€‚æ‹¿ webpack æ¥è¯´ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå¯¹é…ç½®ç†Ÿæ‚‰ç‚¹ï¼Œä½†å¸¸å¸¸ä¸€æ®µæ—¶é—´è¿‡ååˆå¿˜äº†ï¼Œæ„Ÿè§‰çœ‹èµ·æ¥ä¸æ˜¯å¾ˆå¥½æ‡‚ã€‚å…¶å®ç±»ä¼¼è¿™ç§æ‰“åŒ…å·¥å…·ã€æ„å»ºå·¥å…·æˆ‘ä»¬æœ€å¥½åº”è¯¥å…ˆå»å­¦ä¹ ä¸€ä¸‹ node çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œç„¶åå†å›è¿‡å¤´æ¥çœ‹è¿™äº›å·¥å…·ï¼Œå°±ä¼šæœ‰æŸ³æš—èŠ±æ˜åˆä¸€æ‘çš„æ„Ÿè§‰ï¼Œå› ä¸ºè¿™äº›å·¥å…·æ˜¯ç”¨ node å†™å‡ºæ¥çš„ğŸ¤¯ã€‚<br>æƒ³æƒ³æˆ‘ä»¬æ˜¯ä¸æ˜¯æ—¶å¸¸çœ‹åˆ°è¿‡è¿™ç§ä¸œè¥¿ï¼š<code>const path = require(&#39;path&#39;);</code>ã€‚<br>å‡è®¾ä½ å­¦è¿‡å‰ç«¯æ¡†æ¶ä½†æ²¡å­¦è¿‡ nodeï¼Œä½ çœ‹åˆ°è¿™å¥è¯çš„æ—¶å€™å°±ä¼šä¸€å¤´é›¾æ°´ï¼Œå¥½åƒçŸ¥é“å®ƒæ˜¯å¼„è·¯å¾„çš„ï¼Œä½†å…·ä½“è¿™æ˜¯å“ªé‡Œæ¥çš„ï¼Œå¸¸ç”¨æ¥åšä»€ä¹ˆå°±ä¸å¾—è€ŒçŸ¥äº†ï¼Œæˆ‘èµ·åˆçœ‹çš„æ„Ÿè§‰å°±æ˜¯è¿™æ ·ğŸ¤¨ã€‚<br>åæ¥æ‰çŸ¥é“è¿™å…¶å®æ˜¯ node çš„å†…ç½®æ¨¡å—ï¼Œå› ä¸ºè¿™äº›æ„å»ºå·¥å…·æˆ–æ‰“åŒ…å·¥å…·æ˜¯ç”¨ node æ¥æ‰§è¡Œçš„ï¼Œåªè¦æˆ‘ä»¬æœ‰è£… nodeï¼Œå®ƒé‡Œé¢çš„å†…ç½®æ¨¡å—å°±èƒ½ç›´æ¥å¼•ç”¨ï¼Œä¸ç”¨å¦å¤–å®‰è£…ã€‚æ‰€ä»¥å¼ºçƒˆå»ºè®®å¤§å®¶è¦æ˜¯æƒ³äº†è§£è¿™ç±»å·¥å…·æœ€å¥½å…ˆå­¦ä¹ ä¸€ä¸‹ nodeï¼Œä¸ç„¶ä¼šæ€»æ˜¯æ‡µé€¼çš„ğŸ§ã€‚<br>è¨€å½’æ­£ä¼ ï¼Œæœ¬ç¯‡å°±æ¥ç®€è¦è®²è¿°ä¸€ä¸‹ node çš„ä¸€äº›å¸¸ç”¨å†…ç½®æ¨¡å—ã€‚</p>
<h2 id="node-åˆè¯†"><a href="#node-åˆè¯†" class="headerlink" title="node åˆè¯†"></a>node åˆè¯†</h2><h4 id="node-æ˜¯ä»€ä¹ˆ"><a href="#node-æ˜¯ä»€ä¹ˆ" class="headerlink" title="node æ˜¯ä»€ä¹ˆ"></a>node æ˜¯ä»€ä¹ˆ</h4><p>é¦–å…ˆ node ä¸æ˜¯ä¸€é—¨åå°è¯­è¨€è€Œæ˜¯ä¸€ä¸ªç¯å¢ƒï¼Œä¸€ä¸ªèƒ½å¤Ÿè®© js è¿è¡Œåœ¨æœåŠ¡å™¨çš„ç¯å¢ƒï¼Œè¿™ä¸ªç¯å¢ƒå°±å¥½æ¯”æ˜¯æœåŠ¡å™¨ä¸Šçš„æµè§ˆå™¨ï¼ˆè™½ç„¶ä¸æ˜¯å¾ˆæ°å½“ï¼‰ï¼Œä½†æ­£æ˜¯å› ä¸ºæœ‰äº†å®ƒæ‰ä½¿å¾— js å˜æˆäº†ä¸€é—¨åå°è¯­è¨€ã€‚</p>
<h4 id="node-éµå¾ªçš„è§„èŒƒ"><a href="#node-éµå¾ªçš„è§„èŒƒ" class="headerlink" title="node éµå¾ªçš„è§„èŒƒ"></a>node éµå¾ªçš„è§„èŒƒ</h4><p>å…¶æ¬¡ node éµå¾ªçš„æ˜¯ CommonJs è§„èŒƒï¼Œä»€ä¹ˆæ„æ€ï¼Ÿå…¶å®å°±æ˜¯è§„å®šäº†å¯¼å…¥å¯¼å‡ºçš„æ–¹å¼ğŸ˜¬ï¼Œå°±å‘ä¸‹é¢è¿™æ ·ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">require(&apos;./module&apos;)</span><br><span class="line">module.exports = &#123;</span><br><span class="line">    a: 1,</span><br><span class="line">&#125;</span><br><span class="line">exports.a = 1;</span><br></pre></td></tr></table></figure></p>
<p>è¿™å°±æ˜¯ node çš„è§„èŒƒï¼Œç”¨<code>require</code> å¯¼å…¥ã€ç”¨ <code>module.exports</code> å¯¼å‡ºã€‚é‚£ node ä¸ºä»€ä¹ˆä¸æ”¯æŒ ESMï¼ˆå°±æ˜¯ç”¨ <code>import</code> å¯¼å…¥ã€ç”¨ <code>export</code> å¯¼å‡ºï¼‰è§„èŒƒå‘¢ï¼Œå› ä¸ºå®ƒå‡ºç°çš„æ¯”è¾ƒæ—©ï¼Œä»…æ­¤è€Œå·²ï¼Œç„¶åä¸€æ—¶åŠä¼šå„¿è¿˜æ”¹ä¸è¿‡æ¥ï¼Œä»¥ååº”è¯¥å°±ä¼šæ”¯æŒäº†ã€‚å¦å¤–ï¼Œæˆ‘ä»¬æ—¶å¸¸åœ¨ webpack é‡Œçœ‹åˆ° <code>require()</code> å­—æ ·å´æ²¡æœ‰çœ‹è§ <code>import()</code>å°±æ˜¯å› ä¸º webpack æ˜¯è¦ç”¨ node æ¥æ‰§è¡Œçš„ï¼Œè€Œ node ç›®å‰åªæ”¯æŒ <code>require()</code>ã€‚</p>
<p>è¿™é‡Œé¡ºå¸¦æ¥ä¸€å¼ å„ç§è§„èŒƒå›¾ï¼ˆè¿™ç§ä¸œè¥¿å®¹æ˜“å¿˜ï¼Œå½“ä½œå†å²çœ‹çœ‹å°±è¡ŒğŸ™„ï¼‰ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-9bba9115e27bcd20.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="16ad4be6bc803f68.png"></p>
<h2 id="require-å¯»æ‰¾ä¾èµ–"><a href="#require-å¯»æ‰¾ä¾èµ–" class="headerlink" title="require å¯»æ‰¾ä¾èµ–"></a>require å¯»æ‰¾ä¾èµ–</h2><p>require() é‡Œé¢çš„å‚æ•°æœ‰ä¸¤ç§å†™æ³•ï¼Œä¸€ç§å¸¦è·¯å¾„ä¸€ç§ä¸å¸¦è·¯å¾„ã€‚å°±åƒä¸‹é¢è¿™æ ·ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">require(&apos;./module&apos;); // å¸¦ç›¸å¯¹è·¯å¾„</span><br><span class="line">require(&apos;/module&apos;); // å¸¦ç»å¯¹è·¯å¾„</span><br><span class="line">require(&apos;module&apos;); // ä¸å¸¦è·¯å¾„</span><br></pre></td></tr></table></figure></p>
<p>è¿™ç§ä¸å¸¦è·¯å¾„çš„ <code>require(&#39;module&#39;)</code>å¼•å…¥æ–¹å¼ï¼Œå¯èƒ½æ˜¯å†…ç½®æ¨¡å—ï¼Œä¹Ÿå¯èƒ½æ˜¯ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå†…ç½®æ¨¡å—ä¼˜å…ˆæŸ¥æ‰¾ï¼Œæ²¡æœ‰çš„è¯å°±æ˜¯ç¬¬ä¸‰æ–¹æ¨¡å—äº†ï¼Œå®ƒä¼šå…ˆä»å½“å‰ç›®å½•çš„ node_modules é‡Œé¢æŸ¥æ‰¾ï¼Œæ²¡æœ‰çš„è¯å°±åˆ°çˆ¶ç›®å½•ä¸‹çš„ node_modules é‡Œé¢å»æ‰¾ï¼Œå¦‚æ­¤å‘ä¸Šè¿½æº¯ï¼Œç›´åˆ°æ ¹ç›®å½•ä¸‹çš„ node_modules ç›®å½•ï¼Œè¦æ˜¯è¿˜æ²¡æœ‰çš„è¯å°±ä¼šåˆ°å…¨å±€é‡Œé¢å»æ‰¾ï¼Œå¤§æ¦‚æ˜¯è¿™ä¹ˆä¸€ä¸ªæœç´¢è¿‡ç¨‹ã€‚</p>
<p>å¦å¤–ä¸€ç§å¸¦è·¯å¾„çš„æ–¹å¼ï¼Œå°±ä¼šæ²¿ç€è·¯å¾„å»æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™ä¼šå°è¯•å°†å½“å‰ç›®å½•ä½œä¸€ä¸ªåŒ…æ¥åŠ è½½ã€‚æ­¤å¤–ï¼Œä½¿ç”¨ç»å¯¹è·¯å¾„çš„é€Ÿåº¦æŸ¥æ‰¾æœ€å¿«ï¼Œå½“ç„¶äº†ï¼Œnode ä¹Ÿå¯¹è·¯å¾„æŸ¥æ‰¾åšäº†ç¼“å­˜æœºåˆ¶ã€‚</p>
<h2 id="node-æ¨¡å—åŒ…è£…"><a href="#node-æ¨¡å—åŒ…è£…" class="headerlink" title="node æ¨¡å—åŒ…è£…"></a>node æ¨¡å—åŒ…è£…</h2><p>node åœ¨è§£ææ¯ä¸ªæ¨¡å—ï¼ˆjs æ–‡ä»¶ï¼‰æ—¶ï¼Œä¼šå¯¹æ¯ä¸ªæ¨¡å—è¿›è¡ŒåŒ…è£…ï¼Œå°±æ˜¯åœ¨ä»£ç å¤–é¢åŠ ä¸€ä¸ªé—­åŒ…ï¼Œå¹¶ä¸”å‘é‡Œä¼ é€’äº”ä¸ªå‚æ•°ï¼Œè¿™æ ·å°±ä¿è¯äº†æ¯ä¸ªæ¨¡å—ä¹‹é—´çš„ç‹¬ç«‹ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">(function(exports, require, module, __filename, __dirname) &#123;</span><br><span class="line">    // module: è¡¨ç¤ºå½“å‰æ¨¡å—</span><br><span class="line">    // __filename: å½“å‰æ¨¡å—çš„å¸¦æœ‰å®Œæ•´ç»å¯¹è·¯å¾„çš„æ–‡ä»¶å</span><br><span class="line">    // __dirname: å½“å‰æ¨¡å—çš„å®Œæ•´ç»å¯¹è·¯å¾„</span><br><span class="line">    module.exports = exports = this = &#123;&#125;;</span><br><span class="line">    // æˆ‘ä»¬çš„ä»£ç å°±åœ¨è¿™é‡Œ...</span><br><span class="line">    return module.exports;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure></p>
<p>æƒ³æƒ³æˆ‘ä»¬å¹³æ—¶æ˜¯ä¸æ˜¯å¸¸åœ¨ webpack é‡Œé¢çœ‹åˆ° __dirname è¿™ç§ä¸œè¥¿ï¼Œæˆ‘ä»¬æ—¢æ²¡æœ‰å¼•å…¥ä¹Ÿæ²¡æœ‰å£°æ˜å®ƒï¼Œä¸ºä»€ä¹ˆèƒ½å¤Ÿç›´æ¥ä½¿ç”¨å‘¢ï¼Œå°±æ˜¯å› ä¸ºè¿™ä¸ªåŸå› ğŸ˜®ã€‚</p>
<h2 id="node-çš„åº”ç”¨åœºæ™¯"><a href="#node-çš„åº”ç”¨åœºæ™¯" class="headerlink" title="node çš„åº”ç”¨åœºæ™¯"></a>node çš„åº”ç”¨åœºæ™¯</h2><p>ä¸€èˆ¬æ¥è¯´ï¼Œnode ä¸»è¦åº”ç”¨äºä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p>
<ul>
<li>è‡ªåŠ¨åŒ–æ„å»ºç­‰å·¥å…·</li>
<li>ä¸­é—´å±‚</li>
<li>å°é¡¹ç›®</li>
</ul>
<p>ç¬¬ä¸€ç‚¹å¯¹äºå‰ç«¯åŒå­¦æ¥è¯´åº”è¯¥æ˜¯é‡ä¸­ä¹‹é‡äº†ï¼Œä»€ä¹ˆå·¥ç¨‹åŒ–ã€è‡ªåŠ¨æ„å»ºå·¥å…·å°±æ˜¯ç”¨ node å†™å‡ºæ¥çš„ï¼Œå®ƒæ˜¯å‰ç«¯çš„ä¸€å¤§åˆ†æ°´å²­ä¹‹ä¸€ï¼Œæ˜¯å—éš¾å•ƒçš„éª¨å¤´ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»æ‹¿ä¸‹ï¼Œä¸ç„¶ç“¶é¢ˆå¾ˆå¿«å°±åˆ°äº†ã€‚å¦‚æœä½ èƒ½ç†Ÿç»ƒåº”ç”¨ node çš„å„ç§æ¨¡å—ï¼ˆç³»ç»Ÿæ¨¡å— + ç¬¬ä¸‰æ–¹æ¨¡å—ï¼‰ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œä½ åˆæ¯”åˆ«äººç‰›é€¼äº†ä¸€æˆªğŸ˜ã€‚</p>
<h2 id="node-çš„ä¼˜ç‚¹"><a href="#node-çš„ä¼˜ç‚¹" class="headerlink" title="node çš„ä¼˜ç‚¹"></a>node çš„ä¼˜ç‚¹</h2><ul>
<li>é€‚åˆå‰ç«¯å¤§å¤§ä»¬</li>
<li>åŸºäºäº‹ä»¶é©±åŠ¨å’Œæ— é˜»å¡çš„I/Oï¼ˆé€‚åˆå¤„ç†å¹¶å‘è¯·æ±‚ï¼‰</li>
<li>æ€§èƒ½è¾ƒå¥½ï¼ˆåˆ«äººåšè¿‡æ€§èƒ½åˆ†æï¼‰</li>
</ul>
<h2 id="node-å†…ç½®æ¨¡å—"><a href="#node-å†…ç½®æ¨¡å—" class="headerlink" title="node å†…ç½®æ¨¡å—"></a>node å†…ç½®æ¨¡å—</h2><p>okï¼ŒåºŸè¯äº†è¿™ä¹ˆå¤šï¼Œå’±ä»¬èµ¶ç´§æ¥çœ‹çœ‹ä¸€äº›å¸¸è§çš„ node åŸºç¡€æ¨¡å—å§ã€‚ç›¸ä¿¡æŒæ¡è¿™äº›å¯¹ä½ å­¦ä¹  webpack å’Œ vue-cli ç­‰å·¥å…·æ˜¯æœ‰å¾ˆå¤§å¸®åŠ©çš„âœŠ ã€‚</p>
<h3 id="http-æ¨¡å—"><a href="#http-æ¨¡å—" class="headerlink" title="http æ¨¡å—"></a>http æ¨¡å—</h3><p>è¿™æ˜¯ node æœ€æœ€åŸºç¡€çš„åŠŸèƒ½äº†ï¼Œæˆ‘ä»¬ç”¨ <code>node http.js</code> è¿è¡Œä¸€ä¸‹ä¸‹é¢çš„æ–‡ä»¶å°±èƒ½å¼€å¯ä¸€ä¸ªæœåŠ¡å™¨ï¼Œåœ¨æµè§ˆå™¨ä¸­è¾“å…¥ <code>http://localhost:8888</code> å³å¯è®¿é—®ï¼Œhttp.js å…·ä½“å†…å®¹å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// http.js</span><br><span class="line">const http = require(&apos;http&apos;);</span><br><span class="line">http.createServer((req, res) =&gt; &#123; // å¼€å¯ä¸€ä¸ªæœåŠ¡</span><br><span class="line">  console.log(&apos;è¯·æ±‚æ¥äº†&apos;); // å¦‚æœä½ æ‰“å¼€ http://localhost:8888ï¼Œæ§åˆ¶å°å°±ä¼šæ‰“å°æ­¤æ¶ˆæ¯</span><br><span class="line">  res.write(&apos;hello&apos;); // è¿”å›ç»™é¡µé¢çš„å€¼ï¼Œä¹Ÿå°±æ˜¯é¡µé¢ä¼šæ˜¾ç¤º hello</span><br><span class="line">  res.end(); // å¿…é¡»æœ‰ç»“æŸçš„æ ‡è¯†ï¼Œå¦åˆ™é¡µé¢ä¼šä¸€ç›´å¤„äºåŠ è½½çŠ¶æ€</span><br><span class="line">&#125;).listen(8888); // ç«¯å£å·</span><br></pre></td></tr></table></figure></p>
<h3 id="fs-æ–‡ä»¶ç³»ç»Ÿ"><a href="#fs-æ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="fs æ–‡ä»¶ç³»ç»Ÿ"></a>fs æ–‡ä»¶ç³»ç»Ÿ</h3><p>ç”±äº js ä¸€å¼€å§‹æ˜¯ç”¨æ¥å¼€å‘ç»™æµè§ˆå™¨ç”¨çš„ï¼Œæ‰€ä»¥å®ƒçš„èƒ½åŠ›å°±å±€é™äºæµè§ˆå™¨ï¼Œä¸èƒ½ç›´æ¥å¯¹å®¢æˆ·ç«¯çš„æœ¬åœ°æ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯å®¢æˆ·ç«¯çš„ä¿¡æ¯å®‰å…¨ï¼Œå½“ç„¶äº†ï¼Œé€šè¿‡ä¸€äº›æ‰‹æ®µä¹Ÿå¯ä»¥æ“ä½œå®¢æˆ·ç«¯å†…å®¹ï¼ˆå°±åƒ <code>&lt;input type=&#39;file&#39;&gt;</code>ï¼‰ï¼Œä½†æ˜¯éœ€è¦ç”¨æˆ·æ‰‹åŠ¨æ“ä½œæ‰è¡Œã€‚<br>ä½†æ˜¯å½“ js ä½œä¸ºåå°è¯­è¨€æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥å¯¹æœåŠ¡å™¨ä¸Šçš„èµ„æºæ–‡ä»¶è¿›è¡Œ I/O æ“ä½œäº†ã€‚è¿™ä¹Ÿæ˜¯ node ä¸­å°¤ä¸ºé‡è¦çš„æ¨¡å—ä¹‹ä¸€ï¼ˆæ“ä½œæ–‡ä»¶çš„èƒ½åŠ›ï¼‰ï¼Œè¿™åœ¨è‡ªåŠ¨åŒ–æ„å»ºå’Œå·¥ç¨‹åŒ–ä¸­æ˜¯å¾ˆå¸¸ç”¨çš„ã€‚å®ƒçš„ä¸»è¦èŒè´£å°±æ˜¯è¯»å†™æ–‡ä»¶ï¼Œæˆ–è€…ç§»åŠ¨å¤åˆ¶åˆ é™¤ç­‰ã€‚fs å°±å¥½æ¯”å¯¹æ•°æ®åº“è¿›è¡Œå¢åˆ æ”¹æŸ¥ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯å®ƒæ“ä½œçš„æ˜¯æ–‡ä»¶ã€‚ä¸‹é¢æˆ‘ä»¬æ¥å…·ä½“çœ‹çœ‹ä»£ç ç”¨ä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&apos;fs&apos;);</span><br><span class="line"></span><br><span class="line">// å†™å…¥æ–‡ä»¶ï¼šfs.writeFile(path, fileData, cb);</span><br><span class="line">fs.writeFile(&apos;./text.txt&apos;, &apos;hello xr!&apos;, err =&gt; &#123;</span><br><span class="line">  if (err) &#123;</span><br><span class="line">    console.log(&apos;å†™å…¥å¤±è´¥&apos;, err);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    console.log(&apos;å†™å…¥æˆåŠŸ&apos;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">// è¯»å–æ–‡ä»¶ï¼šfs.readFile(path, cb);</span><br><span class="line">fs.readFile(&apos;./text.txt&apos;, (err, fileData) =&gt; &#123;</span><br><span class="line">  if (err) &#123;</span><br><span class="line">    console.log(&apos;è¯»å–å¤±è´¥&apos;, err);</span><br><span class="line">  &#125; else &#123;</span><br><span class="line">    console.log(&apos;è¯»å–æˆåŠŸ&apos;, fileData.toString()); // fileData æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œéåª’ä½“æ–‡ä»¶å¯ä»¥ç”¨ toString è½¬æ¢ä¸€ä¸‹</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„çš„æ˜¯ readFile é‡Œé¢çš„ fileData æ˜¯åŸå§‹çš„äºŒè¿›åˆ¶æ–‡ä»¶ğŸ¤¨ï¼ˆemâ€¦å°±æ˜¯è®¡ç®—æœºæ‰çœ‹çš„æ‡‚çš„æ–‡ä»¶æ ¼å¼ï¼‰ï¼Œå¯¹äºéåª’ä½“ç±»å‹ï¼ˆå¦‚çº¯æ–‡æœ¬ï¼‰çš„æ–‡ä»¶å¯ä»¥ç”¨ <code>toString()</code> è½¬æ¢ä¸€ä¸‹ï¼Œåª’ä½“ç±»å‹çš„æ–‡ä»¶ä»¥ååˆ™ä¼šä»¥æµçš„æ–¹å¼è¿›è¡Œè¯»å–ï¼Œè¦æ˜¯å¼ºè¡Œç”¨ <code>toString()</code> è½¬æ¢çš„è¯ä¼šä¸¢å¤±æ‰åŸå§‹ä¿¡æ¯ï¼Œæ‰€ä»¥ä¸èƒ½ä¹±è½¬ã€‚äºŒè¿›åˆ¶å’Œ <code>toString</code> çš„æ•ˆæœå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-c418ff2996cf5c61?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>å¦å¤–ï¼Œå’Œ fs.readFileï¼ˆå¼‚æ­¥ï¼‰ å’Œ fs.writeFileï¼ˆå¼‚æ­¥ï¼‰ç›¸å¯¹åº”çš„è¿˜æœ‰ fs.readFileSyncï¼ˆåŒæ­¥ï¼‰å’Œ fs.writeFileSyncï¼ˆåŒæ­¥ï¼‰ï¼Œfs çš„å¤§å¤šæ–¹æ³•ä¹Ÿéƒ½æœ‰åŒæ­¥å¼‚æ­¥ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå…·ä½“å–å†³äºä¸šåŠ¡é€‰æ‹©ï¼Œä¸€èˆ¬éƒ½ç”¨å¼‚æ­¥ï¼Œä¸çŸ¥é“ç”¨å•¥çš„è¯ä¹Ÿç”¨å¼‚æ­¥ã€‚</p>
<h2 id="path-è·¯å¾„"><a href="#path-è·¯å¾„" class="headerlink" title="path è·¯å¾„"></a>path è·¯å¾„</h2><p>è¿™ä¸ªæ¨¡å—æƒ³å¿…å¤§å®¶åº”è¯¥éƒ½å¹¶ä¸é™Œç”Ÿï¼ŒğŸ§çŸè¿‡ webpack çš„éƒ½åº”è¯¥çœ‹è¿‡è¿™ä¸ªä¸œä¸œã€‚å¾ˆæ˜¾ç„¶ï¼Œpath å°±æ˜¯æ¥å¤„ç†è·¯å¾„ç›¸å…³ä¸œè¥¿çš„ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹ä¸‹é¢çš„å¸¸è§ç”¨ä¾‹å°±èƒ½å¤Ÿä½“ä¼šåˆ°ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&apos;path&apos;);</span><br><span class="line"></span><br><span class="line">let str = &apos;/root/a/b/index.html&apos;;</span><br><span class="line">console.log(path.dirname(str)); // è·¯å¾„</span><br><span class="line">// /root/a/b</span><br><span class="line">console.log(path.extname(str)); // åç¼€å</span><br><span class="line">// .html</span><br><span class="line">console.log(path.basename(str)); // æ–‡ä»¶å</span><br><span class="line">// index.html</span><br><span class="line"></span><br><span class="line">// path.resolve() è·¯å¾„è§£æï¼Œç®€å•æ¥è¯´å°±æ˜¯æ‹¼å‡‘è·¯å¾„ï¼Œæœ€ç»ˆè¿”å›ä¸€ä¸ªç»å¯¹è·¯å¾„</span><br><span class="line">let pathOne = path.resolve(&apos;rooot/a/b&apos;, &apos;../c&apos;, &apos;d&apos;, &apos;..&apos;, &apos;e&apos;);</span><br><span class="line"></span><br><span class="line">// ä¸€èˆ¬ç”¨æ¥æ‰“å°ç»å¯¹è·¯å¾„ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼Œå…¶ä¸­ __dirname æŒ‡çš„å°±æ˜¯å½“å‰ç›®å½•</span><br><span class="line">let pathTwo = path.resolve(__dirname, &apos;build&apos;); // è¿™ä¸ªç”¨æ³•å¾ˆå¸¸è§ï¼Œä½ åº”è¯¥åœ¨ webpack ä¸­æœ‰è§è¿‡</span><br><span class="line"></span><br><span class="line">console.log(pathOne, pathTwo, __dirname);</span><br><span class="line">// pathOne  =&gt;  /Users/lgq/Desktop/node/rooot/a/c/e</span><br><span class="line">// pathTwo  =&gt;  /Users/lgq/Desktop/node/build</span><br><span class="line">// __dirname  =&gt;  /Users/lgq/Desktop/node</span><br></pre></td></tr></table></figure></p>
<p>å—¯ï¼Œä¸‹æ¬¡çœ‹åˆ° path è¿™ä¸ªä¸œè¥¿å°±ä¸ä¼šè¿·èŒ«äº†ã€‚</p>
<h3 id="url-æ¨¡å—"><a href="#url-æ¨¡å—" class="headerlink" title="url æ¨¡å—"></a>url æ¨¡å—</h3><p>å¾ˆæ˜¾ç„¶è¿™æ˜¯ä¸ªç”¨æ¥å¤„ç†ç½‘å€ç›¸å…³ä¸œè¥¿çš„ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å¿…é¡»è¦æŒæ¡çš„ï¼Œä¸»è¦ç”¨æ¥è·å–åœ°å€è·¯å¾„å’Œå‚æ•°çš„ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const url = require(&apos;url&apos;);</span><br><span class="line"></span><br><span class="line">let site = &apos;http://www.xr.com/a/b/index.html?a=1&amp;b=2&apos;;</span><br><span class="line">let &#123; pathname, query &#125; = url.parse(site, true); // url.parse() è§£æç½‘å€ï¼Œtrue çš„æ„æ€æ˜¯æŠŠå‚æ•°è§£ææˆå¯¹è±¡</span><br><span class="line"></span><br><span class="line">console.log(pathname, query);</span><br><span class="line">// /a/b/index.html  &#123; a: &apos;1&apos;, b: &apos;2&apos; &#125;</span><br></pre></td></tr></table></figure>
<h3 id="querystring-æŸ¥è¯¢å­—ç¬¦ä¸²"><a href="#querystring-æŸ¥è¯¢å­—ç¬¦ä¸²" class="headerlink" title="querystring æŸ¥è¯¢å­—ç¬¦ä¸²"></a>querystring æŸ¥è¯¢å­—ç¬¦ä¸²</h3><p>è¿™ä¸ªä¸»è¦æ˜¯ç”¨æ¥æŠŠå½¢å¦‚è¿™æ ·çš„å­—ç¬¦ä¸² <code>a=1&amp;b=2&amp;c=3</code>ï¼ˆ&amp;å’Œ=å¯ä»¥æ¢æˆåˆ«çš„ï¼‰è§£ææˆ <code>{ a: &#39;1&#39;, b: &#39;2&#39;, c: &#39;3&#39; }</code> å¯¹è±¡ï¼Œåè¿‡æ¥ä¹Ÿå¯ä»¥æŠŠå¯¹è±¡æ‹¼æ¥æˆå­—ç¬¦ä¸²ï¼Œä¸Šé¢çš„ url å‚æ•°ä¹Ÿå¯ä»¥ç”¨ querystring æ¥è§£æï¼Œå…·ä½“æ¼”ç¤ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">const querystring = require(&apos;querystring&apos;);</span><br><span class="line"></span><br><span class="line">let query = &apos;a=1&amp;b=2&amp;c=3&apos;; // å½¢å¦‚è¿™æ ·çš„å­—ç¬¦ä¸²å°±èƒ½è¢«è§£æ</span><br><span class="line">let obj = querystring.parse(query);</span><br><span class="line">console.log(obj, obj.a); // &#123; a: &apos;1&apos;, b: &apos;2&apos;, c: &apos;3&apos; &#125;   &apos;1&apos;</span><br><span class="line"></span><br><span class="line">query = &apos;a=1&amp;b=2&amp;c=3&amp;a=3&apos;; // å¦‚æœå‚æ•°é‡å¤ï¼Œå…¶æ‰€å¯¹åº”çš„å€¼ä¼šå˜æˆæ•°ç»„</span><br><span class="line">obj = querystring.parse(query);</span><br><span class="line">console.log(obj); // &#123; a: [ &apos;1&apos;, &apos;3&apos; ], b: &apos;2&apos;, c: &apos;3&apos; &#125;</span><br><span class="line"></span><br><span class="line">// ç›¸åçš„æˆ‘ä»¬å¯ä»¥ç”¨ querystring.stringify() æŠŠå¯¹è±¡æ‹¼æ¥æˆå­—ç¬¦ä¸²</span><br><span class="line">query = querystring.stringify(obj);</span><br><span class="line">console.log(query); // a=1&amp;a=3&amp;b=2&amp;c=3</span><br></pre></td></tr></table></figure>
<h3 id="assert-æ–­è¨€"><a href="#assert-æ–­è¨€" class="headerlink" title="assert æ–­è¨€"></a>assert æ–­è¨€</h3><p>è¿™ä¸ªæˆ‘ä»¬ç›´æ¥çœ‹ä¸‹é¢ä»£ç å°±çŸ¥é“å®ƒçš„ä½œç”¨äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// assert.js</span><br><span class="line">const assert = require(&apos;assert&apos;);</span><br><span class="line"></span><br><span class="line">// assert(æ¡ä»¶ï¼Œé”™è¯¯æ¶ˆæ¯)ï¼Œæ¡ä»¶è¿™éƒ¨åˆ†ä¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼</span><br><span class="line">assert(2 &lt; 1, &apos;æ–­è¨€å¤±è´¥&apos;);</span><br></pre></td></tr></table></figure>
<p><code>node assert.js</code> è¿è¡Œä¸€ä¸‹ä»£ç å°±èƒ½çœ‹åˆ°å¦‚ä¸‹ç»“æœï¼š</p>
<p><img src="https://upload-images.jianshu.io/upload_images/11846892-6bd3e74df2f4db39?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image"></p>
<p>ä¸Šå›¾æ˜¯æ–­è¨€å¤±è´¥çš„ä¾‹å­ï¼Œå¦‚æœæ–­è¨€æ­£ç¡®çš„è¯ï¼Œåˆ™ä¸ä¼šæœ‰ä»»ä½•æç¤ºï¼Œç¨‹åºä¼šç»§ç»­é»˜é»˜å¾€ä¸‹æ‰§è¡Œã€‚æ‰€ä»¥æ–­è¨€çš„ä½œç”¨å°±æ˜¯å…ˆåˆ¤æ–­æ¡ä»¶æ˜¯å¦æ­£ç¡®ï¼ˆæœ‰ç‚¹åƒ ifï¼‰ï¼Œå¦‚æœæ¡ä»¶è¿”å›å€¼ä¸º <code>false</code> åˆ™é˜»æ­¢ç¨‹åºè¿è¡Œï¼Œå¹¶æŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œå¦‚æœè¿”å›å€¼ä¸º <code>true</code> åˆ™ç»§ç»­æ‰§è¡Œï¼Œä¸€èˆ¬ç”¨äºå‡½æ•°ä¸­é—´å’Œå‚æ•°åˆ¤æ–­ã€‚<br>å¦å¤–ï¼Œè¿™é‡Œå†ä»‹ç»ä¸¤ç§ equal ç”¨æ³•ï¼ˆassert é‡Œé¢æœ‰å¥½å¤šç§ equalï¼Œè¿™é‡Œä¸¾ä¾‹å…¶ä¸­çš„ä¸¤ç§ï¼‰ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// assert.js</span><br><span class="line">const assert = require(&apos;assert&apos;);</span><br><span class="line"></span><br><span class="line">const obj1 = &#123; a: &#123; b: 1 &#125; &#125;;</span><br><span class="line">const obj2 = &#123; a: &#123; b: 1 &#125; &#125;;</span><br><span class="line">const obj3 = &#123; a: &#123; b: &apos;1&apos; &#125; &#125;;</span><br><span class="line"></span><br><span class="line">// assert.deepEqual(å˜é‡ï¼Œé¢„æœŸå€¼ï¼Œé”™è¯¯ä¿¡æ¯)   å˜é‡ == é¢„æœŸå€¼</span><br><span class="line">// assert.deepStrictEqual(å˜é‡ï¼Œé¢„æœŸå€¼ï¼Œé”™è¯¯ä¿¡æ¯)  å˜é‡ === é¢„æœŸå€¼</span><br><span class="line">// åŒæ ·ä¹Ÿæ˜¯é”™è¯¯çš„æ—¶å€™æŠ›å‡ºä¿¡æ¯ï¼Œæ­£ç¡®çš„æ—¶å€™ç»§ç»­é»˜é»˜æ‰§è¡Œ</span><br><span class="line">assert.deepEqual(obj1, obj2, &apos;ä¸ç­‰å“¦&apos;); // true</span><br><span class="line">assert.deepEqual(obj1, obj3, &apos;ä¸ç­‰å“¦&apos;); // true</span><br><span class="line">assert.deepStrictEqual(obj1, obj2, &apos;ä¸ç­‰å“¦&apos;); // true</span><br><span class="line">assert.deepStrictEqual(obj1, obj3, &apos;ä¸ç­‰å“¦&apos;); // falseï¼Œè¿™ä¸ªä¼šæŠ›å‡ºé”™è¯¯ä¿¡æ¯</span><br></pre></td></tr></table></figure>
<h3 id="stream-æµ"><a href="#stream-æµ" class="headerlink" title="stream æµ"></a>stream æµ</h3><p>stream åˆå«åšæµï¼Œå¤§å®¶æˆ–å¤šæˆ–å°‘åº”è¯¥æœ‰å¬è¿‡è¿™ä¸ªæ¦‚å¿µï¼Œé‚£å…·ä½“æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿåœ¨è¿™é‡Œï¼Œä½ å¯ä»¥æŠŠå®ƒå½“åšæ˜¯å‰é¢è¯´è¿‡çš„ <code>fs.readFile</code> å’Œ <code>fs.writeFile</code> çš„å‡çº§ç‰ˆã€‚<br>æˆ‘ä»¬è¦çŸ¥é“ <code>readFile</code> å’Œ <code>writeFile</code> çš„å·¥ä½œæµç¨‹ æ˜¯å…ˆæŠŠæ•´ä¸ªæ–‡ä»¶è¯»å–åˆ°å†…å­˜ä¸­ï¼Œç„¶åå†ä¸€æ¬¡å†™å…¥ï¼Œè¿™ç§æ–¹å¼å¯¹äºç¨å¤§çš„æ–‡ä»¶å°±ä¸é€‚ç”¨äº†ï¼Œå› ä¸ºè¿™æ ·å®¹æ˜“å¯¼è‡´å†…å­˜ä¸è¶³ï¼Œæ‰€ä»¥æ›´å¥½çš„æ–¹å¼æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå°±æ˜¯è¾¹è¯»è¾¹å†™å•¦ï¼Œä¸šç•Œå¸¸è¯´æˆç®¡é“æµï¼Œå°±åƒæ°´æµç»è¿‡æ°´ç®¡ä¸€æ ·ï¼Œè¿›æ°´å¤šå°‘ï¼Œå‡ºæ°´å°±å¤šå°‘ï¼Œè¿™ä¸ªæ°´ç®¡å°±æ˜¯å ç”¨çš„èµ„æºï¼ˆå†…å­˜ï¼‰ï¼Œå°±é‚£ä¹ˆå¤§ï¼Œè¿™æˆ‘ä»¬æ ·å°±èƒ½åˆç†åˆ©ç”¨å†…å­˜åˆ†é…å•¦ï¼Œè€Œä¸æ˜¯ä¸€å£æ°”åƒæˆä¸ªèƒ–å­ï¼Œæœ‰åƒæ’‘çš„é£é™©ï¼ˆå°±æ˜¯å†…å­˜çˆ†äº†ğŸ¤ï¼‰ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&apos;fs&apos;);</span><br><span class="line"></span><br><span class="line">// è¯»å–æµï¼šfs.createReadStream();</span><br><span class="line">// å†™å…¥æµï¼šfs.createWriteStream();</span><br><span class="line">let rs = fs.createReadStream(&apos;a.txt&apos;); // è¦è¯»å–çš„æ–‡ä»¶</span><br><span class="line">let ws = fs.createWriteStream(&apos;a2.txt&apos;); // è¾“å‡ºçš„æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">rs.pipe(ws); // ç”¨ pipe å°† rs å’Œ ws è¡”æ¥èµ·æ¥ï¼Œå°†è¯»å–æµçš„æ•°æ®ä¼ åˆ°è¾“å‡ºæµï¼ˆå°±æ˜¯è¿™ä¹ˆç®€å•çš„ä¸€å¥è¯å°±èƒ½æå®šï¼‰</span><br><span class="line"></span><br><span class="line">rs.on(&apos;error&apos;, err =&gt; &#123;</span><br><span class="line">  console.log(err);</span><br><span class="line">&#125;);</span><br><span class="line">ws.on(&apos;finish&apos;, () =&gt; &#123;</span><br><span class="line">  console.log(&apos;æˆåŠŸ&apos;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>æµå¼æ“ä½œï¼Œå°±æ˜¯ä¸€ç›´è¯»å–ï¼Œå®ƒæ˜¯ä¸ªè¿ç»­çš„è¿‡ç¨‹ï¼Œå¦‚æœä¸€è¾¹å¿«ä¸€è¾¹æ…¢ï¼Œæˆ–è€…ä¸€è¾¹å‡ºé”™æ²¡è¡”æ¥ä¸Šä¹Ÿæ²¡å…³ç³»ï¼Œå®ƒä¼šè‡ªåŠ¨å¤„ç†ï¼Œä¸ç”¨æˆ‘ä»¬è‡ªå·±å»è°ƒæ•´å…¶ä¸­çš„è¯¯å·®ï¼Œæ˜¯ä¸ªä¼˜ç§€çš„æ¨¡å—æ²¡é”™äº†ğŸ‘ã€‚å¦å¤–ï¼Œæˆ‘ä»¬æ²¡æœ‰ç›´æ¥ä½¿ç”¨ stream æ¨¡å—ï¼Œæ˜¯å› ä¸º fs æ¨¡å—å¼•ç”¨äº†å®ƒå¹¶å¯¹å…¶åšäº†å°è£…ï¼Œæ‰€ä»¥ç”¨ fs å³å¯ã€‚</p>
<h3 id="zlib-å‹ç¼©"><a href="#zlib-å‹ç¼©" class="headerlink" title="zlib å‹ç¼©"></a>zlib å‹ç¼©</h3><p>è¿™ä¸ªç”¨æ³•ç®€å•ï¼Œä½œç”¨ä¹Ÿæ˜äº†ï¼Œç›´æ¥çœ‹ä¸‹é¢çš„ä»£ç å°±èƒ½ç†è§£ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">const fs = require(&apos;fs&apos;);</span><br><span class="line">const zlib = require(&apos;zlib&apos;);</span><br><span class="line"></span><br><span class="line">let rs = fs.createReadStream(&apos;tree.jpg&apos;);</span><br><span class="line">let gz = zlib.createGzip();</span><br><span class="line">let ws = fs.createWriteStream(&apos;tree.jpg.gz&apos;);</span><br><span class="line"></span><br><span class="line">rs.pipe(gz).pipe(ws);  // åŸå§‹æ–‡ä»¶ =&gt; å‹ç¼© =&gt; å†™å…¥</span><br><span class="line"></span><br><span class="line">rs.on(&apos;error&apos;, err =&gt; &#123;</span><br><span class="line">  console.log(err);</span><br><span class="line">&#125;);</span><br><span class="line">ws.on(&apos;finish&apos;, () =&gt; &#123;</span><br><span class="line">  console.log(&apos;æˆåŠŸ&apos;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>okğŸ‘Œï¼Œä»¥ä¸Šå°±æ˜¯æœ¬ç« è¦è®²çš„ä¸€äº› node çŸ¥è¯†ï¼ˆæ¯”è¾ƒåŸºç¡€ï¼Œå¤§å®¶å‡‘åˆçœ‹çœ‹ï¼‰ã€‚å½“ç„¶é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ utilã€Bufferã€Eventã€crypto å’Œ process ç­‰å…¶ä»–å†…ç½®æ¨¡å—ï¼Œè¿™é‡Œå°±ä¸ä¸€ä¸€èµ˜è¿°äº†ï¼Œå¸Œæœ›å¤§å®¶èƒ½å¤Ÿå¤šåŠ¨æ‰‹å¤šæ•²ä¸¤ä¸‹ä»£ç å¤šå®è·µï¼Œæ¯•ç«Ÿçº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…å˜›ğŸ’ªã€‚å¦‚æœä½ èƒ½ç”¨å¥½ node çš„å„ç§æ¨¡å—ï¼Œé‚£ä¹ˆè½¬åç«¯ä¹Ÿå°±æ‹¥æœ‰äº†æ— é™å¯èƒ½æ€§ğŸ˜‹ï¼ˆå…¶å®å‰ç«¯çš„å‘å¤§çš„è¶…ä¹ä½ æƒ³åƒğŸ˜­ï¼‰ã€‚<br>å‚è€ƒä½œè€…ï¼šå°¤æ°´å°±ä¸‹<br>å‚è€ƒé“¾æ¥ï¼š<a href="https://juejin.im/post/5ccacfb96fb9a03201243cb9" target="_blank" rel="noopener">https://juejin.im/post/5ccacfb96fb9a03201243cb9</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/08/14/nodeBasics/" data-id="ck0qpey550016kkkcdcdo08vf" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/node/">node</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-npmBuild" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/26/npmBuild/" class="article-date">
  <time datetime="2019-07-26T06:18:53.000Z" itemprop="datePublished">2019-07-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/26/npmBuild/">npm éƒ¨ç½²è‡ªå·±çš„ç»„ä»¶åº“</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Author: Echo<br>Time: 2019-07-24 15:28:39</p>
<h1 id="åŸºäº-vue-cli-æ‰“é€ å±äºè‡ªå·±çš„-UI-åº“"><a href="#åŸºäº-vue-cli-æ‰“é€ å±äºè‡ªå·±çš„-UI-åº“" class="headerlink" title="åŸºäº vue-cli æ‰“é€ å±äºè‡ªå·±çš„ UI åº“"></a>åŸºäº vue-cli æ‰“é€ å±äºè‡ªå·±çš„ UI åº“</h1><h2 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h2><h2 id="çŸ¥è¯†å‰ç½®"><a href="#çŸ¥è¯†å‰ç½®" class="headerlink" title="çŸ¥è¯†å‰ç½®"></a>çŸ¥è¯†å‰ç½®</h2><p>æˆ‘ä»¬å¯èƒ½ä¹ æƒ¯äº†åœ¨ä¸€ä¸ª vue é‡Œé¢å¼•å…¥ç»„ä»¶çš„æ–¹å¼ï¼Œæ‰€ä»¥å…ˆè¿™é‡Œè¦å·©å›ºä¸€ä¸‹å…¨å±€å¼•å…¥ç»„ä»¶çš„æ–¹å¼ã€‚ä¸¾ä¸ªæ —å­ğŸŒ°ï¼Œä¸€èˆ¬æˆ‘ä»¬çš„ç”¨æ³•æ˜¯è¿™æ ·çš„ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import Loading from &apos;../components/loading&apos;</span><br><span class="line">// æ–¹æ³•ä¸€ï¼šname æ˜¯ç»„ä»¶çš„åå­—</span><br><span class="line">Vue.component(Loading.name, Loading)</span><br><span class="line">// æ–¹æ³•äºŒï¼šå‰ææ˜¯ Loading æœ‰æä¾› install è¿™ä¸ªæ–¹æ³•</span><br><span class="line">Vue.use(Loading);</span><br></pre></td></tr></table></figure></p>
<h1 id="åŸºäºvue-cli3æ‰“é€ ç»„ä»¶åº“"><a href="#åŸºäºvue-cli3æ‰“é€ ç»„ä»¶åº“" class="headerlink" title="åŸºäºvue-cli3æ‰“é€ ç»„ä»¶åº“"></a>åŸºäºvue-cli3æ‰“é€ ç»„ä»¶åº“</h1><h1 id="æ­å»ºç›®å½•"><a href="#æ­å»ºç›®å½•" class="headerlink" title="æ­å»ºç›®å½•"></a>æ­å»ºç›®å½•</h1><h4 id="å¿«é€Ÿåˆ›å»ºé¡¹ç›®"><a href="#å¿«é€Ÿåˆ›å»ºé¡¹ç›®" class="headerlink" title="å¿«é€Ÿåˆ›å»ºé¡¹ç›®"></a>å¿«é€Ÿåˆ›å»ºé¡¹ç›®</h4><ul>
<li>vue-cli3<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create projectName</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="ä¿®æ”¹ç›®å½•ç»“æ„"><a href="#ä¿®æ”¹ç›®å½•ç»“æ„" class="headerlink" title="ä¿®æ”¹ç›®å½•ç»“æ„"></a>ä¿®æ”¹ç›®å½•ç»“æ„</h3><ul>
<li>æŠŠ src ç›®å½•åå­—æ”¹æˆ examplesï¼Œè¿™æ˜¯ç”¨äºå±•ç¤ºç»„ä»¶ç¤ºä¾‹çš„</li>
<li>åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª packages æ–‡ä»¶å¤¹ï¼Œè¿™æ˜¯ç”¨æ¥æ”¾ç»„ä»¶çš„<br><img src="/images/1.png" alt="1ll.png"><br> ä½ å¯èƒ½ä¼šé—®ä¸ºä»€ä¹ˆè¦å»ºè¿™æ ·çš„ç›®å½•ç»“æ„ï¼Œé—®å¾—å¥½ï¼ŒåŸå› å¾ˆç®€å•ï¼Œå› ä¸ºåˆ«äººæ˜¯è¿™æ ·åšçš„ï¼Œæ‰€ä»¥å€Ÿé‰´ï¼ˆæ¨¡ä»¿ï¼‰ç½—ã€‚ã€‚ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ° Element çš„æºç ä¹Ÿæ˜¯è¿™æ ·çš„ç»“æ„ï¼š<br>å½“æˆ‘ä»¬æ°´å¹³ä¸å¤Ÿçš„æ—¶å€™ï¼Œæ¨¡ä»¿æ˜¯ä¸€ç§å¼ºå¤§çš„å­¦ä¹ èƒ½åŠ›ğŸ‘ã€‚</li>
</ul>
<h3 id="æ·»åŠ é…ç½®æ–‡ä»¶"><a href="#æ·»åŠ é…ç½®æ–‡ä»¶" class="headerlink" title="æ·»åŠ é…ç½®æ–‡ä»¶"></a>æ·»åŠ é…ç½®æ–‡ä»¶</h3><p>å°æ”¹äº†ä¸€ä¸‹ç›®å½•ä¹‹åï¼Œä½ ä¼šæƒŠå¥‡çš„å‘ç°é¡¹ç›®è¿è¡Œä¸äº†äº†ã€‚æ²¡å…³ç³»ï¼Œè¿™å¾ˆæ­£å¸¸ï¼Œæ¯•ç«Ÿ src éƒ½ä¸è§äº†ï¼Œè·¯å¾„å•¥çš„è‚¯å®šå¾—æŠ¥é”™ã€‚æ‰€ä»¥ç°åœ¨æˆ‘ä»¬æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª vue.config.js æ–‡ä»¶ï¼ˆæ–°é¡¹ç›®æ˜¯æ²¡æœ‰è¿™ä¸ªæ–‡ä»¶çš„ï¼‰ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">const path = require(&apos;path&apos;)</span><br><span class="line">module.exports = &#123;</span><br><span class="line">  // ä¿®æ”¹ pages å…¥å£</span><br><span class="line">  pages: &#123;</span><br><span class="line">    index: &#123;</span><br><span class="line">      entry: &apos;examples/main.js&apos;, // å…¥å£</span><br><span class="line">      template: &apos;public/index.html&apos;, // æ¨¡æ¿</span><br><span class="line">      filename: &apos;index.html&apos; // è¾“å‡ºæ–‡ä»¶</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  // æ‰©å±• webpack é…ç½®</span><br><span class="line">  chainWebpack: config =&gt; &#123;</span><br><span class="line">    // @ é»˜è®¤æŒ‡å‘ src ç›®å½•ï¼Œè¿™é‡Œè¦æ”¹æˆ examples</span><br><span class="line">    // å¦å¤–ä¹Ÿå¯ä»¥æ–°å¢ä¸€ä¸ª ~ æŒ‡å‘ packages</span><br><span class="line">    config.resolve.alias</span><br><span class="line">      .set(&apos;@&apos;, path.resolve(&apos;examples&apos;))</span><br><span class="line">      .set(&apos;~&apos;, path.resolve(&apos;packages&apos;))</span><br><span class="line"></span><br><span class="line">    // æŠŠ packages å’Œ examples åŠ å…¥ç¼–è¯‘ï¼Œå› ä¸ºæ–°å¢çš„æ–‡ä»¶é»˜è®¤æ˜¯ä¸è¢« webpack å¤„ç†çš„</span><br><span class="line">    config.module</span><br><span class="line">      .rule(&apos;js&apos;)</span><br><span class="line">      .include.add(/packages/).end()</span><br><span class="line">      .include.add(/examples/).end()</span><br><span class="line">      .use(&apos;babel&apos;)</span><br><span class="line">      .loader(&apos;babel-loader&apos;)</span><br><span class="line">      .tap(options =&gt; &#123;</span><br><span class="line">        // ä¿®æ”¹å®ƒçš„é€‰é¡¹...</span><br><span class="line">        return options</span><br><span class="line">      &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„æ³¨é‡Šåº”è¯¥éƒ½å†™çš„æŒºæ˜äº†ï¼Œä¸»è¦å°±æ˜¯ä¿®æ”¹åˆ«åã€ä¿®æ”¹å…¥å£æ–‡ä»¶ä»¥åŠæŠŠæ–°æ–‡ä»¶åŠ å…¥ webpack ç¼–è¯‘è¿™å‡ ä¸ªæ­¥éª¤ã€‚ç„¶åæˆ‘ä»¬å†è¿è¡Œä¸€ä¸‹ç¨‹åºå°±å¯ä»¥è·‘å¾—é€šäº†ã€‚è‡³äºä¸ºä»€ä¹ˆè¿™ä¹ˆé…ç½®ã€æˆ–è€…æ€ä¹ˆé…ç½®ï¼Œä¸äº†è§£çš„åŒå­¦å¯ä»¥å» <a href="https://link.juejin.im/?target=https%3A%2F%2Fcli.vuejs.org%2Fzh%2Fconfig%2F%23%25E5%2585%25A8%25E5%25B1%2580-cli-%25E9%2585%258D%25E7%25BD%25AE" target="_blank" rel="noopener">Vue Cli</a> å®˜ç½‘çœ‹ä¸‹ï¼Œä¸Šé¢å†™çš„æ˜¯æ¸…æ¸…æ¥šæ¥šã€æ˜æ˜ç™½ç™½ï¼Œç„¶è€Œæˆ‘ä¹Ÿåªæ˜¯æ‡‚é‚£ä¹ˆä¸€ä¸¤ä¸ªé…ç½®è€Œå·²ğŸ˜­ğŸ˜­ğŸ˜­ï¼Œè¿˜æ²¡å­¦ä¼š webpack çš„å¥—è·¯ï¼Œå› ä¸ºå¸¸å¸¸æ˜¯ç”¨çš„æ—¶å€™çœ‹ä¸€çœ¼ï¼Œä¸€é˜µå­ä¸ç”¨å°±åˆå¿˜äº†ï¼Œæ²¡åŠæ³•ğŸ¤·â€â™€ï¸è„‘å­ä¸è¡Œã€‚</p>
<h2 id="ç¼–å†™ç»„ä»¶"><a href="#ç¼–å†™ç»„ä»¶" class="headerlink" title="ç¼–å†™ç»„ä»¶"></a>ç¼–å†™ç»„ä»¶</h2><p>ä¸€ä¸ªç»„ä»¶åº“æ²¡æœ‰ç»„ä»¶æ€ä¹ˆè¡Œå‘¢ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å…ˆå†™ä¸ª test ç»„ä»¶ï¼ˆä½ å¯ä»¥éšä¾¿å†™ï¼Œè¿™ä¸é‡è¦ï¼‰ã€‚okğŸ‘Œï¼Œæˆ‘ä»¬å…ˆåœ¨ packages ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª test æ–‡ä»¶å¤¹ï¼Œå†åœ¨ test æ–‡ä»¶å¤¹ä¸‹ä¸‹é¢æ–°å»ºä¸€ä¸ª src æ–‡ä»¶å¤¹ï¼Œåœ¨ src æ–‡ä»¶å¤¹ä¸‹é¢æ–°å»ºä¸€ä¸ª test.vue ç»„ä»¶ï¼Œå¤§æ¦‚é•¿ä¸‹é¢è¿™æ ·å­ğŸ‘‡ï¼š</p>
<p><img src="/images/2.png" alt="1ll.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--test.vue--&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;echojoy-test&quot; @click=&quot;handleClick&quot;&gt;&#123;&#123; num &#125;&#125;&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name: &apos;EchojoyTest&apos;,</span><br><span class="line">  data () &#123;</span><br><span class="line">    return &#123;</span><br><span class="line">      num: 0</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  methods: &#123;</span><br><span class="line">    handleClick () &#123;</span><br><span class="line">      this.num++</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style &gt;</span><br><span class="line">.echojoy-test &#123;</span><br><span class="line">  width: 100px;</span><br><span class="line">  height: 100px;</span><br><span class="line">  line-height: 100px;</span><br><span class="line">  border-radius: 50%;</span><br><span class="line">  font-size: 30px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  background: #24292e;</span><br><span class="line">  color: white;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>åº”è¯¥éƒ½èƒ½çœ‹æ‡‚å§ï¼Œä¸è¿‡å¤šè§£é‡Šã€‚âš ï¸è¿™é‡Œä¸»è¦å¼ºè°ƒä¸€ç‚¹ï¼Œå°±æ˜¯ name è¿™ä¸ªåå­—å°¤ä¸ºé‡è¦ï¼Œæˆ‘å°±åœ¨è¿™ä¸ªå‘é‡Œå‘†äº†æŒºä¹…ã€‚é¦–å…ˆå®ƒæ˜¯å¿…é¡»è¦å†™çš„ï¼Œä¸ºå•¥å‘¢ï¼Œä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸º idï¼Œå…·æœ‰å”¯ä¸€æ ‡è¯†ç»„ä»¶çš„ä½œç”¨ï¼Œå°†æ¥æˆ‘ä»¬å¯æ˜¯è¦é€šè¿‡è¿™ä¸ª name æ¥æ‰¾åˆ°å’Œåˆ¤å®šè¿™æ˜¯ä»€ä¹ˆç»„ä»¶ï¼Œæ‰€ä»¥ä½ å†™çš„æ‰€æœ‰ç»„ä»¶åº”è¯¥æ˜¯ä¸é‡åçš„ï¼›å…¶æ¬¡è¿™ä¸ª name å°±æ˜¯æˆ‘ä»¬æœ€ç»ˆçš„æ ‡ç­¾åï¼Œæ¯”å¦‚è¿™é‡Œæˆ‘ä»¬çš„ name æ˜¯ <code>EchojoyTest</code>ï¼Œåˆ°æ—¶å€™æˆ‘ä»¬å†™çš„æ ‡ç­¾å°±é•¿è¿™æ · <code>&lt;echojoy-test&gt;&lt;/echojoy-test&gt;</code>ï¼Œå°±åƒ Element ä¸€æ ·ï¼Œname æ˜¯ <code>ElButton</code>ï¼Œç”¨çš„æ—¶å€™å°±æ˜¯ <code>&lt;el-button&gt;&lt;/el-button&gt;</code>ã€‚</p>
<h2 id="æš´éœ²ç»„ä»¶"><a href="#æš´éœ²ç»„ä»¶" class="headerlink" title="æš´éœ²ç»„ä»¶"></a>æš´éœ²ç»„ä»¶</h2><p>è®©æˆ‘ä»¬åœ¨ packages/test ä¸‹é¢æ–°å»ºä¸€ä¸ª index.js æ–‡ä»¶ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// å¯¹å¤–æä¾›å¯¹ç»„ä»¶çš„å¼•ç”¨ï¼Œæ³¨æ„ç»„ä»¶å¿…é¡»å£°æ˜ name</span><br><span class="line">import EchojoyTest from &apos;./src/test&apos;</span><br><span class="line">// ä¸ºç»„ä»¶æä¾› install å®‰è£…æ–¹æ³•ï¼Œä¾›æŒ‰éœ€å¼•å…¥</span><br><span class="line">EchojoyTest.install = Vue =&gt; &#123;</span><br><span class="line">  Vue.component(EchojoyTest.name, EchojoyTest)</span><br><span class="line">&#125;</span><br><span class="line">export default EchojoyTest</span><br></pre></td></tr></table></figure>
<p>è¿™æ­¥çš„ç²¾é«“å°±åœ¨äºç»™ç»„ä»¶æ‰©å±•ä¸€ä¸ª install æ–¹æ³•ï¼Œè‡³äºä¸ºä»€ä¹ˆè¦æ‰©å±•è¿™ä¸ªæ–¹æ³•ï¼Œæ–‡ç« å¼€å¤´å·²ç»è¯´åˆ°äº†ï¼Œæ˜¯å› ä¸º <code>Vue.use()</code> çš„éœ€è¦ï¼Œuse ä¼šé»˜è®¤è°ƒç”¨ install æ–¹æ³•å®‰è£…ï¼Œä»…æ­¤è€Œå·²ã€‚æ¥ç€æˆ‘ä»¬åœ¨ packages ä¸‹é¢ä¹Ÿæ–°å»ºä¸€ä¸ª index.js æ–‡ä»¶ï¼Œæ³¨æ„å’Œä¸Šé¢é‚£ä¸ª index.js åŒºåˆ«å¼€ï¼Œä¸Šé¢é‚£ä¸ªæ˜¯é’ˆå¯¹å•ä¸ªç»„ä»¶å®‰è£…çš„ï¼Œè¿™ä¸ªæ˜¯é’ˆå¯¹æ‰€æœ‰ç»„ä»¶å…¨å±€å®‰è£…çš„ï¼Œå…ˆçœ‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">import EchojoyTest from &apos;./test&apos;</span><br><span class="line">// å­˜å‚¨ç»„ä»¶åˆ—è¡¨</span><br><span class="line">const components = [</span><br><span class="line">  EchojoyTest</span><br><span class="line">]</span><br><span class="line">// å®šä¹‰ install æ–¹æ³•ï¼Œæ¥æ”¶ Vue ä½œä¸ºå‚æ•°ã€‚å¦‚æœä½¿ç”¨ use æ³¨å†Œæ’ä»¶ï¼Œåˆ™æ‰€æœ‰çš„ç»„ä»¶éƒ½å°†è¢«æ³¨å†Œ</span><br><span class="line">const install = function (Vue) &#123;</span><br><span class="line">  // åˆ¤æ–­æ˜¯å¦å®‰è£…</span><br><span class="line">  if (install.installed) return</span><br><span class="line">  install.installed = true</span><br><span class="line">  // éå†æ³¨å†Œå…¨å±€ç»„ä»¶</span><br><span class="line">  components.map(component =&gt; Vue.component(component.name, component))</span><br><span class="line">  // ä¸‹é¢è¿™ä¸ªå†™æ³•ä¹Ÿå¯ä»¥</span><br><span class="line">  // components.map(component =&gt; Vue.use(component))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// åˆ¤æ–­æ˜¯å¦æ˜¯ç›´æ¥å¼•å…¥æ–‡ä»¶</span><br><span class="line">if (typeof window !== &apos;undefined&apos; &amp;&amp; window.Vue) &#123;</span><br><span class="line">  install(window.Vue)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  // å¯¼å‡ºçš„å¯¹è±¡å¿…é¡»å…·æœ‰ installï¼Œæ‰èƒ½è¢« Vue.use() æ–¹æ³•å®‰è£…</span><br><span class="line">  install,</span><br><span class="line">  // ä»¥ä¸‹æ˜¯å…·ä½“çš„ç»„ä»¶åˆ—è¡¨</span><br><span class="line">  ...components</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ­¥çš„ä¸»è¦ä½œç”¨å°±æ˜¯ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰ç»„ä»¶åŠæš´éœ² install æ–¹æ³•ã€‚ä¹‹å‰çš„ index.js åªæ˜¯å®‰è£…å•ä¸ªç»„ä»¶ï¼Œè€Œç°åœ¨è¿™ä¸ª index.js æ˜¯å¾ªç¯å®‰è£…æ‰€æœ‰ç»„ä»¶ï¼Œå…·ä½“ä½¿ç”¨å°±çœ‹ä½ æ˜¯ä¸æ˜¯è¦æŒ‰éœ€å¼•ç”¨äº†ã€‚è¿™é‡Œç»™ä¸ªç›®å½•ç»“æ„æ–¹ä¾¿å¤§å®¶è§‚çœ‹ï¼š</p>
<p><img src="/images/3.png" alt="1ll.png"></p>
<p>å› ä¸ºè¿™æ­¥æŒºé‡è¦çš„ï¼Œæ‰€ä»¥å»ºè®®å¥½å¥½åœä¸‹æ¥ç†è§£æ¶ˆåŒ–ä¸€ä¸‹ğŸ¤”ã€‚ã€‚ã€‚<br>å½“ç„¶ä½ å¯èƒ½ä¼šé—®é“ï¼Œä¸ºä»€ä¹ˆè¿™æ ·å»ºç›®å½•ï¼Ÿè¿˜èƒ½ä»€ä¹ˆåŸå› ï¼Œå› ä¸º Element æ˜¯è¿™æ ·ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™æ ·å†™ï¼Œä»…æ­¤è€Œå·²ã€‚</p>
<h2 id="ç»„ä»¶æµ‹è¯•"><a href="#ç»„ä»¶æµ‹è¯•" class="headerlink" title="ç»„ä»¶æµ‹è¯•"></a>ç»„ä»¶æµ‹è¯•</h2><p>okï¼Œç»„ä»¶å†™å®Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±åœ¨ examples ä¸‹é¢æµ‹è¯•ä¸€ä¸‹ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½å¼•ç”¨æˆåŠŸã€‚ é¦–å…ˆåœ¨ examples ä¸‹çš„ main.js ä¸­å¼•å…¥åˆšåˆšå†™å¥½çš„åŒ…ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import EchojoyUI from &apos;./../packages&apos;</span><br><span class="line">Vue.use(EchojoyUI);</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åæŠŠ examples/componentsä¸‹é¢çš„ HelloWorldé‡Œé¢çš„å†…å®¹åˆ äº†ï¼Œå†™å…¥è‡ªå·±æ ‡ç­¾ç»„ä»¶ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<p><img src="/images/11.png" alt="1ll.png"></p>
<p>å¥½äº†ï¼Œæœ€åè®©æˆ‘ä»¬è¿è¡Œä¸€ä¸‹é¡¹ç›® <code>npm run  serve</code>ï¼Œçœ‹çœ‹æ•ˆæœï¼Œå—¯ï¼Œè¿˜å‡‘åˆå§ã€‚</p>
<h2 id="åº“æ¨¡å¼æ‰“åŒ…"><a href="#åº“æ¨¡å¼æ‰“åŒ…" class="headerlink" title="åº“æ¨¡å¼æ‰“åŒ…"></a>åº“æ¨¡å¼æ‰“åŒ…</h2><p>åœ¨ vue-cli3 ä¸­æˆ‘ä»¬é€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯ä»¥å°†ä¸€ä¸ªå•ç‹¬çš„å…¥å£æ‰“åŒ…æˆä¸€ä¸ªåº“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// target: é»˜è®¤ä¸ºæ„å»ºåº”ç”¨ï¼Œæ”¹ä¸º lib å³å¯å¯ç”¨æ„å»ºåº“æ¨¡å¼</span><br><span class="line">// name: è¾“å‡ºæ–‡ä»¶å</span><br><span class="line">// dest: è¾“å‡ºç›®å½•ï¼Œé»˜è®¤ä¸º distï¼Œè¿™é‡Œæˆ‘ä»¬æ”¹ä¸º lib</span><br><span class="line">// entry: å…¥å£æ–‡ä»¶è·¯å¾„</span><br><span class="line">vue-cli-service build --target lib --name lib [entry]</span><br></pre></td></tr></table></figure>
<p>è¦æ³¨æ„çš„æ˜¯åœ¨åº“æ¨¡å¼ä¸­ï¼Œæ‰“åŒ…å‡ºæ¥çš„åº“ä¸­æ˜¯ä¸åŒ…å« Vue çš„ã€‚ ç„¶åæˆ‘ä»¬ä¿®æ”¹ä¸€ä¸‹ package.json æ–‡ä»¶ï¼Œå°±åƒä¸‹é¢è¿™æ ·ï¼š</p>
<p><img src="/images/5.png" alt="1ll.png"></p>
<p>æ¥ç€æ‰§è¡Œ <code>npm run lib</code> å°±èƒ½ç”Ÿæˆåº“å•¦ï¼Œçœ‹çœ‹å·¦ä¾§çš„ç›®å½•æ˜¯ä¸æ˜¯å¤šäº†ä¸ª lib æ–‡ä»¶å¤¹ï¼Œé‚£ä¸ªå°±æ˜¯æˆ‘ä»¬è¦å‘å¸ƒçš„ä¸œè¥¿ã€‚<br><img src="/images/6.png" alt="1ll.png"></p>
<p>è¡¥å……ä¸‹ï¼Œlib ç›®å½•ä¸‹é¢çš„ js ä¹‹æ‰€ä»¥æœ‰å¥½å‡ ç§ï¼Œæ˜¯å› ä¸ºæœ‰ä¸¤ç§è§„èŒƒï¼ˆcommon å’Œ umdï¼‰ã€æ˜¯å¦å‹ç¼©ï¼ˆminï¼‰å’Œæ˜ å°„ï¼ˆmapï¼‰çš„åŒºåˆ«ï¼Œæš‚ä¸”çŸ¥é“æœ‰è¿™ä¹ˆå›äº‹å°±è¡Œï¼Œä¸ç”¨æ·±ç©¶ã€‚</p>
<h2 id="å‘å¸ƒåˆ°npm"><a href="#å‘å¸ƒåˆ°npm" class="headerlink" title="å‘å¸ƒåˆ°npm"></a>å‘å¸ƒåˆ°npm</h2><p>ä¸‡äº‹ä¿±å¤‡ï¼Œåªæ¬ å‘å¸ƒã€‚</p>
<ol>
<li>å®Œå–„ä¸€ä¸‹ README.md æ–‡æ¡£ï¼Œè¿™ä¸ªéšä¾¿å†™ä¸¤å¥å°±å¥½</li>
<li>ä¿®æ”¹ä¸€ä¸‹ package.json æ–‡ä»¶ï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123; </span><br><span class="line">  &quot;name&quot;: &quot;echojoy-ui&quot;,</span><br><span class="line">  &quot;version&quot;: &quot;0.1.0&quot;,</span><br><span class="line">  &quot;private&quot;: true,</span><br><span class="line">  &quot;description&quot;: &quot;åŸºäº vue-cli3 çš„ UI ç»„ä»¶åº“&quot;,</span><br><span class="line">  &quot;main&quot;: &quot;lib/xr-ui.umd.min.js&quot;,</span><br><span class="line">  &quot;keywords&quot;: &quot;echojoy-ui&quot;,</span><br><span class="line">  &quot;private&quot;: false,</span><br><span class="line">  &quot;license&quot;: &quot;MIT&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª .npmignore æ–‡ä»¶ï¼Œå†…å®¹å’Œ .gitignore å·®ä¸å¤šï¼š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"># è¿™æ˜¯å¤åˆ¶ .gitignore é‡Œé¢çš„</span><br><span class="line">.DS_Store</span><br><span class="line">node_modules</span><br><span class="line">/dist</span><br><span class="line"></span><br><span class="line"># local env files</span><br><span class="line">.env.local</span><br><span class="line">.env.*.local</span><br><span class="line"></span><br><span class="line"># Log files</span><br><span class="line">npm-debug.log*</span><br><span class="line">yarn-debug.log*</span><br><span class="line">yarn-error.log*</span><br><span class="line"></span><br><span class="line"># Editor directories and files</span><br><span class="line">.idea</span><br><span class="line">.vscode</span><br><span class="line">*.suo</span><br><span class="line">*.ntvs*</span><br><span class="line">*.njsproj</span><br><span class="line">*.sln</span><br><span class="line">*.sw*</span><br><span class="line"></span><br><span class="line"># ä»¥ä¸‹æ˜¯æ–°å¢çš„</span><br><span class="line"># è¦å¿½ç•¥ç›®å½•å’ŒæŒ‡å®šæ–‡ä»¶</span><br><span class="line">examples/</span><br><span class="line">packages/</span><br><span class="line">public/</span><br><span class="line">vue.config.js</span><br><span class="line">babel.config.js</span><br><span class="line">*.map</span><br><span class="line">*.html</span><br></pre></td></tr></table></figure>
<p>æœ€åæ‰§è¡Œ <code>npm login</code> ç™»å…¥ npm è´¦å·ï¼Œå†æ‰§è¡Œ <code>npm publish</code> å‘å¸ƒå³å¯ï¼Œå°±è¿™ä¹ˆç®€å•çš„ä¸¤æ­¥å°±å¯ä»¥ï¼Œè¿‡ä¸€ä¼šåœ¨ npm ä¸Šå°±èƒ½æœåˆ°äº†ã€‚å½“ç„¶å‰ææ˜¯ä½ æœ‰ä¸ª npm è´¦å·ï¼Œæ²¡æœ‰çš„è¯å»æ³¨å†Œä¸€ä¸ªå§ï¼Œå¾ˆ easy çš„ï¼Œç„¶åè¿˜è¦æœä¸‹ä½ çš„ npm åŒ…åæ˜¯å¦æœ‰äººç”¨ï¼Œæœ‰çš„è¯å°±æ¢ä¸€ä¸ªã€‚</p>
<h2 id="å°è¯•ç‰›åˆ€"><a href="#å°è¯•ç‰›åˆ€" class="headerlink" title="å°è¯•ç‰›åˆ€"></a>å°è¯•ç‰›åˆ€</h2><p>ç»ˆäºï¼Œå†å°½åƒè¾›ä¸‡è‹¦ï¼Œæˆ‘ä»¬å¯ä»¥å¼•ç”¨è‡ªå·±å†™çš„åº“æ‹‰ï¼Œæƒ³æƒ³å°±ç‰›å‰ã€‚åˆ«æ¿€åŠ¨ï¼Œè®©æˆ‘ä»¬è¯•éªŒä¸€ä¸‹ï¼Œç”¨ <code>vue create echojoy-ui-use</code> å¦èµ·ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œç„¶å <code>npm i echojoy-ui -S</code>ï¼Œå¯ä»¥åœ¨ node_modules é‡Œé¢çœ‹åˆ°æˆ‘ä»¬çš„åŒ…å¤§æ¦‚é•¿è¿™æ ·ï¼š<br><img src="/images/7.png" alt="1ll.png"></p>
<p>ç„¶ååœ¨ main.js å¼•å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import EchojoyUI from &quot;echojoy-ui&quot;;</span><br><span class="line">import &quot;echojoy-ui/lib/echojoy-ui.css&quot;;</span><br><span class="line">Vue.use(EchojoyUI);</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·æˆ‘ä»¬å°±èƒ½åœ¨é¡µé¢ä¸­å¼•å…¥ç»„ä»¶å•¦ï¼Œå“ˆå“ˆå“ˆå“ˆï¼Œè´¼å¼€å¿ƒï¼Œå–œä¸Šçœ‰æ¢¢ã€‚ã€‚ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;echojoy-test&gt;&lt;/echojoy-test&gt;</span><br></pre></td></tr></table></figure>
<h1 id="vue-cli3ï¼ˆvue-cli2ï¼‰"><a href="#vue-cli3ï¼ˆvue-cli2ï¼‰" class="headerlink" title="! vue-cli3ï¼ˆvue-cli2ï¼‰"></a>! vue-cli3ï¼ˆvue-cli2ï¼‰</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue init webpack projectName</span><br></pre></td></tr></table></figure>
<p><img src="/images/8.png" alt="1ll.png"></p>
<h4 id="å¯åŠ¨é¡¹ç›®"><a href="#å¯åŠ¨é¡¹ç›®" class="headerlink" title="å¯åŠ¨é¡¹ç›®"></a>å¯åŠ¨é¡¹ç›®</h4><p><code>npm run dev</code><br><img src="/images/9.png" alt="1ll.png"><br>æµè§ˆå™¨è¾“å…¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080</span><br></pre></td></tr></table></figure></p>
<h4 id="ç¼–å†™ç»„ä»¶-1"><a href="#ç¼–å†™ç»„ä»¶-1" class="headerlink" title="ç¼–å†™ç»„ä»¶"></a>ç¼–å†™ç»„ä»¶</h4><p>åœ¨srcçš„componentsæ–°å»ºç»„ä»¶limitï¼šå³æ–‡ä»¶å¤¹<code>EchoLimit</code>-&gt;æ–‡ä»¶<code>index.vue</code> + æ–‡ä»¶<code>index+css</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">// index.vue</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;echo-limit-container&quot; v-if=&quot;visible === false&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;echo-limit-container-inner&quot;&gt;</span><br><span class="line">      &lt;span class=&quot;echo-limit-text&quot;&gt;</span><br><span class="line">        &#123;&#123;limitTip&#125;&#125;</span><br><span class="line">      &lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  props: &#123;</span><br><span class="line">    visible: &#123;</span><br><span class="line">      type: Boolean,</span><br><span class="line">      default: false</span><br><span class="line">    &#125;,</span><br><span class="line">    limitTip: &#123;</span><br><span class="line">      type: String,</span><br><span class="line">      default: &apos;æ²¡æœ‰æƒé™ï¼ï¼&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  name: &quot;EchoLimit&quot; // è¿™ä¸ªåå­—å¾ˆé‡è¦ï¼Œå®ƒå°±æ˜¯æœªæ¥çš„æ ‡ç­¾å&lt;echo-limit&gt;&lt;/echo-limit&gt;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">  @import &quot;./index&quot;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure></p>
<p>âš ï¸è¿™é‡Œä¸»è¦å¼ºè°ƒä¸€ç‚¹ï¼Œå°±æ˜¯ name è¿™ä¸ªåå­—å°¤ä¸ºé‡è¦ï¼Œä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸º idï¼Œå…·æœ‰å”¯ä¸€æ ‡è¯†ç»„ä»¶çš„ä½œç”¨ï¼Œå°†æ¥æˆ‘ä»¬å¯æ˜¯è¦é€šè¿‡è¿™ä¸ª name æ¥æ‰¾åˆ°å’Œåˆ¤å®šè¿™æ˜¯ä»€ä¹ˆç»„ä»¶ï¼Œæ‰€ä»¥ä½ å†™çš„æ‰€æœ‰ç»„ä»¶åº”è¯¥æ˜¯ä¸é‡åçš„ï¼›å…¶æ¬¡è¿™ä¸ª name å°±æ˜¯æˆ‘ä»¬æœ€ç»ˆçš„æ ‡ç­¾åï¼Œæ¯”å¦‚è¿™é‡Œæˆ‘ä»¬çš„ name æ˜¯ EchoLimitï¼Œåˆ°æ—¶å€™æˆ‘ä»¬å†™çš„æ ‡ç­¾å°±é•¿è¿™æ · <echo-limit></echo-limit>ï¼Œå°±åƒ Element ä¸€æ ·ï¼Œname æ˜¯ ElButtonï¼Œç”¨çš„æ—¶å€™å°±æ˜¯ <el-button></el-button>ã€‚</p>
<h4 id="æš´éœ²ç»„ä»¶-1"><a href="#æš´éœ²ç»„ä»¶-1" class="headerlink" title="æš´éœ²ç»„ä»¶"></a>æš´éœ²ç»„ä»¶</h4><ul>
<li>æ³¨å†Œå•ä¸ªç»„ä»¶</li>
</ul>
<p>åœ¨ components çš„ EchoLimitä¸‹é¢æ–°å»ºä¸€ä¸ª index.js æ–‡ä»¶ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š<br>// ä¸ºç»„ä»¶æä¾› install æ–¹æ³•ï¼Œä¾›ç»„ä»¶å¯¹å¤–æŒ‰éœ€å¼•å…¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import EchoLimit from &quot;./EchoLimit/index.vue&quot;;</span><br><span class="line">EchoLimit.install = Vue =&gt; &#123;</span><br><span class="line">  Vue.component(EchoLimit.name, EchoLimit);</span><br><span class="line">&#125;;</span><br><span class="line">export default EchoLimit;</span><br></pre></td></tr></table></figure></p>
<p>è¿™æ­¥çš„ç²¾é«“å°±åœ¨äºç»™ç»„ä»¶æ‰©å±•ä¸€ä¸ª install æ–¹æ³•ï¼Œè‡³äºä¸ºä»€ä¹ˆè¦æ‰©å±•è¿™ä¸ªæ–¹æ³•ï¼Œæ–‡ç« å¼€å¤´å·²ç»è¯´åˆ°äº†ï¼Œæ˜¯å› ä¸º Vue.use() çš„éœ€è¦ï¼Œuse ä¼šé»˜è®¤è°ƒç”¨ install æ–¹æ³•å®‰è£…ã€‚</p>
<ul>
<li>æ³¨å†Œå…¨å±€ç»„ä»¶<br>è®©æˆ‘ä»¬åœ¨ components ä¸‹é¢æ–°å»ºä¸€ä¸ª index.js æ–‡ä»¶ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// index.js</span><br><span class="line">import EchoLimit from &apos;./EchoLimit&apos;</span><br><span class="line">// æ‰€æœ‰ç»„ä»¶åˆ—è¡¨</span><br><span class="line">const components = [</span><br><span class="line">  EchoLimit</span><br><span class="line">]</span><br><span class="line">// å®šä¹‰ install æ–¹æ³•ï¼Œæ¥æ”¶ Vue ä½œä¸ºå‚æ•°</span><br><span class="line">const install = function (Vue) &#123;</span><br><span class="line">  // åˆ¤æ–­æ˜¯å¦å®‰è£…ï¼Œå®‰è£…è¿‡å°±ä¸ç»§ç»­å¾€ä¸‹æ‰§è¡Œ</span><br><span class="line">  if (install.installed) return</span><br><span class="line">  install.installed = true</span><br><span class="line">  // éå†æ³¨å†Œæ‰€æœ‰ç»„ä»¶</span><br><span class="line">  components.map(component =&gt; Vue.component(component.name, component))</span><br><span class="line">  // ä¸‹é¢è¿™ä¸ªå†™æ³•ä¹Ÿå¯ä»¥</span><br><span class="line">  // components.map(component =&gt; Vue.use(component))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// æ£€æµ‹åˆ° Vue æ‰æ‰§è¡Œï¼Œæ¯•ç«Ÿæˆ‘ä»¬æ˜¯åŸºäº Vue çš„</span><br><span class="line">if (typeof window !== &apos;undefined&apos; &amp;&amp; window.Vue) &#123;</span><br><span class="line">  install(window.Vue)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(components[0].name) // æ§åˆ¶å°è¾“å‡ºç»„ä»¶çš„name,æ–¹ä¾¿å¼•ç”¨ç»„ä»¶</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  install,</span><br><span class="line">  // æ‰€æœ‰ç»„ä»¶ï¼Œå¿…é¡»å…·æœ‰ installï¼Œæ‰èƒ½ä½¿ç”¨ Vue.use()</span><br><span class="line">  ...components</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>ç›®å½•ç»“æ„æ–¹ä¾¿å¤§å®¶è§‚çœ‹ï¼š<br><img src="/images/4.png" alt="1ll.png"></p>
<h4 id="ç»„ä»¶æµ‹è¯•-1"><a href="#ç»„ä»¶æµ‹è¯•-1" class="headerlink" title="ç»„ä»¶æµ‹è¯•"></a>ç»„ä»¶æµ‹è¯•</h4><p>okï¼Œç»„ä»¶å†™å®Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±åœ¨ HelloWorld.vueä¸‹é¢æµ‹è¯•ä¸€ä¸‹ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½å¼•ç”¨æˆåŠŸã€‚ é¦–å…ˆåœ¨ srcä¸‹çš„ main.js ä¸­å¼•å…¥åˆšåˆšå†™å¥½çš„åŒ…ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import EchoUI from &apos;./components&apos;</span><br><span class="line">Vue.use(EchoUI)</span><br></pre></td></tr></table></figure>
<p>åœ¨ HelloWorld.vueä¸­å¼•å…¥ç»„ä»¶EchoLimit.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;EchoLimit&gt;&lt;/EchoLimit&gt;</span><br><span class="line">     &lt;echo-limit&gt;&lt;/echo-limit&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/echo-limit&gt;</span><br></pre></td></tr></table></figure></p>
<p>è¿è¡Œé¡¹ç›®<code>npm run dev</code>,ä¼šå‘ç°æˆåŠŸäº†ï¼ï¼!<br><img src="/images/10.png" alt="1ll.png"></p>
<p>è¿‡ç¨‹åŒä¸Šï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</p>
<p>å‚è€ƒ è¿æ¥ï¼š<a href="https://www.jianshu.com/p/41cc796488df" target="_blank" rel="noopener">https://www.jianshu.com/p/41cc796488df</a><br>å‚è€ƒ é“¾æ¥ï¼š<a href="https://juejin.im/post/5c95c61f6fb9a070c40acf65" target="_blank" rel="noopener">https://juejin.im/post/5c95c61f6fb9a070c40acf65</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/07/26/npmBuild/" data-id="ck0qpey530014kkkc2lgxt6jg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/npm/">npm</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-hexoDeplayBug" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/24/hexoDeplayBug/" class="article-date">
  <time datetime="2019-07-24T07:28:39.000Z" itemprop="datePublished">2019-07-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/24/hexoDeplayBug/">hexo deplayå‡ºé”™</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Author: Echo<br>Time: 2019-07-24 15:28:39</p>
<p>ä»Šå¤©æƒ³åœ¨è‡ªå·±çš„å¦ä¸€ä¸ªåšå®¢åœ°å€ä¸Šæ›´æ–°ä¸€ä¸‹åšå®¢ï¼Œæ²¡æƒ³åˆ°hexo deplayæ²¡æœ‰ååº”ï¼Œä»¥ä¸‹æ˜¯è§£å†³è¿‡ç¨‹ï¼š</p>
<h1 id="å½“éƒ¨ç½²å¤±è´¥çš„æ—¶å€™ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š"><a href="#å½“éƒ¨ç½²å¤±è´¥çš„æ—¶å€™ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š" class="headerlink" title="å½“éƒ¨ç½²å¤±è´¥çš„æ—¶å€™ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š"></a>å½“éƒ¨ç½²å¤±è´¥çš„æ—¶å€™ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤è¿›è¡Œï¼š</h1><p>æŠ¥é”™å†…å®¹å¦‚ä¸‹ï¼š<br><img src="https://upload-images.jianshu.io/upload_images/11846892-380d07b43c8f919a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"></p>
<h1 id="é€šè¿‡SSH-keyæ¥ä¸Šä¼ ä»£ç "><a href="#é€šè¿‡SSH-keyæ¥ä¸Šä¼ ä»£ç " class="headerlink" title="é€šè¿‡SSH keyæ¥ä¸Šä¼ ä»£ç "></a>é€šè¿‡SSH keyæ¥ä¸Šä¼ ä»£ç </h1><h6 id="1å°†SSH-keyæ·»åŠ åˆ°githubä¸­"><a href="#1å°†SSH-keyæ·»åŠ åˆ°githubä¸­" class="headerlink" title="1å°†SSH keyæ·»åŠ åˆ°githubä¸­"></a>1å°†SSH keyæ·»åŠ åˆ°githubä¸­</h6><p>â‘  æ‰“å¼€æœ¬åœ°æ–‡ä»¶ï¼šid_rsa.pubï¼ˆæ–‡ä»¶è·¯å¾„å¯ä»¥åœ¨ä¸Šä¸€æ­¥SSHç”ŸæˆæˆåŠŸåçœ‹åˆ°è·¯å¾„ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯c/Users/echo/.ssh/id_rsa.pubï¼‰ï¼Œå¯ä»¥å°†è¿™ä¸ªæ–‡ä»¶åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€ï¼Œç„¶åå…¨é€‰å¤åˆ¶ã€‚</p>
<p>â‘¡ ç™»é™†githubï¼Œç‚¹å‡»å¤´åƒä½ç½®å¤„ Settings â€”â€”&gt; SSH and GPG keys â€”â€”&gt; New SSH keyï¼Œç‚¹å‡»æ–°å»ºSSH keyã€‚</p>
<p>â‘¢ å°† â‘  ä¸­å¤åˆ¶çš„å†…å®¹ç²˜è´´åœ¨keyæ–‡æœ¬æ¡†é‡Œï¼Œtitleå¯ä»¥ä¸ç”¨å¡«ï¼ˆæˆ–è€…è‡ªå·±èµ·ä¸€ä¸ªåå­—ä¹Ÿå¯ä»¥ï¼‰</p>
<h6 id="2æµ‹è¯•è®¾ç½®æ˜¯å¦æˆåŠŸï¼š"><a href="#2æµ‹è¯•è®¾ç½®æ˜¯å¦æˆåŠŸï¼š" class="headerlink" title="2æµ‹è¯•è®¾ç½®æ˜¯å¦æˆåŠŸï¼š"></a>2æµ‹è¯•è®¾ç½®æ˜¯å¦æˆåŠŸï¼š</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<p>å¦‚æœå‡ºç°å¦‚ä¸‹æƒ…å†µ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hi username! You&apos;ve successfully authenticated, but GitHub does not </span><br><span class="line">provide shell access.</span><br></pre></td></tr></table></figure></p>
<p>å°†é¡¹ç›®ä¸­å¦‚ä¸‹ä½ç½®æ–‡ä»¶åšå‡ºæ›´æ”¹<br><img src="https://upload-images.jianshu.io/upload_images/11846892-9dc350788418a979.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="image.png"><br>ä¸è¦ä½¿ç”¨httpsï¼Œè€Œæ˜¯æ”¹ä¸ºSSHï¼Œå¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repository: https://github.com/username/username.github.io.git</span><br></pre></td></tr></table></figure></p>
<p>ä¿®æ”¹ä¸º<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repoï¼šgit@github.com:username/username.github.io.git</span><br></pre></td></tr></table></figure></p>
<p>ä¸€èˆ¬è¿™æ­¥åŸºæœ¬å°±å¯ä»¥éƒ¨ç½²äº†ï¼ï¼ï¼<br>å¦‚æœéƒ¨ç½²è¿˜æ˜¯å¤±è´¥ï¼Œå¯ä»¥è¯•è¯•å¦‚ä¸‹æ­¥éª¤ï¼ˆè¿˜æ˜¯ä¸è¡Œï¼Œå°±å¤šè¯•å‡ éã€‚ã€‚ã€‚æœ‰ç‚¹å‘ï¼‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åˆ é™¤.deploy_git</span><br><span class="line">$ hexo clean </span><br><span class="line">$ hexo g</span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure></p>
<p>æœ¬äººçš„é—®é¢˜æˆåŠŸè§£å†³äº†ï¼Œå¸Œæœ›å¸®åˆ°å¤§å®¶å“ˆå“ˆå“ˆå“ˆå“ˆå¼€å¿ƒï¼</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/07/24/hexoDeplayBug/" data-id="ck0qpey4i000hkkkcl1rr27m1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blog-hexo/">blog-hexo</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-blogInit" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/07/24/blogInit/" class="article-date">
  <time datetime="2019-07-24T06:44:05.000Z" itemprop="datePublished">2019-07-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/07/24/blogInit/">åŸºäºHEXOåšå®¢æ¡†æ¶å’ŒGithubæ­å»ºä¸ªäººåšå®¢ç®€å•æ•™ç¨‹</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Author: Echo<br>Time: 2019-07-24 14:44:23</p>
<h3 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h3><p>é…ç½®ç¯å¢ƒ</p>
<ul>
<li>å®‰è£…Node.js</li>
<li>å®‰è£…Git</li>
<li>æ³¨å†ŒGitHub</li>
</ul>
<h1 id="Hexo-éƒ¨åˆ†"><a href="#Hexo-éƒ¨åˆ†" class="headerlink" title="Hexo éƒ¨åˆ†"></a>Hexo éƒ¨åˆ†</h1><h3 id="Hexoç®€ä»‹"><a href="#Hexoç®€ä»‹" class="headerlink" title="Hexoç®€ä»‹"></a>Hexoç®€ä»‹</h3><p>Hexo æ˜¯ä¸€ä¸ªè½»é‡çš„é™æ€åšå®¢æ¡†æ¶ã€‚é€šè¿‡Hexoå¯ä»¥å¿«é€Ÿç”Ÿæˆä¸€ä¸ªé™æ€åšå®¢æ¡†æ¶,ä»…éœ€è¦å‡ æ¡å‘½ä»¤å°±å¯ä»¥å®Œæˆ,ç›¸å½“æ–¹ä¾¿ã€‚<br>è€Œæ¶è®¾Hexoçš„ç¯å¢ƒæ›´ç®€å•äº† ä¸éœ€è¦ lnmp/lamp/XAMPP è¿™äº›ç¹çå¤æ‚çš„ç¯å¢ƒ ä»…ä»…éœ€è¦ä¸€ä¸ªç®€å•çš„httpæœåŠ¡å™¨å³å¯ä½¿ç”¨ æˆ–è€…ä½¿ç”¨äº’è”ç½‘ä¸Šå…è´¹çš„é¡µé¢æ‰˜ç®¡æœåŠ¡</p>
<h3 id="Hexoå®‰è£…æ–¹æ³•"><a href="#Hexoå®‰è£…æ–¹æ³•" class="headerlink" title="Hexoå®‰è£…æ–¹æ³•"></a>Hexoå®‰è£…æ–¹æ³•</h3><p>å‚è€ƒå®˜ç½‘ä¸­æ–‡æ–‡æ¡£,åªéœ€è¦ä¸€æ¡å‘½ä»¤å³å¯è‡ªåŠ¨å®‰è£…hexoæ¡†æ¶ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli #ä½¿ç”¨ npm å®‰è£… Hexo</span><br></pre></td></tr></table></figure></p>
<ul>
<li><p>åˆå§‹åŒ–<br>åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå¦‚ï¼šBlogï¼Œcdåˆ°Blogé‡Œæ‰§è¡Œhexo initçš„ã€‚å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”Ÿæˆé™æ€é¡µé¢<br>ç»§ç»­å†Blogç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼Œç”Ÿæˆé™æ€é¡µé¢</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate ï¼ˆæˆ–è€… hexo gï¼‰</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ¬åœ°å¯åŠ¨<br>å¯åŠ¨æœ¬åœ°æœåŠ¡ï¼Œè¿›è¡Œæ–‡ç« é¢„è§ˆè°ƒè¯•ï¼Œå‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure>
</li>
<li><p>æœ¬åœ°æµ‹è¯•</p>
</li>
</ul>
<p>æµè§ˆå™¨è¾“å…¥ <a href="http://localhost:4000" target="_blank" rel="noopener">http://localhost:4000</a></p>
<h1 id="Github-éƒ¨åˆ†"><a href="#Github-éƒ¨åˆ†" class="headerlink" title="Github éƒ¨åˆ†"></a>Github éƒ¨åˆ†</h1><ul>
<li>æ³¨å†Œgithub</li>
<li>æ–°å»ºä»“åº“<br>å»ºç«‹ä¸ä½ ç”¨æˆ·åå¯¹åº”çš„ä»“åº“ï¼Œä»“åº“åå¿…é¡»ä¸ºã€your_user_name.github.ioã€‘ï¼Œ å›ºå®šå†™æ³• !!!</li>
<li>æœ¬åœ°_config.ymlæ–‡é…ç½®ä»¶ï¼Œå»ºç«‹å…³è”<br>æˆ‘ä»¬éœ€è¦_config.ymlæ–‡ä»¶ï¼Œæ¥å»ºç«‹å…³è”(æ³¨æ„å†’å·åé¢è¦æœ‰ç©ºæ ¼)<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:  </span><br><span class="line">   type: git   </span><br><span class="line">   repository: https://github.com/leopardpan/  leopardpan.github.io.git  </span><br><span class="line">   branch: master</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h1 id="éƒ¨ç½²"><a href="#éƒ¨ç½²" class="headerlink" title="éƒ¨ç½²"></a>éƒ¨ç½²</h1><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤æ‰èƒ½ä½¿ç”¨gitéƒ¨ç½²<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></p>
<p>(æˆ‘æ²¡ç”¨SSH Keyså¦‚æœä½ ç”¨äº†SSH Keysçš„è¯ç›´æ¥åœ¨githubé‡Œå¤åˆ¶SSHçš„å°±è¡Œäº†ï¼Œæ€»å…±å°±ä¸¤ç§åè®®ï¼Œç›¸ä¿¡ä½ æ‡‚çš„ã€‚)<br>æ‰§è¡Œé…ç½®å‘½ä»¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></p>
<p>ç„¶åå†æµè§ˆå™¨ä¸­è¾“å…¥<a href="http://username.github.io/å°±è¡Œäº†ï¼ŒæŠŠ" target="_blank" rel="noopener">http://username.github.io/å°±è¡Œäº†ï¼ŒæŠŠ</a> username ,æ”¹æˆä½  github çš„è´¦æˆ·åå°±è¡Œäº†</p>
<p>å‘æ–‡ç« <br>æ¯æ¬¡éƒ¨ç½²çš„æ­¥éª¤ï¼Œå¯æŒ‰ä»¥ä¸‹ä¸‰æ­¥æ¥è¿›è¡Œã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean  </span><br><span class="line">hexo generate  </span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure></p>
<p>ä¸€äº›å¸¸ç”¨å‘½ä»¤ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;postName&quot; #æ–°å»ºæ–‡ç«   </span><br><span class="line">hexo new page &quot;pageName&quot; #æ–°å»ºé¡µé¢  </span><br><span class="line">hexo generate #ç”Ÿæˆé™æ€é¡µé¢è‡³publicç›®å½•  </span><br><span class="line">hexo server #å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œ&apos;ctrl + c&apos;å…³é—­serverï¼‰  </span><br><span class="line">hexo deploy #å°†.deployç›®å½•éƒ¨ç½²åˆ°GitHub  </span><br><span class="line">hexo help  #æŸ¥çœ‹å¸®åŠ©  </span><br><span class="line">hexo version  #æŸ¥çœ‹Hexoçš„ç‰ˆæœ¬</span><br></pre></td></tr></table></figure></p>
<p>å‚è€ƒï¼š</p>
<p><a href="http://www.jianshu.com/p/465830080ea9" target="_blank" rel="noopener">http://www.jianshu.com/p/465830080ea9</a><br><a href="http://www.chinaz.com/web/2016/0105/491998.shtml" target="_blank" rel="noopener">http://www.chinaz.com/web/2016/0105/491998.shtml</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/07/24/blogInit/" data-id="ck0qpey4a000ckkkcjtrxs4rg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/blog-hexo/">blog-hexo</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/blog-hexo/">blog-hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6/">es6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/node/">node</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/npm/">npm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/">web</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/å‰ç«¯é¢è¯•é¢˜/">å‰ç«¯é¢è¯•é¢˜</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/blog-hexo/" style="font-size: 13.33px;">blog-hexo</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/es6/" style="font-size: 10px;">es6</a> <a href="/tags/js/" style="font-size: 13.33px;">js</a> <a href="/tags/node/" style="font-size: 10px;">node</a> <a href="/tags/npm/" style="font-size: 10px;">npm</a> <a href="/tags/vue/" style="font-size: 16.67px;">vue</a> <a href="/tags/web/" style="font-size: 10px;">web</a> <a href="/tags/å‰ç«¯é¢è¯•é¢˜/" style="font-size: 20px;">å‰ç«¯é¢è¯•é¢˜</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/09/19/web/">å‰ç«¯é¢è¯•é¢˜æ±‡æ€»</a>
          </li>
        
          <li>
            <a href="/2019/09/19/css/">å‰ç«¯cssç›¸å…³é¢è¯•é¢˜æ±‡æ€»</a>
          </li>
        
          <li>
            <a href="/2019/09/19/vue/">vueç›¸å…³é¢è¯•é¢˜æ±‡æ€»</a>
          </li>
        
          <li>
            <a href="/2019/09/19/js/">å‰ç«¯jsç›¸å…³é¢è¯•é¢˜æ±‡æ€»</a>
          </li>
        
          <li>
            <a href="/2019/09/19/cssTitle/">cssç›¸å…³é¢è¯•é¢˜</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>